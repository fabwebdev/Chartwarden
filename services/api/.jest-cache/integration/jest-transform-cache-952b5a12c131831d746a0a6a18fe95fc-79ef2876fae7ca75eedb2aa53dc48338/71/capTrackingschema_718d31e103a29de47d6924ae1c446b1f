c99e3256ee3fb072f83cbb53024b0861
/* istanbul ignore next */
function cov_i4i0b4dic() {
  var path = "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/db/schemas/capTracking.schema.js";
  var hash = "fc253cf0f2faa1875ee4dc012ddc1adcb14e04b9";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/db/schemas/capTracking.schema.js",
    statementMap: {
      "0": {
        start: {
          line: 12,
          column: 28
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "1": {
        start: {
          line: 14,
          column: 72
        },
        end: {
          line: 14,
          column: 83
        }
      },
      "2": {
        start: {
          line: 51,
          column: 56
        },
        end: {
          line: 51,
          column: 64
        }
      },
      "3": {
        start: {
          line: 52,
          column: 56
        },
        end: {
          line: 52,
          column: 64
        }
      },
      "4": {
        start: {
          line: 56,
          column: 15
        },
        end: {
          line: 59,
          column: 1
        }
      },
      "5": {
        start: {
          line: 66,
          column: 36
        },
        end: {
          line: 92,
          column: 2
        }
      },
      "6": {
        start: {
          line: 68,
          column: 84
        },
        end: {
          line: 68,
          column: 101
        }
      },
      "7": {
        start: {
          line: 69,
          column: 72
        },
        end: {
          line: 69,
          column: 83
        }
      },
      "8": {
        start: {
          line: 89,
          column: 56
        },
        end: {
          line: 89,
          column: 64
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 14,
            column: 66
          },
          end: {
            line: 14,
            column: 67
          }
        },
        loc: {
          start: {
            line: 14,
            column: 72
          },
          end: {
            line: 14,
            column: 83
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 51,
            column: 50
          },
          end: {
            line: 51,
            column: 51
          }
        },
        loc: {
          start: {
            line: 51,
            column: 56
          },
          end: {
            line: 51,
            column: 64
          }
        },
        line: 51
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 52,
            column: 50
          },
          end: {
            line: 52,
            column: 51
          }
        },
        loc: {
          start: {
            line: 52,
            column: 56
          },
          end: {
            line: 52,
            column: 64
          }
        },
        line: 52
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 56,
            column: 3
          },
          end: {
            line: 56,
            column: 4
          }
        },
        loc: {
          start: {
            line: 56,
            column: 15
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 56
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 68,
            column: 78
          },
          end: {
            line: 68,
            column: 79
          }
        },
        loc: {
          start: {
            line: 68,
            column: 84
          },
          end: {
            line: 68,
            column: 101
          }
        },
        line: 68
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 69,
            column: 66
          },
          end: {
            line: 69,
            column: 67
          }
        },
        loc: {
          start: {
            line: 69,
            column: 72
          },
          end: {
            line: 69,
            column: 83
          }
        },
        line: 69
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 89,
            column: 50
          },
          end: {
            line: 89,
            column: 51
          }
        },
        loc: {
          start: {
            line: 89,
            column: 56
          },
          end: {
            line: 89,
            column: 64
          }
        },
        line: 89
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {},
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fc253cf0f2faa1875ee4dc012ddc1adcb14e04b9"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_i4i0b4dic = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_i4i0b4dic();
import { pgTable, bigint, varchar, text, timestamp, boolean, jsonb, integer, date, numeric, uniqueIndex } from 'drizzle-orm/pg-core';
import { patients } from './patient.schema.js';
import { users } from './user.schema.js';
import { certifications } from './certifications.schema.js';

/**
 * Cap Tracking Table
 * Tracks Medicare hospice cap amount per beneficiary per cap year
 * CMS Requirement: Cap year runs Oct 1 - Sep 30
 * FY 2025 Cap: $34,465.34 per beneficiary
 */
export const cap_tracking =
/* istanbul ignore next */
(cov_i4i0b4dic().s[0]++, pgTable('cap_tracking', {
  id: bigint('id', {
    mode: 'number'
  }).primaryKey().generatedByDefaultAsIdentity(),
  patient_id: bigint('patient_id', {
    mode: 'number'
  }).references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[0]++;
    cov_i4i0b4dic().s[1]++;
    return patients.id;
  }).notNull(),
  // Cap year (Oct 1 - Sep 30)
  cap_year: integer('cap_year').notNull(),
  // e.g., 2025 for cap year 2024-2025
  cap_year_start_date: date('cap_year_start_date').notNull(),
  // Oct 1
  cap_year_end_date: date('cap_year_end_date').notNull(),
  // Sep 30

  // Cap amount (in cents for precision)
  cap_amount_cents: integer('cap_amount_cents').notNull(),
  // $34,465.34 = 3446534 cents
  total_payments_cents: integer('total_payments_cents').default(0).notNull(),
  // Total payments applied in cap year
  remaining_cap_cents: integer('remaining_cap_cents').notNull(),
  // Remaining cap amount

  // Cap utilization percentage (for easier querying)
  utilization_percentage: numeric('utilization_percentage', {
    precision: 5,
    scale: 2
  }).default('0'),
  // e.g., 85.50 for 85.5%

  // Cap exceeded tracking
  cap_exceeded: boolean('cap_exceeded').default(false).notNull(),
  cap_exceeded_date: date('cap_exceeded_date'),
  cap_exceeded_amount_cents: integer('cap_exceeded_amount_cents'),
  // Amount over cap

  // Alert thresholds tracking
  alert_80_triggered: boolean('alert_80_triggered').default(false),
  alert_80_date: timestamp('alert_80_date'),
  alert_90_triggered: boolean('alert_90_triggered').default(false),
  alert_90_date: timestamp('alert_90_date'),
  alert_95_triggered: boolean('alert_95_triggered').default(false),
  alert_95_date: timestamp('alert_95_date'),
  // Calculation tracking
  last_calculated_at: timestamp('last_calculated_at'),
  calculation_status: varchar('calculation_status', {
    length: 50
  }).default('CURRENT'),
  // CURRENT, PENDING_RECALC, ERROR

  // Notes and metadata
  notes: text('notes'),
  metadata: jsonb('metadata'),
  // Audit fields
  created_by_id: text('created_by_id').references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[1]++;
    cov_i4i0b4dic().s[2]++;
    return users.id;
  }),
  updated_by_id: text('updated_by_id').references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[2]++;
    cov_i4i0b4dic().s[3]++;
    return users.id;
  }),
  deleted_at: timestamp('deleted_at'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull()
}, table => {
  /* istanbul ignore next */
  cov_i4i0b4dic().f[3]++;
  cov_i4i0b4dic().s[4]++;
  return {
    // Unique constraint: one record per patient per cap year
    uniquePatientYear: uniqueIndex('unique_patient_cap_year').on(table.patient_id, table.cap_year)
  };
}));

/**
 * Certification Alerts Table
 * Tracks alerts sent for upcoming certifications and face-to-face requirements
 * Requirement: Alert 5 days before benefit period start
 */
export const certification_alerts =
/* istanbul ignore next */
(cov_i4i0b4dic().s[5]++, pgTable('certification_alerts', {
  id: bigint('id', {
    mode: 'number'
  }).primaryKey().generatedByDefaultAsIdentity(),
  certification_id: bigint('certification_id', {
    mode: 'number'
  }).references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[4]++;
    cov_i4i0b4dic().s[6]++;
    return certifications.id;
  }).notNull(),
  patient_id: bigint('patient_id', {
    mode: 'number'
  }).references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[5]++;
    cov_i4i0b4dic().s[7]++;
    return patients.id;
  }).notNull(),
  // Alert details
  alert_type: varchar('alert_type', {
    length: 50
  }).notNull(),
  // UPCOMING_CERT, OVERDUE_CERT, F2F_REQUIRED, F2F_OVERDUE
  alert_priority: varchar('alert_priority', {
    length: 50
  }).default('NORMAL'),
  // NORMAL, HIGH, CRITICAL

  // Timing
  scheduled_for: timestamp('scheduled_for').notNull(),
  sent_at: timestamp('sent_at'),
  alert_status: varchar('alert_status', {
    length: 50
  }).default('PENDING'),
  // PENDING, SENT, FAILED, DISMISSED

  // Recipients
  recipients: jsonb('recipients'),
  // Array of user IDs or email addresses

  // Alert content
  subject: varchar('subject', {
    length: 255
  }),
  message: text('message'),
  metadata: jsonb('metadata'),
  // Audit fields
  created_by_id: text('created_by_id').references(() => {
    /* istanbul ignore next */
    cov_i4i0b4dic().f[6]++;
    cov_i4i0b4dic().s[8]++;
    return users.id;
  }),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull()
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaTRpMGI0ZGljIiwiYWN0dWFsQ292ZXJhZ2UiLCJwZ1RhYmxlIiwiYmlnaW50IiwidmFyY2hhciIsInRleHQiLCJ0aW1lc3RhbXAiLCJib29sZWFuIiwianNvbmIiLCJpbnRlZ2VyIiwiZGF0ZSIsIm51bWVyaWMiLCJ1bmlxdWVJbmRleCIsInBhdGllbnRzIiwidXNlcnMiLCJjZXJ0aWZpY2F0aW9ucyIsImNhcF90cmFja2luZyIsInMiLCJpZCIsIm1vZGUiLCJwcmltYXJ5S2V5IiwiZ2VuZXJhdGVkQnlEZWZhdWx0QXNJZGVudGl0eSIsInBhdGllbnRfaWQiLCJyZWZlcmVuY2VzIiwiZiIsIm5vdE51bGwiLCJjYXBfeWVhciIsImNhcF95ZWFyX3N0YXJ0X2RhdGUiLCJjYXBfeWVhcl9lbmRfZGF0ZSIsImNhcF9hbW91bnRfY2VudHMiLCJ0b3RhbF9wYXltZW50c19jZW50cyIsImRlZmF1bHQiLCJyZW1haW5pbmdfY2FwX2NlbnRzIiwidXRpbGl6YXRpb25fcGVyY2VudGFnZSIsInByZWNpc2lvbiIsInNjYWxlIiwiY2FwX2V4Y2VlZGVkIiwiY2FwX2V4Y2VlZGVkX2RhdGUiLCJjYXBfZXhjZWVkZWRfYW1vdW50X2NlbnRzIiwiYWxlcnRfODBfdHJpZ2dlcmVkIiwiYWxlcnRfODBfZGF0ZSIsImFsZXJ0XzkwX3RyaWdnZXJlZCIsImFsZXJ0XzkwX2RhdGUiLCJhbGVydF85NV90cmlnZ2VyZWQiLCJhbGVydF85NV9kYXRlIiwibGFzdF9jYWxjdWxhdGVkX2F0IiwiY2FsY3VsYXRpb25fc3RhdHVzIiwibGVuZ3RoIiwibm90ZXMiLCJtZXRhZGF0YSIsImNyZWF0ZWRfYnlfaWQiLCJ1cGRhdGVkX2J5X2lkIiwiZGVsZXRlZF9hdCIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJ0YWJsZSIsInVuaXF1ZVBhdGllbnRZZWFyIiwib24iLCJjZXJ0aWZpY2F0aW9uX2FsZXJ0cyIsImNlcnRpZmljYXRpb25faWQiLCJhbGVydF90eXBlIiwiYWxlcnRfcHJpb3JpdHkiLCJzY2hlZHVsZWRfZm9yIiwic2VudF9hdCIsImFsZXJ0X3N0YXR1cyIsInJlY2lwaWVudHMiLCJzdWJqZWN0IiwibWVzc2FnZSJdLCJzb3VyY2VzIjpbImNhcFRyYWNraW5nLnNjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCBiaWdpbnQsIHZhcmNoYXIsIHRleHQsIHRpbWVzdGFtcCwgYm9vbGVhbiwganNvbmIsIGludGVnZXIsIGRhdGUsIG51bWVyaWMsIHVuaXF1ZUluZGV4IH0gZnJvbSAnZHJpenpsZS1vcm0vcGctY29yZSc7XG5pbXBvcnQgeyBwYXRpZW50cyB9IGZyb20gJy4vcGF0aWVudC5zY2hlbWEuanMnO1xuaW1wb3J0IHsgdXNlcnMgfSBmcm9tICcuL3VzZXIuc2NoZW1hLmpzJztcbmltcG9ydCB7IGNlcnRpZmljYXRpb25zIH0gZnJvbSAnLi9jZXJ0aWZpY2F0aW9ucy5zY2hlbWEuanMnO1xuXG4vKipcbiAqIENhcCBUcmFja2luZyBUYWJsZVxuICogVHJhY2tzIE1lZGljYXJlIGhvc3BpY2UgY2FwIGFtb3VudCBwZXIgYmVuZWZpY2lhcnkgcGVyIGNhcCB5ZWFyXG4gKiBDTVMgUmVxdWlyZW1lbnQ6IENhcCB5ZWFyIHJ1bnMgT2N0IDEgLSBTZXAgMzBcbiAqIEZZIDIwMjUgQ2FwOiAkMzQsNDY1LjM0IHBlciBiZW5lZmljaWFyeVxuICovXG5leHBvcnQgY29uc3QgY2FwX3RyYWNraW5nID0gcGdUYWJsZSgnY2FwX3RyYWNraW5nJywge1xuICBpZDogYmlnaW50KCdpZCcsIHsgbW9kZTogJ251bWJlcicgfSkucHJpbWFyeUtleSgpLmdlbmVyYXRlZEJ5RGVmYXVsdEFzSWRlbnRpdHkoKSxcbiAgcGF0aWVudF9pZDogYmlnaW50KCdwYXRpZW50X2lkJywgeyBtb2RlOiAnbnVtYmVyJyB9KS5yZWZlcmVuY2VzKCgpID0+IHBhdGllbnRzLmlkKS5ub3ROdWxsKCksXG5cbiAgLy8gQ2FwIHllYXIgKE9jdCAxIC0gU2VwIDMwKVxuICBjYXBfeWVhcjogaW50ZWdlcignY2FwX3llYXInKS5ub3ROdWxsKCksIC8vIGUuZy4sIDIwMjUgZm9yIGNhcCB5ZWFyIDIwMjQtMjAyNVxuICBjYXBfeWVhcl9zdGFydF9kYXRlOiBkYXRlKCdjYXBfeWVhcl9zdGFydF9kYXRlJykubm90TnVsbCgpLCAvLyBPY3QgMVxuICBjYXBfeWVhcl9lbmRfZGF0ZTogZGF0ZSgnY2FwX3llYXJfZW5kX2RhdGUnKS5ub3ROdWxsKCksIC8vIFNlcCAzMFxuXG4gIC8vIENhcCBhbW91bnQgKGluIGNlbnRzIGZvciBwcmVjaXNpb24pXG4gIGNhcF9hbW91bnRfY2VudHM6IGludGVnZXIoJ2NhcF9hbW91bnRfY2VudHMnKS5ub3ROdWxsKCksIC8vICQzNCw0NjUuMzQgPSAzNDQ2NTM0IGNlbnRzXG4gIHRvdGFsX3BheW1lbnRzX2NlbnRzOiBpbnRlZ2VyKCd0b3RhbF9wYXltZW50c19jZW50cycpLmRlZmF1bHQoMCkubm90TnVsbCgpLCAvLyBUb3RhbCBwYXltZW50cyBhcHBsaWVkIGluIGNhcCB5ZWFyXG4gIHJlbWFpbmluZ19jYXBfY2VudHM6IGludGVnZXIoJ3JlbWFpbmluZ19jYXBfY2VudHMnKS5ub3ROdWxsKCksIC8vIFJlbWFpbmluZyBjYXAgYW1vdW50XG5cbiAgLy8gQ2FwIHV0aWxpemF0aW9uIHBlcmNlbnRhZ2UgKGZvciBlYXNpZXIgcXVlcnlpbmcpXG4gIHV0aWxpemF0aW9uX3BlcmNlbnRhZ2U6IG51bWVyaWMoJ3V0aWxpemF0aW9uX3BlcmNlbnRhZ2UnLCB7IHByZWNpc2lvbjogNSwgc2NhbGU6IDIgfSkuZGVmYXVsdCgnMCcpLCAvLyBlLmcuLCA4NS41MCBmb3IgODUuNSVcblxuICAvLyBDYXAgZXhjZWVkZWQgdHJhY2tpbmdcbiAgY2FwX2V4Y2VlZGVkOiBib29sZWFuKCdjYXBfZXhjZWVkZWQnKS5kZWZhdWx0KGZhbHNlKS5ub3ROdWxsKCksXG4gIGNhcF9leGNlZWRlZF9kYXRlOiBkYXRlKCdjYXBfZXhjZWVkZWRfZGF0ZScpLFxuICBjYXBfZXhjZWVkZWRfYW1vdW50X2NlbnRzOiBpbnRlZ2VyKCdjYXBfZXhjZWVkZWRfYW1vdW50X2NlbnRzJyksIC8vIEFtb3VudCBvdmVyIGNhcFxuXG4gIC8vIEFsZXJ0IHRocmVzaG9sZHMgdHJhY2tpbmdcbiAgYWxlcnRfODBfdHJpZ2dlcmVkOiBib29sZWFuKCdhbGVydF84MF90cmlnZ2VyZWQnKS5kZWZhdWx0KGZhbHNlKSxcbiAgYWxlcnRfODBfZGF0ZTogdGltZXN0YW1wKCdhbGVydF84MF9kYXRlJyksXG4gIGFsZXJ0XzkwX3RyaWdnZXJlZDogYm9vbGVhbignYWxlcnRfOTBfdHJpZ2dlcmVkJykuZGVmYXVsdChmYWxzZSksXG4gIGFsZXJ0XzkwX2RhdGU6IHRpbWVzdGFtcCgnYWxlcnRfOTBfZGF0ZScpLFxuICBhbGVydF85NV90cmlnZ2VyZWQ6IGJvb2xlYW4oJ2FsZXJ0Xzk1X3RyaWdnZXJlZCcpLmRlZmF1bHQoZmFsc2UpLFxuICBhbGVydF85NV9kYXRlOiB0aW1lc3RhbXAoJ2FsZXJ0Xzk1X2RhdGUnKSxcblxuICAvLyBDYWxjdWxhdGlvbiB0cmFja2luZ1xuICBsYXN0X2NhbGN1bGF0ZWRfYXQ6IHRpbWVzdGFtcCgnbGFzdF9jYWxjdWxhdGVkX2F0JyksXG4gIGNhbGN1bGF0aW9uX3N0YXR1czogdmFyY2hhcignY2FsY3VsYXRpb25fc3RhdHVzJywgeyBsZW5ndGg6IDUwIH0pLmRlZmF1bHQoJ0NVUlJFTlQnKSwgLy8gQ1VSUkVOVCwgUEVORElOR19SRUNBTEMsIEVSUk9SXG5cbiAgLy8gTm90ZXMgYW5kIG1ldGFkYXRhXG4gIG5vdGVzOiB0ZXh0KCdub3RlcycpLFxuICBtZXRhZGF0YToganNvbmIoJ21ldGFkYXRhJyksXG5cbiAgLy8gQXVkaXQgZmllbGRzXG4gIGNyZWF0ZWRfYnlfaWQ6IHRleHQoJ2NyZWF0ZWRfYnlfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgdXBkYXRlZF9ieV9pZDogdGV4dCgndXBkYXRlZF9ieV9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBkZWxldGVkX2F0OiB0aW1lc3RhbXAoJ2RlbGV0ZWRfYXQnKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKClcbn0sICh0YWJsZSkgPT4gKHtcbiAgLy8gVW5pcXVlIGNvbnN0cmFpbnQ6IG9uZSByZWNvcmQgcGVyIHBhdGllbnQgcGVyIGNhcCB5ZWFyXG4gIHVuaXF1ZVBhdGllbnRZZWFyOiB1bmlxdWVJbmRleCgndW5pcXVlX3BhdGllbnRfY2FwX3llYXInKS5vbih0YWJsZS5wYXRpZW50X2lkLCB0YWJsZS5jYXBfeWVhcilcbn0pKTtcblxuLyoqXG4gKiBDZXJ0aWZpY2F0aW9uIEFsZXJ0cyBUYWJsZVxuICogVHJhY2tzIGFsZXJ0cyBzZW50IGZvciB1cGNvbWluZyBjZXJ0aWZpY2F0aW9ucyBhbmQgZmFjZS10by1mYWNlIHJlcXVpcmVtZW50c1xuICogUmVxdWlyZW1lbnQ6IEFsZXJ0IDUgZGF5cyBiZWZvcmUgYmVuZWZpdCBwZXJpb2Qgc3RhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IGNlcnRpZmljYXRpb25fYWxlcnRzID0gcGdUYWJsZSgnY2VydGlmaWNhdGlvbl9hbGVydHMnLCB7XG4gIGlkOiBiaWdpbnQoJ2lkJywgeyBtb2RlOiAnbnVtYmVyJyB9KS5wcmltYXJ5S2V5KCkuZ2VuZXJhdGVkQnlEZWZhdWx0QXNJZGVudGl0eSgpLFxuICBjZXJ0aWZpY2F0aW9uX2lkOiBiaWdpbnQoJ2NlcnRpZmljYXRpb25faWQnLCB7IG1vZGU6ICdudW1iZXInIH0pLnJlZmVyZW5jZXMoKCkgPT4gY2VydGlmaWNhdGlvbnMuaWQpLm5vdE51bGwoKSxcbiAgcGF0aWVudF9pZDogYmlnaW50KCdwYXRpZW50X2lkJywgeyBtb2RlOiAnbnVtYmVyJyB9KS5yZWZlcmVuY2VzKCgpID0+IHBhdGllbnRzLmlkKS5ub3ROdWxsKCksXG5cbiAgLy8gQWxlcnQgZGV0YWlsc1xuICBhbGVydF90eXBlOiB2YXJjaGFyKCdhbGVydF90eXBlJywgeyBsZW5ndGg6IDUwIH0pLm5vdE51bGwoKSwgLy8gVVBDT01JTkdfQ0VSVCwgT1ZFUkRVRV9DRVJULCBGMkZfUkVRVUlSRUQsIEYyRl9PVkVSRFVFXG4gIGFsZXJ0X3ByaW9yaXR5OiB2YXJjaGFyKCdhbGVydF9wcmlvcml0eScsIHsgbGVuZ3RoOiA1MCB9KS5kZWZhdWx0KCdOT1JNQUwnKSwgLy8gTk9STUFMLCBISUdILCBDUklUSUNBTFxuXG4gIC8vIFRpbWluZ1xuICBzY2hlZHVsZWRfZm9yOiB0aW1lc3RhbXAoJ3NjaGVkdWxlZF9mb3InKS5ub3ROdWxsKCksXG4gIHNlbnRfYXQ6IHRpbWVzdGFtcCgnc2VudF9hdCcpLFxuICBhbGVydF9zdGF0dXM6IHZhcmNoYXIoJ2FsZXJ0X3N0YXR1cycsIHsgbGVuZ3RoOiA1MCB9KS5kZWZhdWx0KCdQRU5ESU5HJyksIC8vIFBFTkRJTkcsIFNFTlQsIEZBSUxFRCwgRElTTUlTU0VEXG5cbiAgLy8gUmVjaXBpZW50c1xuICByZWNpcGllbnRzOiBqc29uYigncmVjaXBpZW50cycpLCAvLyBBcnJheSBvZiB1c2VyIElEcyBvciBlbWFpbCBhZGRyZXNzZXNcblxuICAvLyBBbGVydCBjb250ZW50XG4gIHN1YmplY3Q6IHZhcmNoYXIoJ3N1YmplY3QnLCB7IGxlbmd0aDogMjU1IH0pLFxuICBtZXNzYWdlOiB0ZXh0KCdtZXNzYWdlJyksXG4gIG1ldGFkYXRhOiBqc29uYignbWV0YWRhdGEnKSxcblxuICAvLyBBdWRpdCBmaWVsZHNcbiAgY3JlYXRlZF9ieV9pZDogdGV4dCgnY3JlYXRlZF9ieV9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0JykuZGVmYXVsdE5v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