{"version":3,"names":["cov_1imq8sam3s","actualCoverage","controller","PERMISSIONS","requireAnyPermission","claimValidationRoutes","fastify","options","f","s","get","preHandler","VIEW_CLINICAL_NOTES","getValidationRules","getFailingClaims","post","UPDATE_CLINICAL_NOTES","batchScrubClaims","getBatchValidationReport","getComplianceReport","getErrorTrendReport","scrubClaim","validateComprehensive","getLatestValidationResults","getValidationHistory","getClaimValidationReport","autoFixClaim"],"sources":["claimValidation.routes.js"],"sourcesContent":["import controller from '../controllers/ClaimValidation.controller.js';\nimport { PERMISSIONS } from '../config/rbac.js';\nimport { requireAnyPermission } from '../middleware/rbac.middleware.js';\n\n/**\n * Claim Validation Routes\n * Phase 2B/3B - Claim Scrubbing System with HIPAA 837 Compliance\n *\n * Comprehensive pre-submission claim validation with auto-fix capability\n * Features:\n *   - 50+ validation rules (HIPAA 837, coverage, coding standards)\n *   - Field-level error reporting with suggestions\n *   - Auto-fix capability for common errors\n *   - Validation history tracking\n *   - Batch scrubbing for multiple claims\n *   - HIPAA 837I compliance validation\n *   - Coverage requirement validation (NOE, eligibility, benefit periods)\n *   - Coding standard validation (ICD-10, revenue codes, HCPCS)\n *   - Comprehensive report generation (detailed, summary, CSV)\n *\n * Endpoints:\n * - POST /api/claims/:id/scrub - Scrub single claim (with comprehensive validation)\n * - POST /api/claims/:id/validate-comprehensive - Run only comprehensive validation\n * - GET /api/claims/:id/validation-results - Get latest validation results\n * - GET /api/claims/:id/validation-history - Get validation history\n * - POST /api/claims/:id/auto-fix - Auto-fix claim errors\n * - GET /api/claims/failed-validation - Get claims failing validation\n * - POST /api/claims/batch-scrub - Batch scrub claims\n * - GET /api/claims/validation-rules - Get available validation rules\n * - GET /api/claims/:id/validation-report - Generate claim validation report\n * - GET /api/claims/validation-report/batch - Generate batch validation report\n * - GET /api/claims/validation-report/compliance - Generate compliance audit report\n * - GET /api/claims/validation-report/trends - Generate error trend report\n */\nexport default async function claimValidationRoutes(fastify, options) {\n\n  // Get available validation rules (must be before parameterized routes)\n  fastify.get('/claims/validation-rules', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getValidationRules);\n\n  // Get all claims failing validation (must be before parameterized routes)\n  fastify.get('/claims/failed-validation', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getFailingClaims);\n\n  // Batch scrub claims (must be before parameterized routes)\n  fastify.post('/claims/batch-scrub', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.batchScrubClaims);\n\n  // Report endpoints (must be before parameterized routes)\n  // Batch validation report\n  fastify.get('/claims/validation-report/batch', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getBatchValidationReport);\n\n  // Compliance audit report\n  fastify.get('/claims/validation-report/compliance', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getComplianceReport);\n\n  // Error trend report\n  fastify.get('/claims/validation-report/trends', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getErrorTrendReport);\n\n  // Scrub claim - Run comprehensive validation\n  fastify.post('/claims/:id/scrub', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.scrubClaim);\n\n  // Validate claim comprehensively - Direct access to HIPAA/coverage/coding rules\n  fastify.post('/claims/:id/validate-comprehensive', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.validateComprehensive);\n\n  // Get latest validation results for claim\n  fastify.get('/claims/:id/validation-results', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getLatestValidationResults);\n\n  // Get validation history for claim\n  fastify.get('/claims/:id/validation-history', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getValidationHistory);\n\n  // Get claim validation report\n  fastify.get('/claims/:id/validation-report', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getClaimValidationReport);\n\n  // Auto-fix claim errors\n  fastify.post('/claims/:id/auto-fix', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.autoFixClaim);\n}\n"],"mappings":"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","ignoreList":[]}