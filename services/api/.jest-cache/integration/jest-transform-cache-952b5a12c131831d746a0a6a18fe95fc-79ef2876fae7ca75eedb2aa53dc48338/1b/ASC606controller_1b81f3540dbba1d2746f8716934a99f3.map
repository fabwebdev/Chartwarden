{"version":3,"names":["cov_qr1znkavv","actualCoverage","db","asc606_contracts","asc606_performance_obligations","asc606_transaction_prices","asc606_variable_consideration","asc606_price_allocations","asc606_daily_revenue_accruals","asc606_contract_modifications","asc606_revenue_schedules","asc606_deferrals","asc606_calculation_audit","asc606_reconciliation","eq","and","between","desc","sql","gte","lte","logger","ASC606Controller","createContract","req","res","f","s","userId","user","id","contractData","body","isValidContract","b","criteria_approval_commitment","criteria_rights_identified","criteria_payment_terms_identified","criteria_commercial_substance","criteria_collection_probable","contract","insert","values","is_valid_asc606_contract","validation_date","Date","contract_status","created_by_id","updated_by_id","returning","_createAuditEntry","contract_id","event_type","event_date","toISOString","split","event_description","contract_number","after_state","trigger_source","status","json","success","message","data","error","listContracts","payerId","validOnly","startDate","endDate","limit","offset","query","select","from","conditions","push","payer_id","parseInt","contract_start_date","contract_end_date","deleted_at","length","where","contracts","orderBy","created_at","count","getContract","params","obligations","transactionPrices","is_current","allocations","transactionPrice","updateContract","updateData","currentContract","updatedContract","update","set","updated_at","before_state","validateContract","validationNotes","criteria","approval_commitment","rights_identified","payment_terms_identified","commercial_substance","collection_probable","isValid","Object","every","v","failedCriteria","entries","filter","map","k","validation_notes","createObligation","obligationData","obligation","listObligations","satisfaction_status","obligation_number","updateObligation","updatedObligation","createTransactionPrice","priceData","superseded_date","effective_date","latestPrice","version","newVersion","getTransactionPrices","currentOnly","prices","allocatePrices","totalSSP","reduce","sum","a","standalone_selling_price","createdAllocations","alloc","relativeSspPercentage","Math","round","allocatedAmount","total_transaction_price","obligation_id","dailyAccrualRate","expected_duration_days","allocation","transaction_price_id","ssp_determination_method","ssp_observable_source","relative_ssp_percentage","allocated_amount","daily_accrual_rate","allocated_price","allocation_percentage","totalTransactionPrice","getAllocations","calculateDailyAccruals","contractId","contractQuery","accrualResults","start","end","date","setDate","getDate","accrualDate","obligation_start_date","obligation_end_date","existingAccrual","accrual_date","dailyRate","fiscalInfo","_getFiscalInfo","isLeapYear","_isLeapYear","fiscalYear","daysInMonth","_getDaysInMonth","isPartialPeriod","cumulativeResult","total","cumulativeRecognized","Number","remainingToRecognize","satisfactionPercentage","accrual","allocation_id","patient_id","fiscal_year","fiscal_quarter","fiscalQuarter","fiscal_month","fiscalMonth","period_label","periodLabel","is_leap_year","days_in_month","is_partial_period","recognition_pattern","base_daily_rate","adjustment_factor","adjusted_daily_amount","cumulative_recognized","remaining_to_recognize","satisfaction_percentage","calculation_timestamp","calculation_source","dateRange","contractsProcessed","getAccruals","period","accruals","summary","total_recognized","undefined","totalRecognized","totalRecords","createModification","modificationData","modification","previous_total_price","total_contract_value","modification_status","listModifications","modifications","modification_date","createReconciliation","reconciliationData","reconciliation","variance_amount","total_recognized_revenue","total_billed_revenue","variance_percentage","getReconciliation","year","getFullYear","month","getMonth","quarter","ceil","String","padStart","event_timestamp"],"sources":["ASC606.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  asc606_contracts,\n  asc606_performance_obligations,\n  asc606_transaction_prices,\n  asc606_variable_consideration,\n  asc606_price_allocations,\n  asc606_daily_revenue_accruals,\n  asc606_contract_modifications,\n  asc606_revenue_schedules,\n  asc606_deferrals,\n  asc606_calculation_audit,\n  asc606_reconciliation\n} from '../db/schemas/index.js';\nimport { eq, and, between, desc, sql, gte, lte } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\n\n/**\n * ASC 606 Revenue Recognition Controller\n *\n * Implements the FASB ASC 606 five-step model for revenue recognition:\n * 1. Identify the contract with a customer\n * 2. Identify the performance obligations in the contract\n * 3. Determine the transaction price\n * 4. Allocate the transaction price to performance obligations\n * 5. Recognize revenue when (or as) the entity satisfies a performance obligation\n *\n * Endpoints:\n *   Contracts (Step 1):\n *     - POST   /asc606/contracts                    - Create contract\n *     - GET    /asc606/contracts                    - List contracts\n *     - GET    /asc606/contracts/:id                - Get contract details\n *     - PUT    /asc606/contracts/:id                - Update contract\n *     - POST   /asc606/contracts/:id/validate       - Validate contract criteria\n *\n *   Performance Obligations (Step 2):\n *     - POST   /asc606/contracts/:id/obligations    - Create obligation\n *     - GET    /asc606/contracts/:id/obligations    - List obligations\n *     - PUT    /asc606/obligations/:id              - Update obligation\n *\n *   Transaction Prices (Step 3):\n *     - POST   /asc606/contracts/:id/prices         - Create/update price\n *     - GET    /asc606/contracts/:id/prices         - Get price history\n *\n *   Price Allocations (Step 4):\n *     - POST   /asc606/contracts/:id/allocate       - Allocate prices\n *     - GET    /asc606/contracts/:id/allocations    - Get allocations\n *\n *   Daily Accruals (Step 5):\n *     - POST   /asc606/accruals/calculate           - Calculate daily accruals\n *     - GET    /asc606/accruals                     - Get accruals for period\n *     - GET    /asc606/contracts/:id/accruals       - Get contract accruals\n *\n *   Contract Modifications:\n *     - POST   /asc606/contracts/:id/modifications  - Create modification\n *     - GET    /asc606/contracts/:id/modifications  - List modifications\n *\n *   Reconciliation:\n *     - POST   /asc606/reconciliation               - Create reconciliation\n *     - GET    /asc606/reconciliation/:period       - Get period reconciliation\n */\n\nclass ASC606Controller {\n  // ============================================\n  // CONTRACTS (STEP 1)\n  // ============================================\n\n  /**\n   * POST /api/asc606/contracts\n   * Create a new ASC 606 contract\n   */\n  async createContract(req, res) {\n    try {\n      const userId = req.user.id;\n      const contractData = req.body;\n\n      // Validate all 5 ASC 606 criteria and set is_valid_asc606_contract\n      const isValidContract =\n        contractData.criteria_approval_commitment &&\n        contractData.criteria_rights_identified &&\n        contractData.criteria_payment_terms_identified &&\n        contractData.criteria_commercial_substance &&\n        contractData.criteria_collection_probable;\n\n      const [contract] = await db.insert(asc606_contracts).values({\n        ...contractData,\n        is_valid_asc606_contract: isValidContract,\n        validation_date: isValidContract ? new Date() : null,\n        contract_status: isValidContract ? 'ACTIVE' : 'PENDING_VALIDATION',\n        created_by_id: userId,\n        updated_by_id: userId\n      }).returning();\n\n      // Create audit entry\n      await this._createAuditEntry({\n        contract_id: contract.id,\n        event_type: 'CALCULATION',\n        event_date: new Date().toISOString().split('T')[0],\n        event_description: `Contract ${contract.contract_number} created`,\n        after_state: contract,\n        trigger_source: 'MANUAL_ENTRY',\n        created_by_id: userId\n      });\n\n      res.status(201).json({\n        success: true,\n        message: 'ASC 606 contract created successfully',\n        data: contract\n      });\n    } catch (error) {\n      logger.error('Error creating ASC 606 contract:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create contract',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts\n   * List contracts with filters\n   */\n  async listContracts(req, res) {\n    try {\n      const { status, payerId, validOnly, startDate, endDate, limit = 50, offset = 0 } = req.query;\n\n      let query = db.select().from(asc606_contracts);\n      const conditions = [];\n\n      if (status) {\n        conditions.push(eq(asc606_contracts.contract_status, status));\n      }\n      if (payerId) {\n        conditions.push(eq(asc606_contracts.payer_id, parseInt(payerId)));\n      }\n      if (validOnly === 'true') {\n        conditions.push(eq(asc606_contracts.is_valid_asc606_contract, true));\n      }\n      if (startDate) {\n        conditions.push(gte(asc606_contracts.contract_start_date, startDate));\n      }\n      if (endDate) {\n        conditions.push(lte(asc606_contracts.contract_end_date, endDate));\n      }\n      conditions.push(sql`${asc606_contracts.deleted_at} IS NULL`);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const contracts = await query\n        .orderBy(desc(asc606_contracts.created_at))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      res.json({\n        success: true,\n        count: contracts.length,\n        data: contracts\n      });\n    } catch (error) {\n      logger.error('Error listing ASC 606 contracts:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to list contracts',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts/:id\n   * Get contract with all related data\n   */\n  async getContract(req, res) {\n    try {\n      const { id } = req.params;\n\n      const [contract] = await db.select()\n        .from(asc606_contracts)\n        .where(eq(asc606_contracts.id, parseInt(id)));\n\n      if (!contract) {\n        return res.status(404).json({\n          success: false,\n          error: 'Contract not found'\n        });\n      }\n\n      // Get related data\n      const obligations = await db.select()\n        .from(asc606_performance_obligations)\n        .where(eq(asc606_performance_obligations.contract_id, parseInt(id)));\n\n      const transactionPrices = await db.select()\n        .from(asc606_transaction_prices)\n        .where(and(\n          eq(asc606_transaction_prices.contract_id, parseInt(id)),\n          eq(asc606_transaction_prices.is_current, true)\n        ));\n\n      const allocations = await db.select()\n        .from(asc606_price_allocations)\n        .where(and(\n          eq(asc606_price_allocations.contract_id, parseInt(id)),\n          eq(asc606_price_allocations.is_current, true)\n        ));\n\n      res.json({\n        success: true,\n        data: {\n          contract,\n          obligations,\n          transactionPrice: transactionPrices[0] || null,\n          allocations\n        }\n      });\n    } catch (error) {\n      logger.error('Error getting ASC 606 contract:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to get contract',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * PUT /api/asc606/contracts/:id\n   * Update contract\n   */\n  async updateContract(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const updateData = req.body;\n\n      // Get current state for audit\n      const [currentContract] = await db.select()\n        .from(asc606_contracts)\n        .where(eq(asc606_contracts.id, parseInt(id)));\n\n      if (!currentContract) {\n        return res.status(404).json({\n          success: false,\n          error: 'Contract not found'\n        });\n      }\n\n      // Recalculate validity if criteria changed\n      const isValidContract =\n        (updateData.criteria_approval_commitment ?? currentContract.criteria_approval_commitment) &&\n        (updateData.criteria_rights_identified ?? currentContract.criteria_rights_identified) &&\n        (updateData.criteria_payment_terms_identified ?? currentContract.criteria_payment_terms_identified) &&\n        (updateData.criteria_commercial_substance ?? currentContract.criteria_commercial_substance) &&\n        (updateData.criteria_collection_probable ?? currentContract.criteria_collection_probable);\n\n      const [updatedContract] = await db.update(asc606_contracts)\n        .set({\n          ...updateData,\n          is_valid_asc606_contract: isValidContract,\n          updated_by_id: userId,\n          updated_at: new Date()\n        })\n        .where(eq(asc606_contracts.id, parseInt(id)))\n        .returning();\n\n      // Create audit entry\n      await this._createAuditEntry({\n        contract_id: parseInt(id),\n        event_type: 'ADJUSTMENT',\n        event_date: new Date().toISOString().split('T')[0],\n        event_description: `Contract ${currentContract.contract_number} updated`,\n        before_state: currentContract,\n        after_state: updatedContract,\n        trigger_source: 'MANUAL_ENTRY',\n        created_by_id: userId\n      });\n\n      res.json({\n        success: true,\n        message: 'Contract updated successfully',\n        data: updatedContract\n      });\n    } catch (error) {\n      logger.error('Error updating ASC 606 contract:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to update contract',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * POST /api/asc606/contracts/:id/validate\n   * Validate contract against ASC 606 criteria\n   */\n  async validateContract(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const { validationNotes } = req.body;\n\n      const [contract] = await db.select()\n        .from(asc606_contracts)\n        .where(eq(asc606_contracts.id, parseInt(id)));\n\n      if (!contract) {\n        return res.status(404).json({\n          success: false,\n          error: 'Contract not found'\n        });\n      }\n\n      // Check all 5 criteria\n      const criteria = {\n        approval_commitment: contract.criteria_approval_commitment,\n        rights_identified: contract.criteria_rights_identified,\n        payment_terms_identified: contract.criteria_payment_terms_identified,\n        commercial_substance: contract.criteria_commercial_substance,\n        collection_probable: contract.criteria_collection_probable\n      };\n\n      const isValid = Object.values(criteria).every(v => v === true);\n      const failedCriteria = Object.entries(criteria)\n        .filter(([, v]) => !v)\n        .map(([k]) => k);\n\n      const [updatedContract] = await db.update(asc606_contracts)\n        .set({\n          is_valid_asc606_contract: isValid,\n          validation_date: new Date(),\n          validation_notes: validationNotes || null,\n          contract_status: isValid ? 'ACTIVE' : 'PENDING_VALIDATION',\n          updated_by_id: userId,\n          updated_at: new Date()\n        })\n        .where(eq(asc606_contracts.id, parseInt(id)))\n        .returning();\n\n      res.json({\n        success: true,\n        message: isValid ? 'Contract validated successfully' : 'Contract validation failed',\n        data: {\n          contract: updatedContract,\n          criteria,\n          isValid,\n          failedCriteria\n        }\n      });\n    } catch (error) {\n      logger.error('Error validating ASC 606 contract:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to validate contract',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // PERFORMANCE OBLIGATIONS (STEP 2)\n  // ============================================\n\n  /**\n   * POST /api/asc606/contracts/:id/obligations\n   * Create performance obligation\n   */\n  async createObligation(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const obligationData = req.body;\n\n      // Verify contract exists\n      const [contract] = await db.select()\n        .from(asc606_contracts)\n        .where(eq(asc606_contracts.id, parseInt(id)));\n\n      if (!contract) {\n        return res.status(404).json({\n          success: false,\n          error: 'Contract not found'\n        });\n      }\n\n      const [obligation] = await db.insert(asc606_performance_obligations).values({\n        ...obligationData,\n        contract_id: parseInt(id),\n        created_by_id: userId,\n        updated_by_id: userId\n      }).returning();\n\n      res.status(201).json({\n        success: true,\n        message: 'Performance obligation created successfully',\n        data: obligation\n      });\n    } catch (error) {\n      logger.error('Error creating performance obligation:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create performance obligation',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts/:id/obligations\n   * List performance obligations for contract\n   */\n  async listObligations(req, res) {\n    try {\n      const { id } = req.params;\n      const { status } = req.query;\n\n      let query = db.select()\n        .from(asc606_performance_obligations)\n        .where(eq(asc606_performance_obligations.contract_id, parseInt(id)));\n\n      if (status) {\n        query = query.where(and(\n          eq(asc606_performance_obligations.contract_id, parseInt(id)),\n          eq(asc606_performance_obligations.satisfaction_status, status)\n        ));\n      }\n\n      const obligations = await query.orderBy(asc606_performance_obligations.obligation_number);\n\n      res.json({\n        success: true,\n        count: obligations.length,\n        data: obligations\n      });\n    } catch (error) {\n      logger.error('Error listing performance obligations:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to list performance obligations',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * PUT /api/asc606/obligations/:id\n   * Update performance obligation\n   */\n  async updateObligation(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const updateData = req.body;\n\n      const [updatedObligation] = await db.update(asc606_performance_obligations)\n        .set({\n          ...updateData,\n          updated_by_id: userId,\n          updated_at: new Date()\n        })\n        .where(eq(asc606_performance_obligations.id, parseInt(id)))\n        .returning();\n\n      if (!updatedObligation) {\n        return res.status(404).json({\n          success: false,\n          error: 'Obligation not found'\n        });\n      }\n\n      res.json({\n        success: true,\n        message: 'Performance obligation updated successfully',\n        data: updatedObligation\n      });\n    } catch (error) {\n      logger.error('Error updating performance obligation:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to update performance obligation',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // TRANSACTION PRICES (STEP 3)\n  // ============================================\n\n  /**\n   * POST /api/asc606/contracts/:id/prices\n   * Create or update transaction price\n   */\n  async createTransactionPrice(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const priceData = req.body;\n\n      // Mark any existing current price as superseded\n      await db.update(asc606_transaction_prices)\n        .set({\n          is_current: false,\n          superseded_date: priceData.effective_date\n        })\n        .where(and(\n          eq(asc606_transaction_prices.contract_id, parseInt(id)),\n          eq(asc606_transaction_prices.is_current, true)\n        ));\n\n      // Get current version\n      const [latestPrice] = await db.select()\n        .from(asc606_transaction_prices)\n        .where(eq(asc606_transaction_prices.contract_id, parseInt(id)))\n        .orderBy(desc(asc606_transaction_prices.version))\n        .limit(1);\n\n      const newVersion = (latestPrice?.version || 0) + 1;\n\n      const [transactionPrice] = await db.insert(asc606_transaction_prices).values({\n        ...priceData,\n        contract_id: parseInt(id),\n        version: newVersion,\n        is_current: true,\n        created_by_id: userId\n      }).returning();\n\n      res.status(201).json({\n        success: true,\n        message: 'Transaction price created successfully',\n        data: transactionPrice\n      });\n    } catch (error) {\n      logger.error('Error creating transaction price:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create transaction price',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts/:id/prices\n   * Get transaction price history\n   */\n  async getTransactionPrices(req, res) {\n    try {\n      const { id } = req.params;\n      const { currentOnly } = req.query;\n\n      let query = db.select()\n        .from(asc606_transaction_prices)\n        .where(eq(asc606_transaction_prices.contract_id, parseInt(id)));\n\n      if (currentOnly === 'true') {\n        query = query.where(and(\n          eq(asc606_transaction_prices.contract_id, parseInt(id)),\n          eq(asc606_transaction_prices.is_current, true)\n        ));\n      }\n\n      const prices = await query.orderBy(desc(asc606_transaction_prices.version));\n\n      res.json({\n        success: true,\n        count: prices.length,\n        data: prices\n      });\n    } catch (error) {\n      logger.error('Error getting transaction prices:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to get transaction prices',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // PRICE ALLOCATIONS (STEP 4)\n  // ============================================\n\n  /**\n   * POST /api/asc606/contracts/:id/allocate\n   * Allocate transaction price to performance obligations\n   */\n  async allocatePrices(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const { allocations, effective_date } = req.body;\n\n      // Get current transaction price\n      const [transactionPrice] = await db.select()\n        .from(asc606_transaction_prices)\n        .where(and(\n          eq(asc606_transaction_prices.contract_id, parseInt(id)),\n          eq(asc606_transaction_prices.is_current, true)\n        ));\n\n      if (!transactionPrice) {\n        return res.status(400).json({\n          success: false,\n          error: 'No current transaction price found for contract'\n        });\n      }\n\n      // Mark existing allocations as not current\n      await db.update(asc606_price_allocations)\n        .set({ is_current: false })\n        .where(and(\n          eq(asc606_price_allocations.contract_id, parseInt(id)),\n          eq(asc606_price_allocations.is_current, true)\n        ));\n\n      // Calculate total SSP for relative allocation\n      const totalSSP = allocations.reduce((sum, a) => sum + a.standalone_selling_price, 0);\n\n      // Create new allocations\n      const createdAllocations = [];\n      for (const alloc of allocations) {\n        const relativeSspPercentage = Math.round((alloc.standalone_selling_price / totalSSP) * 10000);\n        const allocatedAmount = Math.round((transactionPrice.total_transaction_price * relativeSspPercentage) / 10000);\n\n        // Calculate daily accrual rate\n        const obligation = await db.select()\n          .from(asc606_performance_obligations)\n          .where(eq(asc606_performance_obligations.id, alloc.obligation_id));\n\n        let dailyAccrualRate = null;\n        if (obligation[0]?.expected_duration_days) {\n          dailyAccrualRate = Math.round(allocatedAmount / obligation[0].expected_duration_days);\n        }\n\n        const [allocation] = await db.insert(asc606_price_allocations).values({\n          contract_id: parseInt(id),\n          transaction_price_id: transactionPrice.id,\n          obligation_id: alloc.obligation_id,\n          effective_date: effective_date || new Date().toISOString().split('T')[0],\n          standalone_selling_price: alloc.standalone_selling_price,\n          ssp_determination_method: alloc.ssp_determination_method,\n          ssp_observable_source: alloc.ssp_observable_source,\n          relative_ssp_percentage: relativeSspPercentage,\n          allocated_amount: allocatedAmount,\n          daily_accrual_rate: dailyAccrualRate,\n          is_current: true,\n          created_by_id: userId\n        }).returning();\n\n        createdAllocations.push(allocation);\n\n        // Update obligation with allocated price\n        await db.update(asc606_performance_obligations)\n          .set({\n            allocated_price: allocatedAmount,\n            allocation_percentage: relativeSspPercentage,\n            updated_by_id: userId,\n            updated_at: new Date()\n          })\n          .where(eq(asc606_performance_obligations.id, alloc.obligation_id));\n      }\n\n      res.status(201).json({\n        success: true,\n        message: 'Price allocations created successfully',\n        data: {\n          totalTransactionPrice: transactionPrice.total_transaction_price,\n          totalSSP,\n          allocations: createdAllocations\n        }\n      });\n    } catch (error) {\n      logger.error('Error allocating prices:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to allocate prices',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts/:id/allocations\n   * Get price allocations\n   */\n  async getAllocations(req, res) {\n    try {\n      const { id } = req.params;\n      const { currentOnly } = req.query;\n\n      let conditions = [eq(asc606_price_allocations.contract_id, parseInt(id))];\n      if (currentOnly === 'true') {\n        conditions.push(eq(asc606_price_allocations.is_current, true));\n      }\n\n      const allocations = await db.select()\n        .from(asc606_price_allocations)\n        .where(and(...conditions))\n        .orderBy(asc606_price_allocations.obligation_id);\n\n      res.json({\n        success: true,\n        count: allocations.length,\n        data: allocations\n      });\n    } catch (error) {\n      logger.error('Error getting allocations:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to get allocations',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // DAILY ACCRUALS (STEP 5)\n  // ============================================\n\n  /**\n   * POST /api/asc606/accruals/calculate\n   * Calculate daily revenue accruals for a date range\n   */\n  async calculateDailyAccruals(req, res) {\n    try {\n      const userId = req.user.id;\n      const { startDate, endDate, contractId } = req.body;\n\n      if (!startDate || !endDate) {\n        return res.status(400).json({\n          success: false,\n          error: 'startDate and endDate are required'\n        });\n      }\n\n      // Get active contracts with allocations\n      let contractQuery = db.select()\n        .from(asc606_contracts)\n        .where(and(\n          eq(asc606_contracts.is_valid_asc606_contract, true),\n          eq(asc606_contracts.contract_status, 'ACTIVE')\n        ));\n\n      if (contractId) {\n        contractQuery = contractQuery.where(eq(asc606_contracts.id, parseInt(contractId)));\n      }\n\n      const contracts = await contractQuery;\n      const accrualResults = [];\n\n      for (const contract of contracts) {\n        // Get current allocations\n        const allocations = await db.select()\n          .from(asc606_price_allocations)\n          .where(and(\n            eq(asc606_price_allocations.contract_id, contract.id),\n            eq(asc606_price_allocations.is_current, true)\n          ));\n\n        for (const allocation of allocations) {\n          // Get the obligation\n          const [obligation] = await db.select()\n            .from(asc606_performance_obligations)\n            .where(eq(asc606_performance_obligations.id, allocation.obligation_id));\n\n          if (!obligation) continue;\n\n          // Calculate accruals for each day in range\n          const start = new Date(startDate);\n          const end = new Date(endDate);\n\n          for (let date = new Date(start); date <= end; date.setDate(date.getDate() + 1)) {\n            const accrualDate = date.toISOString().split('T')[0];\n\n            // Skip if outside obligation period\n            if (accrualDate < obligation.obligation_start_date) continue;\n            if (obligation.obligation_end_date && accrualDate > obligation.obligation_end_date) continue;\n\n            // Check if accrual already exists\n            const [existingAccrual] = await db.select()\n              .from(asc606_daily_revenue_accruals)\n              .where(and(\n                eq(asc606_daily_revenue_accruals.contract_id, contract.id),\n                eq(asc606_daily_revenue_accruals.obligation_id, obligation.id),\n                eq(asc606_daily_revenue_accruals.accrual_date, accrualDate)\n              ));\n\n            if (existingAccrual) continue;\n\n            // Calculate daily amount\n            const dailyRate = allocation.daily_accrual_rate || 0;\n            const fiscalInfo = this._getFiscalInfo(new Date(accrualDate));\n            const isLeapYear = this._isLeapYear(fiscalInfo.fiscalYear);\n            const daysInMonth = this._getDaysInMonth(new Date(accrualDate));\n\n            // Check for partial periods\n            const isPartialPeriod =\n              accrualDate === obligation.obligation_start_date ||\n              accrualDate === obligation.obligation_end_date;\n\n            // Get cumulative amounts\n            const [cumulativeResult] = await db.select({\n              total: sql`COALESCE(SUM(adjusted_daily_amount), 0)`\n            })\n              .from(asc606_daily_revenue_accruals)\n              .where(and(\n                eq(asc606_daily_revenue_accruals.contract_id, contract.id),\n                eq(asc606_daily_revenue_accruals.obligation_id, obligation.id),\n                sql`${asc606_daily_revenue_accruals.accrual_date} < ${accrualDate}`\n              ));\n\n            const cumulativeRecognized = Number(cumulativeResult?.total || 0) + dailyRate;\n            const remainingToRecognize = allocation.allocated_amount - cumulativeRecognized;\n            const satisfactionPercentage = Math.round((cumulativeRecognized / allocation.allocated_amount) * 10000);\n\n            const [accrual] = await db.insert(asc606_daily_revenue_accruals).values({\n              contract_id: contract.id,\n              obligation_id: obligation.id,\n              allocation_id: allocation.id,\n              patient_id: contract.patient_id,\n              accrual_date: accrualDate,\n              fiscal_year: fiscalInfo.fiscalYear,\n              fiscal_quarter: fiscalInfo.fiscalQuarter,\n              fiscal_month: fiscalInfo.fiscalMonth,\n              period_label: fiscalInfo.periodLabel,\n              is_leap_year: isLeapYear,\n              days_in_month: daysInMonth,\n              is_partial_period: isPartialPeriod,\n              recognition_pattern: obligation.recognition_pattern,\n              base_daily_rate: dailyRate,\n              adjustment_factor: 10000, // 100%\n              adjusted_daily_amount: dailyRate,\n              cumulative_recognized: cumulativeRecognized,\n              remaining_to_recognize: remainingToRecognize > 0 ? remainingToRecognize : 0,\n              satisfaction_percentage: satisfactionPercentage,\n              status: 'CALCULATED',\n              calculation_timestamp: new Date(),\n              calculation_source: 'AUTOMATED_DAILY_JOB',\n              created_by_id: userId\n            }).returning();\n\n            accrualResults.push(accrual);\n          }\n        }\n      }\n\n      res.status(201).json({\n        success: true,\n        message: `Calculated ${accrualResults.length} daily accruals`,\n        data: {\n          count: accrualResults.length,\n          dateRange: { startDate, endDate },\n          contractsProcessed: contracts.length\n        }\n      });\n    } catch (error) {\n      logger.error('Error calculating daily accruals:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to calculate daily accruals',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/accruals\n   * Get accruals for period\n   */\n  async getAccruals(req, res) {\n    try {\n      const { startDate, endDate, period, contractId, status, limit = 100, offset = 0 } = req.query;\n\n      const conditions = [];\n\n      if (startDate && endDate) {\n        conditions.push(between(asc606_daily_revenue_accruals.accrual_date, startDate, endDate));\n      }\n      if (period) {\n        conditions.push(eq(asc606_daily_revenue_accruals.period_label, period));\n      }\n      if (contractId) {\n        conditions.push(eq(asc606_daily_revenue_accruals.contract_id, parseInt(contractId)));\n      }\n      if (status) {\n        conditions.push(eq(asc606_daily_revenue_accruals.status, status));\n      }\n\n      let query = db.select().from(asc606_daily_revenue_accruals);\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const accruals = await query\n        .orderBy(desc(asc606_daily_revenue_accruals.accrual_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      // Get summary\n      const [summary] = await db.select({\n        total_recognized: sql`SUM(adjusted_daily_amount)`,\n        count: sql`COUNT(*)`\n      })\n        .from(asc606_daily_revenue_accruals)\n        .where(conditions.length > 0 ? and(...conditions) : undefined);\n\n      res.json({\n        success: true,\n        count: accruals.length,\n        summary: {\n          totalRecognized: Number(summary?.total_recognized || 0),\n          totalRecords: Number(summary?.count || 0)\n        },\n        data: accruals\n      });\n    } catch (error) {\n      logger.error('Error getting accruals:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to get accruals',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // CONTRACT MODIFICATIONS\n  // ============================================\n\n  /**\n   * POST /api/asc606/contracts/:id/modifications\n   * Create contract modification\n   */\n  async createModification(req, res) {\n    try {\n      const { id } = req.params;\n      const userId = req.user.id;\n      const modificationData = req.body;\n\n      // Get current contract state\n      const [contract] = await db.select()\n        .from(asc606_contracts)\n        .where(eq(asc606_contracts.id, parseInt(id)));\n\n      if (!contract) {\n        return res.status(404).json({\n          success: false,\n          error: 'Contract not found'\n        });\n      }\n\n      const [modification] = await db.insert(asc606_contract_modifications).values({\n        ...modificationData,\n        contract_id: parseInt(id),\n        previous_total_price: contract.total_contract_value,\n        modification_status: 'PENDING',\n        created_by_id: userId\n      }).returning();\n\n      res.status(201).json({\n        success: true,\n        message: 'Contract modification created successfully',\n        data: modification\n      });\n    } catch (error) {\n      logger.error('Error creating contract modification:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create modification',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/contracts/:id/modifications\n   * List contract modifications\n   */\n  async listModifications(req, res) {\n    try {\n      const { id } = req.params;\n\n      const modifications = await db.select()\n        .from(asc606_contract_modifications)\n        .where(eq(asc606_contract_modifications.contract_id, parseInt(id)))\n        .orderBy(desc(asc606_contract_modifications.modification_date));\n\n      res.json({\n        success: true,\n        count: modifications.length,\n        data: modifications\n      });\n    } catch (error) {\n      logger.error('Error listing modifications:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to list modifications',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // RECONCILIATION\n  // ============================================\n\n  /**\n   * POST /api/asc606/reconciliation\n   * Create period reconciliation\n   */\n  async createReconciliation(req, res) {\n    try {\n      const userId = req.user.id;\n      const reconciliationData = req.body;\n\n      const [reconciliation] = await db.insert(asc606_reconciliation).values({\n        ...reconciliationData,\n        variance_amount: reconciliationData.total_recognized_revenue - reconciliationData.total_billed_revenue,\n        variance_percentage: Math.round(\n          ((reconciliationData.total_recognized_revenue - reconciliationData.total_billed_revenue) /\n           reconciliationData.total_billed_revenue) * 10000\n        ),\n        status: 'DRAFT',\n        created_by_id: userId\n      }).returning();\n\n      res.status(201).json({\n        success: true,\n        message: 'Reconciliation created successfully',\n        data: reconciliation\n      });\n    } catch (error) {\n      logger.error('Error creating reconciliation:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to create reconciliation',\n        message: error.message\n      });\n    }\n  }\n\n  /**\n   * GET /api/asc606/reconciliation/:period\n   * Get period reconciliation\n   */\n  async getReconciliation(req, res) {\n    try {\n      const { period } = req.params;\n\n      const [reconciliation] = await db.select()\n        .from(asc606_reconciliation)\n        .where(eq(asc606_reconciliation.period_label, period));\n\n      if (!reconciliation) {\n        return res.status(404).json({\n          success: false,\n          error: 'Reconciliation not found for period'\n        });\n      }\n\n      res.json({\n        success: true,\n        data: reconciliation\n      });\n    } catch (error) {\n      logger.error('Error getting reconciliation:', error);\n      res.status(500).json({\n        success: false,\n        error: 'Failed to get reconciliation',\n        message: error.message\n      });\n    }\n  }\n\n  // ============================================\n  // HELPER METHODS\n  // ============================================\n\n  _getFiscalInfo(date) {\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    const quarter = Math.ceil(month / 3);\n\n    return {\n      fiscalYear: year,\n      fiscalQuarter: quarter,\n      fiscalMonth: month,\n      periodLabel: `${year}-${String(month).padStart(2, '0')}`\n    };\n  }\n\n  _isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);\n  }\n\n  _getDaysInMonth(date) {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n  }\n\n  async _createAuditEntry(data) {\n    try {\n      await db.insert(asc606_calculation_audit).values({\n        ...data,\n        event_timestamp: new Date()\n      });\n    } catch (error) {\n      logger.error('Error creating audit entry:', error);\n    }\n  }\n}\n\nexport default new ASC606Controller();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}