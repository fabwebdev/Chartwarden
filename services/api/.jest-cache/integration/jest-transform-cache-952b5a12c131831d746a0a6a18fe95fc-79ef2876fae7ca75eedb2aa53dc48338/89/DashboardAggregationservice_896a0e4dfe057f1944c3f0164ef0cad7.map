{"version":3,"names":["cov_1hrpf8i14g","actualCoverage","db","claims","payments","ar_aging","payers","billing_periods","patients","encounters","eq","sql","gte","lte","and","isNull","count","sum","avg","desc","inArray","logger","MetricsEngine","CacheService","DashboardAggregationService","constructor","f","s","cachePrefix","cacheTTL","getExecutiveDashboard","options","b","period","includeComparison","useCache","cacheKey","cached","get","JSON","parse","error","dateRange","getPeriodDateRange","prevDateRange","getPreviousPeriodDateRange","financialSummary","clinicalSummary","operationalSummary","complianceSummary","previousPeriodData","Promise","all","getFinancialSummary","start","end","getClinicalSummary","getOperationalSummary","getComplianceSummary","dashboard","label","formatPeriodLabel","toISOString","split","kpis","calculateKPIs","financial","clinical","operational","compliance","alerts","getActiveAlerts","generated_at","Date","set","stringify","Error","message","current","previous","push","id","value","total_payments","formatted","formatCurrency","trend","calculateTrend","type","clean_claim_rate","status","evaluateMetric","target","avg_days_to_payment","net_collection_rate","denial_rate","active_patients","toString","startDate","endDate","claimData","arData","denialData","paymentData","select","total_claims","total_charges","total_paid","total_adjustments","clean_claims","scrubbing_passed","denied_claims","claim_status","from","where","service_start_date","deleted_at","aging_bucket","balance","aging_31_60","aging_61_90","aging_over_90","total_ar","calculated_date","payer_id","payer_name","denial_count","leftJoin","groupBy","orderBy","limit","avg_days","paid_date","submission_date","claim","ar","totalClaims","parseInt","cleanClaims","deniedClaims","totalCharges","totalPayments","totalAdjustments","expectedRevenue","total_charges_formatted","total_payments_formatted","parseFloat","toFixed","total","top_denial_payers","map","d","patientData","encounterData","patient_id","total_encounters","completed_encounters","encounter_status","avg_duration","encounter_duration_minutes","by_discipline","discipline","encounter_count","encounter_date","as","encounterStats","disciplineBreakdown","avg_encounter_duration","encounter_completion_rate","claimStatusData","payerData","claim_count","claims_by_status","claims_by_payer","p","total_paid_formatted","collection_rate","auditData","scrubbing_failed","pending_scrubbing","scrubbing_status","data","passed","failed","total_claims_audited","scrubbing_pass_rate","scrubbing_fail_rate","pending_audit","compliance_score","denialRate","category","title","action","agingOver90","totalAR","getFinancialDashboard","revenueTrend","arAgingTrend","payerMix","getMetricTimeSeries","getARAgingTrend","getPayerMixAnalysis","summary","revenue_trend","ar_aging_trend","payer_mix","getClinicalDashboard","encounterTrend","disciplineDistribution","getDisciplineDistribution","encounter_trend","discipline_distribution","result","date","r","payer_type","reduce","percentage","unique_patients","avg_duration_minutes","lowerIsBetter","direction","change","Math","abs","raw_change","now","setDate","setHours","setMonth","getMonth","quarter","floor","getDate","diff","getTime","labels","current_month","last_month","current_quarter","ytd","last_30_days","last_90_days"],"sources":["DashboardAggregation.service.js"],"sourcesContent":["import { db } from '../db/index.js';\nimport { claims, payments, ar_aging, payers, billing_periods } from '../db/schemas/billing.schema.js';\nimport { patients } from '../db/schemas/patient.schema.js';\nimport { encounters } from '../db/schemas/encounters.schema.js';\nimport { eq, sql, gte, lte, and, isNull, count, sum, avg, desc, inArray } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\nimport MetricsEngine from './MetricsEngine.service.js';\nimport CacheService from './CacheService.js';\n\n/**\n * Dashboard Aggregation Service\n *\n * Aggregates data from multiple sources into unified dashboard views.\n * Provides pre-computed metrics for executive, clinical, and financial dashboards.\n *\n * Features:\n *   - Executive dashboard with KPIs across all domains\n *   - Clinical dashboard with patient and care metrics\n *   - Financial dashboard with revenue cycle metrics\n *   - Operational dashboard with efficiency metrics\n *   - Real-time data with optional caching\n *   - Comparative period analysis\n */\nclass DashboardAggregationService {\n  constructor() {\n    this.cachePrefix = 'dashboard:';\n    this.cacheTTL = 300; // 5 minutes\n  }\n\n  // ==========================================================================\n  // EXECUTIVE DASHBOARD\n  // ==========================================================================\n\n  /**\n   * Get comprehensive executive dashboard\n   * @param {object} options - Dashboard options\n   * @returns {Promise<object>} Executive dashboard data\n   */\n  async getExecutiveDashboard(options = {}) {\n    const {\n      period = 'current_month',\n      includeComparison = true,\n      useCache = true\n    } = options;\n\n    const cacheKey = `${this.cachePrefix}executive:${period}`;\n\n    try {\n      // Check cache first\n      if (useCache) {\n        const cached = await CacheService.get(cacheKey);\n        if (cached) return JSON.parse(cached);\n      }\n    } catch (error) {\n      // Cache miss or error - continue to fetch fresh data\n    }\n\n    try {\n      const dateRange = this.getPeriodDateRange(period);\n      const prevDateRange = this.getPreviousPeriodDateRange(period);\n\n      // Fetch all dashboard data in parallel\n      const [\n        financialSummary,\n        clinicalSummary,\n        operationalSummary,\n        complianceSummary,\n        previousPeriodData\n      ] = await Promise.all([\n        this.getFinancialSummary(dateRange.start, dateRange.end),\n        this.getClinicalSummary(dateRange.start, dateRange.end),\n        this.getOperationalSummary(dateRange.start, dateRange.end),\n        this.getComplianceSummary(dateRange.start, dateRange.end),\n        includeComparison ? this.getFinancialSummary(prevDateRange.start, prevDateRange.end) : null\n      ]);\n\n      const dashboard = {\n        period: {\n          label: this.formatPeriodLabel(period),\n          start: dateRange.start.toISOString().split('T')[0],\n          end: dateRange.end.toISOString().split('T')[0]\n        },\n        kpis: this.calculateKPIs(financialSummary, clinicalSummary, previousPeriodData),\n        financial: financialSummary,\n        clinical: clinicalSummary,\n        operational: operationalSummary,\n        compliance: complianceSummary,\n        alerts: await this.getActiveAlerts(),\n        generated_at: new Date().toISOString()\n      };\n\n      // Cache the result\n      try {\n        await CacheService.set(cacheKey, JSON.stringify(dashboard), this.cacheTTL);\n      } catch (error) {\n        // Cache set failed - continue without caching\n      }\n\n      return dashboard;\n    } catch (error) {\n      logger.error('Error getting executive dashboard:', error);\n      throw new Error(`Failed to get executive dashboard: ${error.message}`);\n    }\n  }\n\n  /**\n   * Calculate KPIs with trends\n   */\n  calculateKPIs(current, clinical, previous) {\n    const kpis = [];\n\n    // Revenue\n    kpis.push({\n      id: 'total_revenue',\n      label: 'Total Revenue',\n      value: current.total_payments,\n      formatted: MetricsEngine.formatCurrency(current.total_payments),\n      trend: previous ? this.calculateTrend(current.total_payments, previous.total_payments) : null,\n      type: 'currency'\n    });\n\n    // Clean Claim Rate\n    kpis.push({\n      id: 'clean_claim_rate',\n      label: 'Clean Claim Rate',\n      value: current.clean_claim_rate,\n      formatted: `${current.clean_claim_rate}%`,\n      trend: previous ? this.calculateTrend(current.clean_claim_rate, previous.clean_claim_rate) : null,\n      status: MetricsEngine.evaluateMetric('clean_claim_rate', current.clean_claim_rate),\n      target: 95,\n      type: 'percentage'\n    });\n\n    // Days to Payment\n    kpis.push({\n      id: 'days_to_payment',\n      label: 'Avg Days to Payment',\n      value: current.avg_days_to_payment,\n      formatted: `${current.avg_days_to_payment} days`,\n      trend: previous ? this.calculateTrend(current.avg_days_to_payment, previous.avg_days_to_payment, true) : null,\n      status: MetricsEngine.evaluateMetric('days_to_payment', current.avg_days_to_payment),\n      target: 30,\n      type: 'days'\n    });\n\n    // Net Collection Rate\n    kpis.push({\n      id: 'net_collection_rate',\n      label: 'Net Collection Rate',\n      value: current.net_collection_rate,\n      formatted: `${current.net_collection_rate}%`,\n      trend: previous ? this.calculateTrend(current.net_collection_rate, previous.net_collection_rate) : null,\n      status: MetricsEngine.evaluateMetric('net_collection_rate', current.net_collection_rate),\n      target: 98,\n      type: 'percentage'\n    });\n\n    // Denial Rate\n    kpis.push({\n      id: 'denial_rate',\n      label: 'Denial Rate',\n      value: current.denial_rate,\n      formatted: `${current.denial_rate}%`,\n      trend: previous ? this.calculateTrend(current.denial_rate, previous.denial_rate, true) : null,\n      status: MetricsEngine.evaluateMetric('denial_rate', current.denial_rate),\n      target: 5,\n      type: 'percentage'\n    });\n\n    // Active Patients\n    kpis.push({\n      id: 'active_patients',\n      label: 'Active Patients',\n      value: clinical.active_patients,\n      formatted: clinical.active_patients.toString(),\n      trend: previous ? this.calculateTrend(clinical.active_patients, previous?.active_patients || 0) : null,\n      type: 'count'\n    });\n\n    return kpis;\n  }\n\n  /**\n   * Get financial summary\n   */\n  async getFinancialSummary(startDate, endDate) {\n    try {\n      const [claimData, arData, denialData, paymentData] = await Promise.all([\n        // Claims summary\n        db.select({\n          total_claims: sql`COUNT(*)::int`,\n          total_charges: sql`COALESCE(SUM(${claims.total_charges}), 0)::bigint`,\n          total_paid: sql`COALESCE(SUM(${claims.total_paid}), 0)::bigint`,\n          total_adjustments: sql`COALESCE(SUM(${claims.total_adjustments}), 0)::bigint`,\n          clean_claims: sql`COUNT(CASE WHEN ${claims.scrubbing_passed} = true THEN 1 END)::int`,\n          denied_claims: sql`COUNT(CASE WHEN ${claims.claim_status} IN ('DENIED', 'REJECTED') THEN 1 END)::int`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        )),\n\n        // AR aging summary\n        db.select({\n          current: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'CURRENT_0_30' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_31_60: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'AGING_31_60' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_61_90: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'AGING_61_90' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_over_90: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} IN ('AGING_91_120', 'AGING_OVER_120') THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          total_ar: sql`COALESCE(SUM(${ar_aging.balance}), 0)::bigint`\n        })\n        .from(ar_aging)\n        .where(and(\n          gte(ar_aging.calculated_date, startDate),\n          lte(ar_aging.calculated_date, endDate)\n        )),\n\n        // Denial analysis\n        db.select({\n          payer_id: claims.payer_id,\n          payer_name: payers.payer_name,\n          denial_count: sql`COUNT(CASE WHEN ${claims.claim_status} IN ('DENIED', 'REJECTED') THEN 1 END)::int`,\n          total_claims: sql`COUNT(*)::int`\n        })\n        .from(claims)\n        .leftJoin(payers, eq(claims.payer_id, payers.id))\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        ))\n        .groupBy(claims.payer_id, payers.payer_name)\n        .orderBy(desc(sql`COUNT(CASE WHEN ${claims.claim_status} IN ('DENIED', 'REJECTED') THEN 1 END)`))\n        .limit(5),\n\n        // Days to payment\n        db.select({\n          avg_days: sql`AVG(EXTRACT(DAY FROM (${claims.paid_date} - ${claims.submission_date})))::numeric`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          sql`${claims.paid_date} IS NOT NULL`,\n          sql`${claims.submission_date} IS NOT NULL`,\n          isNull(claims.deleted_at)\n        ))\n      ]);\n\n      const claim = claimData[0];\n      const ar = arData[0];\n      const totalClaims = parseInt(claim?.total_claims || 0);\n      const cleanClaims = parseInt(claim?.clean_claims || 0);\n      const deniedClaims = parseInt(claim?.denied_claims || 0);\n      const totalCharges = parseInt(claim?.total_charges || 0);\n      const totalPayments = parseInt(claim?.total_paid || 0);\n      const totalAdjustments = parseInt(claim?.total_adjustments || 0);\n      const expectedRevenue = totalCharges - totalAdjustments;\n\n      return {\n        total_claims: totalClaims,\n        total_charges: totalCharges,\n        total_charges_formatted: MetricsEngine.formatCurrency(totalCharges),\n        total_payments: totalPayments,\n        total_payments_formatted: MetricsEngine.formatCurrency(totalPayments),\n        total_adjustments: totalAdjustments,\n        clean_claim_rate: totalClaims > 0 ? parseFloat(((cleanClaims / totalClaims) * 100).toFixed(1)) : 0,\n        denial_rate: totalClaims > 0 ? parseFloat(((deniedClaims / totalClaims) * 100).toFixed(1)) : 0,\n        net_collection_rate: expectedRevenue > 0 ? parseFloat(((totalPayments / expectedRevenue) * 100).toFixed(1)) : 0,\n        avg_days_to_payment: paymentData[0]?.avg_days ? parseFloat(parseFloat(paymentData[0].avg_days).toFixed(1)) : 0,\n        ar_aging: {\n          current: parseInt(ar?.current || 0),\n          aging_31_60: parseInt(ar?.aging_31_60 || 0),\n          aging_61_90: parseInt(ar?.aging_61_90 || 0),\n          aging_over_90: parseInt(ar?.aging_over_90 || 0),\n          total: parseInt(ar?.total_ar || 0)\n        },\n        top_denial_payers: denialData.map(d => ({\n          payer_id: d.payer_id,\n          payer_name: d.payer_name || 'Unknown',\n          denial_count: d.denial_count,\n          total_claims: d.total_claims,\n          denial_rate: d.total_claims > 0 ? parseFloat(((d.denial_count / d.total_claims) * 100).toFixed(1)) : 0\n        }))\n      };\n    } catch (error) {\n      logger.error('Error getting financial summary:', error);\n      return {\n        total_claims: 0,\n        total_charges: 0,\n        total_payments: 0,\n        clean_claim_rate: 0,\n        denial_rate: 0,\n        net_collection_rate: 0,\n        avg_days_to_payment: 0,\n        ar_aging: { current: 0, aging_31_60: 0, aging_61_90: 0, aging_over_90: 0, total: 0 },\n        top_denial_payers: []\n      };\n    }\n  }\n\n  /**\n   * Get clinical summary\n   */\n  async getClinicalSummary(startDate, endDate) {\n    try {\n      const [patientData, encounterData] = await Promise.all([\n        db.select({\n          active_patients: sql`COUNT(DISTINCT ${claims.patient_id})::int`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        )),\n\n        db.select({\n          total_encounters: sql`COUNT(*)::int`,\n          completed_encounters: sql`COUNT(CASE WHEN ${encounters.encounter_status} = 'COMPLETED' THEN 1 END)::int`,\n          avg_duration: sql`COALESCE(AVG(${encounters.encounter_duration_minutes}), 0)::numeric`,\n          by_discipline: sql`jsonb_object_agg(COALESCE(${encounters.discipline}, 'UNKNOWN'), encounter_count) FILTER (WHERE ${encounters.discipline} IS NOT NULL)`\n        })\n        .from(\n          db.select({\n            discipline: encounters.discipline,\n            encounter_count: sql`COUNT(*)::int`\n          })\n          .from(encounters)\n          .where(and(\n            gte(encounters.encounter_date, startDate),\n            lte(encounters.encounter_date, endDate),\n            isNull(encounters.deleted_at)\n          ))\n          .groupBy(encounters.discipline)\n          .as('discipline_counts')\n        ),\n\n        db.select({\n          total_encounters: sql`COUNT(*)::int`,\n          completed_encounters: sql`COUNT(CASE WHEN ${encounters.encounter_status} = 'COMPLETED' THEN 1 END)::int`,\n          avg_duration: sql`COALESCE(AVG(${encounters.encounter_duration_minutes}), 0)::numeric`\n        })\n        .from(encounters)\n        .where(and(\n          gte(encounters.encounter_date, startDate),\n          lte(encounters.encounter_date, endDate),\n          isNull(encounters.deleted_at)\n        ))\n      ]);\n\n      const encounterStats = await db\n        .select({\n          total_encounters: sql`COUNT(*)::int`,\n          completed_encounters: sql`COUNT(CASE WHEN ${encounters.encounter_status} = 'COMPLETED' THEN 1 END)::int`,\n          avg_duration: sql`COALESCE(AVG(${encounters.encounter_duration_minutes}), 0)::numeric`\n        })\n        .from(encounters)\n        .where(and(\n          gte(encounters.encounter_date, startDate),\n          lte(encounters.encounter_date, endDate),\n          isNull(encounters.deleted_at)\n        ));\n\n      const disciplineBreakdown = await db\n        .select({\n          discipline: encounters.discipline,\n          count: sql`COUNT(*)::int`\n        })\n        .from(encounters)\n        .where(and(\n          gte(encounters.encounter_date, startDate),\n          lte(encounters.encounter_date, endDate),\n          isNull(encounters.deleted_at)\n        ))\n        .groupBy(encounters.discipline);\n\n      return {\n        active_patients: parseInt(patientData[0]?.active_patients || 0),\n        total_encounters: parseInt(encounterStats[0]?.total_encounters || 0),\n        completed_encounters: parseInt(encounterStats[0]?.completed_encounters || 0),\n        avg_encounter_duration: parseFloat(encounterStats[0]?.avg_duration || 0).toFixed(1),\n        encounter_completion_rate: encounterStats[0]?.total_encounters > 0\n          ? parseFloat(((encounterStats[0].completed_encounters / encounterStats[0].total_encounters) * 100).toFixed(1))\n          : 0,\n        by_discipline: disciplineBreakdown.map(d => ({\n          discipline: d.discipline || 'Unknown',\n          count: d.count\n        }))\n      };\n    } catch (error) {\n      logger.error('Error getting clinical summary:', error);\n      return {\n        active_patients: 0,\n        total_encounters: 0,\n        completed_encounters: 0,\n        avg_encounter_duration: 0,\n        encounter_completion_rate: 0,\n        by_discipline: []\n      };\n    }\n  }\n\n  /**\n   * Get operational summary\n   */\n  async getOperationalSummary(startDate, endDate) {\n    try {\n      const [claimStatusData, payerData] = await Promise.all([\n        // Claims by status\n        db.select({\n          status: claims.claim_status,\n          count: sql`COUNT(*)::int`,\n          total_charges: sql`COALESCE(SUM(${claims.total_charges}), 0)::bigint`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        ))\n        .groupBy(claims.claim_status),\n\n        // Claims by payer\n        db.select({\n          payer_id: claims.payer_id,\n          payer_name: payers.payer_name,\n          claim_count: sql`COUNT(*)::int`,\n          total_charges: sql`COALESCE(SUM(${claims.total_charges}), 0)::bigint`,\n          total_paid: sql`COALESCE(SUM(${claims.total_paid}), 0)::bigint`\n        })\n        .from(claims)\n        .leftJoin(payers, eq(claims.payer_id, payers.id))\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        ))\n        .groupBy(claims.payer_id, payers.payer_name)\n        .orderBy(desc(sql`SUM(${claims.total_charges})`))\n        .limit(10)\n      ]);\n\n      return {\n        claims_by_status: claimStatusData.map(s => ({\n          status: s.status,\n          count: s.count,\n          total_charges: parseInt(s.total_charges),\n          total_charges_formatted: MetricsEngine.formatCurrency(parseInt(s.total_charges))\n        })),\n        claims_by_payer: payerData.map(p => ({\n          payer_id: p.payer_id,\n          payer_name: p.payer_name || 'Unknown',\n          claim_count: p.claim_count,\n          total_charges: parseInt(p.total_charges),\n          total_charges_formatted: MetricsEngine.formatCurrency(parseInt(p.total_charges)),\n          total_paid: parseInt(p.total_paid),\n          total_paid_formatted: MetricsEngine.formatCurrency(parseInt(p.total_paid)),\n          collection_rate: parseInt(p.total_charges) > 0\n            ? parseFloat(((parseInt(p.total_paid) / parseInt(p.total_charges)) * 100).toFixed(1))\n            : 0\n        }))\n      };\n    } catch (error) {\n      logger.error('Error getting operational summary:', error);\n      return {\n        claims_by_status: [],\n        claims_by_payer: []\n      };\n    }\n  }\n\n  /**\n   * Get compliance summary\n   */\n  async getComplianceSummary(startDate, endDate) {\n    try {\n      const auditData = await db\n        .select({\n          total_claims: sql`COUNT(*)::int`,\n          scrubbing_passed: sql`COUNT(CASE WHEN ${claims.scrubbing_passed} = true THEN 1 END)::int`,\n          scrubbing_failed: sql`COUNT(CASE WHEN ${claims.scrubbing_passed} = false THEN 1 END)::int`,\n          pending_scrubbing: sql`COUNT(CASE WHEN ${claims.scrubbing_status} = 'PENDING' THEN 1 END)::int`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        ));\n\n      const data = auditData[0];\n      const totalClaims = parseInt(data?.total_claims || 0);\n      const passed = parseInt(data?.scrubbing_passed || 0);\n      const failed = parseInt(data?.scrubbing_failed || 0);\n\n      return {\n        total_claims_audited: totalClaims,\n        scrubbing_pass_rate: totalClaims > 0 ? parseFloat(((passed / totalClaims) * 100).toFixed(1)) : 0,\n        scrubbing_fail_rate: totalClaims > 0 ? parseFloat(((failed / totalClaims) * 100).toFixed(1)) : 0,\n        pending_audit: parseInt(data?.pending_scrubbing || 0),\n        compliance_score: totalClaims > 0 ? parseFloat(((passed / totalClaims) * 100).toFixed(1)) : 100\n      };\n    } catch (error) {\n      logger.error('Error getting compliance summary:', error);\n      return {\n        total_claims_audited: 0,\n        scrubbing_pass_rate: 0,\n        scrubbing_fail_rate: 0,\n        pending_audit: 0,\n        compliance_score: 0\n      };\n    }\n  }\n\n  /**\n   * Get active alerts\n   */\n  async getActiveAlerts() {\n    try {\n      const alerts = [];\n\n      // Check for high denial rates\n      const denialData = await db\n        .select({\n          denial_rate: sql`(COUNT(CASE WHEN ${claims.claim_status} IN ('DENIED', 'REJECTED') THEN 1 END)::float / NULLIF(COUNT(*)::float, 0) * 100)::numeric`\n        })\n        .from(claims)\n        .where(and(\n          gte(claims.service_start_date, sql`CURRENT_DATE - INTERVAL '30 days'`),\n          isNull(claims.deleted_at)\n        ));\n\n      const denialRate = parseFloat(denialData[0]?.denial_rate || 0);\n      if (denialRate > 10) {\n        alerts.push({\n          type: 'critical',\n          category: 'financial',\n          title: 'High Denial Rate',\n          message: `Current denial rate is ${denialRate.toFixed(1)}% (target: <5%)`,\n          action: 'Review denied claims and address common denial reasons'\n        });\n      } else if (denialRate > 5) {\n        alerts.push({\n          type: 'warning',\n          category: 'financial',\n          title: 'Elevated Denial Rate',\n          message: `Current denial rate is ${denialRate.toFixed(1)}% (target: <5%)`,\n          action: 'Monitor denial trends and take preventive actions'\n        });\n      }\n\n      // Check for aging AR\n      const arData = await db\n        .select({\n          aging_over_90: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} IN ('AGING_91_120', 'AGING_OVER_120') THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          total_ar: sql`COALESCE(SUM(${ar_aging.balance}), 0)::bigint`\n        })\n        .from(ar_aging)\n        .where(eq(ar_aging.calculated_date, sql`CURRENT_DATE`));\n\n      const agingOver90 = parseInt(arData[0]?.aging_over_90 || 0);\n      const totalAR = parseInt(arData[0]?.total_ar || 0);\n\n      if (totalAR > 0 && (agingOver90 / totalAR) > 0.2) {\n        alerts.push({\n          type: 'warning',\n          category: 'financial',\n          title: 'High Aging AR',\n          message: `${((agingOver90 / totalAR) * 100).toFixed(1)}% of AR is over 90 days old`,\n          action: 'Prioritize collection efforts on aging accounts'\n        });\n      }\n\n      return alerts;\n    } catch (error) {\n      logger.error('Error getting active alerts:', error);\n      return [];\n    }\n  }\n\n  // ==========================================================================\n  // SPECIALIZED DASHBOARDS\n  // ==========================================================================\n\n  /**\n   * Get financial dashboard with detailed revenue cycle metrics\n   */\n  async getFinancialDashboard(options = {}) {\n    const { period = 'current_month' } = options;\n    const dateRange = this.getPeriodDateRange(period);\n\n    try {\n      const [\n        financialSummary,\n        revenueTrend,\n        arAgingTrend,\n        payerMix\n      ] = await Promise.all([\n        this.getFinancialSummary(dateRange.start, dateRange.end),\n        MetricsEngine.getMetricTimeSeries('revenue', dateRange.start, dateRange.end, 'week'),\n        this.getARAgingTrend(dateRange.start, dateRange.end),\n        this.getPayerMixAnalysis(dateRange.start, dateRange.end)\n      ]);\n\n      return {\n        period: {\n          label: this.formatPeriodLabel(period),\n          start: dateRange.start.toISOString().split('T')[0],\n          end: dateRange.end.toISOString().split('T')[0]\n        },\n        summary: financialSummary,\n        revenue_trend: revenueTrend,\n        ar_aging_trend: arAgingTrend,\n        payer_mix: payerMix,\n        generated_at: new Date().toISOString()\n      };\n    } catch (error) {\n      logger.error('Error getting financial dashboard:', error);\n      throw new Error(`Failed to get financial dashboard: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get clinical dashboard with patient care metrics\n   */\n  async getClinicalDashboard(options = {}) {\n    const { period = 'current_month' } = options;\n    const dateRange = this.getPeriodDateRange(period);\n\n    try {\n      const [\n        clinicalSummary,\n        encounterTrend,\n        disciplineDistribution\n      ] = await Promise.all([\n        this.getClinicalSummary(dateRange.start, dateRange.end),\n        MetricsEngine.getMetricTimeSeries('encounters', dateRange.start, dateRange.end, 'week'),\n        this.getDisciplineDistribution(dateRange.start, dateRange.end)\n      ]);\n\n      return {\n        period: {\n          label: this.formatPeriodLabel(period),\n          start: dateRange.start.toISOString().split('T')[0],\n          end: dateRange.end.toISOString().split('T')[0]\n        },\n        summary: clinicalSummary,\n        encounter_trend: encounterTrend,\n        discipline_distribution: disciplineDistribution,\n        generated_at: new Date().toISOString()\n      };\n    } catch (error) {\n      logger.error('Error getting clinical dashboard:', error);\n      throw new Error(`Failed to get clinical dashboard: ${error.message}`);\n    }\n  }\n\n  // ==========================================================================\n  // HELPER METHODS\n  // ==========================================================================\n\n  /**\n   * Get AR aging trend\n   */\n  async getARAgingTrend(startDate, endDate) {\n    try {\n      const result = await db\n        .select({\n          date: ar_aging.calculated_date,\n          current: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'CURRENT_0_30' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_31_60: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'AGING_31_60' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_61_90: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} = 'AGING_61_90' THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`,\n          aging_over_90: sql`COALESCE(SUM(CASE WHEN ${ar_aging.aging_bucket} IN ('AGING_91_120', 'AGING_OVER_120') THEN ${ar_aging.balance} ELSE 0 END), 0)::bigint`\n        })\n        .from(ar_aging)\n        .where(and(\n          gte(ar_aging.calculated_date, startDate),\n          lte(ar_aging.calculated_date, endDate)\n        ))\n        .groupBy(ar_aging.calculated_date)\n        .orderBy(ar_aging.calculated_date);\n\n      return result.map(r => ({\n        date: r.date,\n        current: parseInt(r.current),\n        aging_31_60: parseInt(r.aging_31_60),\n        aging_61_90: parseInt(r.aging_61_90),\n        aging_over_90: parseInt(r.aging_over_90),\n        total: parseInt(r.current) + parseInt(r.aging_31_60) + parseInt(r.aging_61_90) + parseInt(r.aging_over_90)\n      }));\n    } catch (error) {\n      logger.error('Error getting AR aging trend:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get payer mix analysis\n   */\n  async getPayerMixAnalysis(startDate, endDate) {\n    try {\n      const result = await db\n        .select({\n          payer_id: claims.payer_id,\n          payer_name: payers.payer_name,\n          payer_type: payers.payer_type,\n          claim_count: sql`COUNT(*)::int`,\n          total_charges: sql`COALESCE(SUM(${claims.total_charges}), 0)::bigint`,\n          total_paid: sql`COALESCE(SUM(${claims.total_paid}), 0)::bigint`\n        })\n        .from(claims)\n        .leftJoin(payers, eq(claims.payer_id, payers.id))\n        .where(and(\n          gte(claims.service_start_date, startDate),\n          lte(claims.service_start_date, endDate),\n          isNull(claims.deleted_at)\n        ))\n        .groupBy(claims.payer_id, payers.payer_name, payers.payer_type)\n        .orderBy(desc(sql`SUM(${claims.total_charges})`));\n\n      const total = result.reduce((sum, r) => sum + parseInt(r.total_charges), 0);\n\n      return result.map(r => ({\n        payer_id: r.payer_id,\n        payer_name: r.payer_name || 'Unknown',\n        payer_type: r.payer_type || 'Other',\n        claim_count: r.claim_count,\n        total_charges: parseInt(r.total_charges),\n        total_paid: parseInt(r.total_paid),\n        percentage: total > 0 ? parseFloat(((parseInt(r.total_charges) / total) * 100).toFixed(1)) : 0\n      }));\n    } catch (error) {\n      logger.error('Error getting payer mix analysis:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get discipline distribution\n   */\n  async getDisciplineDistribution(startDate, endDate) {\n    try {\n      const result = await db\n        .select({\n          discipline: encounters.discipline,\n          count: sql`COUNT(*)::int`,\n          avg_duration: sql`COALESCE(AVG(${encounters.encounter_duration_minutes}), 0)::numeric`,\n          unique_patients: sql`COUNT(DISTINCT ${encounters.patient_id})::int`\n        })\n        .from(encounters)\n        .where(and(\n          gte(encounters.encounter_date, startDate),\n          lte(encounters.encounter_date, endDate),\n          isNull(encounters.deleted_at)\n        ))\n        .groupBy(encounters.discipline)\n        .orderBy(desc(sql`COUNT(*)`));\n\n      const total = result.reduce((sum, r) => sum + r.count, 0);\n\n      return result.map(r => ({\n        discipline: r.discipline || 'Unknown',\n        count: r.count,\n        avg_duration_minutes: parseFloat(r.avg_duration).toFixed(1),\n        unique_patients: r.unique_patients,\n        percentage: total > 0 ? parseFloat(((r.count / total) * 100).toFixed(1)) : 0\n      }));\n    } catch (error) {\n      logger.error('Error getting discipline distribution:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Calculate trend between two values\n   */\n  calculateTrend(current, previous, lowerIsBetter = false) {\n    if (!previous || previous === 0) {\n      return { direction: 'neutral', percentage: 0 };\n    }\n\n    const change = ((current - previous) / previous) * 100;\n    let direction = 'neutral';\n\n    if (Math.abs(change) > 1) {\n      if (lowerIsBetter) {\n        direction = change < 0 ? 'positive' : 'negative';\n      } else {\n        direction = change > 0 ? 'positive' : 'negative';\n      }\n    }\n\n    return {\n      direction,\n      percentage: parseFloat(change.toFixed(1)),\n      raw_change: parseFloat((current - previous).toFixed(2))\n    };\n  }\n\n  /**\n   * Get date range for period\n   */\n  getPeriodDateRange(period) {\n    const now = new Date();\n    const start = new Date();\n    const end = new Date();\n\n    switch (period) {\n      case 'current_month':\n        start.setDate(1);\n        start.setHours(0, 0, 0, 0);\n        break;\n\n      case 'last_month':\n        start.setMonth(now.getMonth() - 1);\n        start.setDate(1);\n        start.setHours(0, 0, 0, 0);\n        end.setDate(0);\n        end.setHours(23, 59, 59, 999);\n        break;\n\n      case 'current_quarter':\n        const quarter = Math.floor(now.getMonth() / 3);\n        start.setMonth(quarter * 3);\n        start.setDate(1);\n        start.setHours(0, 0, 0, 0);\n        break;\n\n      case 'ytd':\n        start.setMonth(0);\n        start.setDate(1);\n        start.setHours(0, 0, 0, 0);\n        break;\n\n      case 'last_30_days':\n        start.setDate(now.getDate() - 30);\n        start.setHours(0, 0, 0, 0);\n        break;\n\n      case 'last_90_days':\n        start.setDate(now.getDate() - 90);\n        start.setHours(0, 0, 0, 0);\n        break;\n\n      default:\n        start.setDate(1);\n        start.setHours(0, 0, 0, 0);\n    }\n\n    return { start, end };\n  }\n\n  /**\n   * Get previous period date range\n   */\n  getPreviousPeriodDateRange(period) {\n    const current = this.getPeriodDateRange(period);\n    const diff = current.end.getTime() - current.start.getTime();\n\n    return {\n      start: new Date(current.start.getTime() - diff),\n      end: new Date(current.start.getTime() - 1)\n    };\n  }\n\n  /**\n   * Format period label\n   */\n  formatPeriodLabel(period) {\n    const labels = {\n      current_month: 'Current Month',\n      last_month: 'Last Month',\n      current_quarter: 'Current Quarter',\n      ytd: 'Year to Date',\n      last_30_days: 'Last 30 Days',\n      last_90_days: 'Last 90 Days'\n    };\n    return labels[period] || period;\n  }\n}\n\nexport default new DashboardAggregationService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}