{"version":3,"names":["cov_8wcthrypz","actualCoverage","db","encounters","encounter_addendums","encounter_amendments","encounter_templates","patients","eq","and","desc","or","isNull","gte","lte","sql","count","crypto","logger","logAudit","hipaaLogger","EncounterController","index","request","reply","f","s","patient_id","discipline","status","staff_id","date_from","date_to","limit","b","offset","sort","order","query","conditions","deleted_at","push","parseInt","encounter_status","encounter_date","Date","totalCountResult","select","value","from","where","totalCount","parsedLimit","Math","min","parsedOffset","sortColumn","createdAt","sortOrder","results","id","encounter_type","encounter_duration_minutes","visit_location","visit_address","staff_name","staff_credentials","cosigner_id","cosigner_name","gps_check_in","gps_check_out","subjective","objective","assessment","plan","vital_signs","pain_assessment","symptoms","interventions","medications_administered","patient_education","education_topics","patient_understanding","caregiver_present","caregiver_name","caregiver_assessment","caregiver_education","caregiver_coping","emotional_status","spiritual_concerns","social_concerns","safety_concerns","fall_risk","skin_integrity","environment_assessment","home_safety_issues","communication_with_physician","communication_with_team","orders_received","clinical_notes","follow_up_needed","recommendations","attachments","signature","cosignature","amended","amendment_count","created_by_id","updated_by_id","updatedAt","orderBy","code","data","length","total","pagination","hasMore","error","context","message","process","env","NODE_ENV","undefined","store","body","requiredFields","missingFields","filter","field","fields","validEncounterTypes","includes","validValues","validDisciplines","patient","safeData","result","insert","values","user","firstName","lastName","trim","credentials","returning","dbOperation","show","params","addendums","encounter_id","addendum_date","addendum_reason","addendum_content","added_by_id","added_by_name","amendments","amendment_date","amendment_reason","field_amended","original_value","amended_value","amendment_notes","amended_by_id","amended_by_name","update","encounterId","isNaN","existing","_id","_patientId","_createdById","_createdAt","_signature","_cosignature","_deletedAt","_amended","_amendmentCount","set","destroy","force","addendumCount","amendmentCount","hasAddendums","hasAmendments","security","deletedBy","sign","dataToSign","JSON","stringify","signatureHash","createHash","digest","signedBy","signedByName","signedAt","toISOString","signatureType","ipAddress","ip","userAgent","headers","meaning","role","cosign","cosigned_at","cosignedBy","addAddendum","added_at","addendum","addAmendment","amended_at","amendment","amendmentId","fieldAmended","amendedBy","getUnsigned","getByDiscipline","getPatientEncounters"],"sources":["Encounter.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport { encounters, encounter_addendums, encounter_amendments, encounter_templates, patients } from '../db/schemas/index.js';\nimport { eq, and, desc, or, isNull, gte, lte, sql, count } from 'drizzle-orm';\nimport crypto from 'crypto';\n\nimport { logger } from '../utils/logger.js';\nimport { logAudit } from '../middleware/audit.middleware.js';\nimport { hipaaLogger } from '../utils/hipaaLogger.js';\n/**\n * Encounter Controller\n * Manages clinical encounter documentation\n * Critical: Required for billing and regulatory compliance\n */\nclass EncounterController {\n  /**\n   * Get all encounters (with pagination and filters)\n   * GET /encounters\n   *\n   * Query Parameters:\n   * - patient_id: Filter by patient\n   * - discipline: Filter by discipline (REGISTERED_NURSE, SOCIAL_WORKER, etc.)\n   * - status: Filter by status (SCHEDULED, IN_PROGRESS, COMPLETED, SIGNED, etc.)\n   * - staff_id: Filter by staff member\n   * - date_from: Filter encounters from this date (ISO format)\n   * - date_to: Filter encounters up to this date (ISO format)\n   * - limit: Number of records to return (default 50, max 100)\n   * - offset: Number of records to skip for pagination\n   * - sort: Sort field (encounter_date, createdAt)\n   * - order: Sort order (asc, desc - default desc)\n   */\n  async index(request, reply) {\n    try {\n      const {\n        patient_id,\n        discipline,\n        status,\n        staff_id,\n        date_from,\n        date_to,\n        limit = 50,\n        offset = 0,\n        sort = 'encounter_date',\n        order = 'desc'\n      } = request.query;\n\n      // Build filter conditions\n      const conditions = [isNull(encounters.deleted_at)];\n\n      if (patient_id) {\n        conditions.push(eq(encounters.patient_id, parseInt(patient_id)));\n      }\n      if (discipline) {\n        conditions.push(eq(encounters.discipline, discipline));\n      }\n      if (status) {\n        conditions.push(eq(encounters.encounter_status, status));\n      }\n      if (staff_id) {\n        conditions.push(eq(encounters.staff_id, staff_id));\n      }\n      if (date_from) {\n        conditions.push(gte(encounters.encounter_date, new Date(date_from)));\n      }\n      if (date_to) {\n        conditions.push(lte(encounters.encounter_date, new Date(date_to)));\n      }\n\n      // Get total count for pagination\n      const totalCountResult = await db\n        .select({ value: count() })\n        .from(encounters)\n        .where(and(...conditions));\n      const totalCount = totalCountResult[0]?.value || 0;\n\n      // Validate and cap limit\n      const parsedLimit = Math.min(parseInt(limit) || 50, 100);\n      const parsedOffset = parseInt(offset) || 0;\n\n      // Determine sort order\n      const sortColumn = sort === 'createdAt' ? encounters.createdAt : encounters.encounter_date;\n      const sortOrder = order === 'asc' ? sortColumn : desc(sortColumn);\n\n      const results = await db.select({\n        id: encounters.id,\n        patient_id: encounters.patient_id,\n        encounter_type: encounters.encounter_type,\n        encounter_status: encounters.encounter_status,\n        encounter_date: encounters.encounter_date,\n        encounter_duration_minutes: encounters.encounter_duration_minutes,\n        visit_location: encounters.visit_location,\n        visit_address: encounters.visit_address,\n        discipline: encounters.discipline,\n        staff_id: encounters.staff_id,\n        staff_name: encounters.staff_name,\n        staff_credentials: encounters.staff_credentials,\n        cosigner_id: encounters.cosigner_id,\n        cosigner_name: encounters.cosigner_name,\n        gps_check_in: encounters.gps_check_in,\n        gps_check_out: encounters.gps_check_out,\n        subjective: encounters.subjective,\n        objective: encounters.objective,\n        assessment: encounters.assessment,\n        plan: encounters.plan,\n        vital_signs: encounters.vital_signs,\n        pain_assessment: encounters.pain_assessment,\n        symptoms: encounters.symptoms,\n        interventions: encounters.interventions,\n        medications_administered: encounters.medications_administered,\n        patient_education: encounters.patient_education,\n        education_topics: encounters.education_topics,\n        patient_understanding: encounters.patient_understanding,\n        caregiver_present: encounters.caregiver_present,\n        caregiver_name: encounters.caregiver_name,\n        caregiver_assessment: encounters.caregiver_assessment,\n        caregiver_education: encounters.caregiver_education,\n        caregiver_coping: encounters.caregiver_coping,\n        emotional_status: encounters.emotional_status,\n        spiritual_concerns: encounters.spiritual_concerns,\n        social_concerns: encounters.social_concerns,\n        safety_concerns: encounters.safety_concerns,\n        fall_risk: encounters.fall_risk,\n        skin_integrity: encounters.skin_integrity,\n        environment_assessment: encounters.environment_assessment,\n        home_safety_issues: encounters.home_safety_issues,\n        communication_with_physician: encounters.communication_with_physician,\n        communication_with_team: encounters.communication_with_team,\n        orders_received: encounters.orders_received,\n        clinical_notes: encounters.clinical_notes,\n        follow_up_needed: encounters.follow_up_needed,\n        recommendations: encounters.recommendations,\n        attachments: encounters.attachments,\n        signature: encounters.signature,\n        cosignature: encounters.cosignature,\n        amended: encounters.amended,\n        amendment_count: encounters.amendment_count,\n        created_by_id: encounters.created_by_id,\n        updated_by_id: encounters.updated_by_id,\n        deleted_at: encounters.deleted_at,\n        createdAt: encounters.createdAt,\n        updatedAt: encounters.updatedAt\n      })\n        .from(encounters)\n        .where(and(...conditions))\n        .orderBy(sortOrder)\n        .limit(parsedLimit)\n        .offset(parsedOffset);\n\n      // Log audit for PHI access\n      await logAudit(request, 'READ', 'encounters', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        total: totalCount,\n        pagination: {\n          limit: parsedLimit,\n          offset: parsedOffset,\n          hasMore: parsedOffset + results.length < totalCount\n        }\n      };\n    } catch (error) {\n      hipaaLogger.error('Error fetching encounters', { context: 'EncounterController.index', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching encounters',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create new encounter\n   * POST /encounters\n   *\n   * Required fields:\n   * - patient_id: Patient ID (must exist and be active)\n   * - encounter_type: Type of encounter (ADMISSION_VISIT, ROUTINE_VISIT, PRN_VISIT, etc.)\n   * - encounter_date: Date/time of encounter\n   * - discipline: Staff discipline (REGISTERED_NURSE, SOCIAL_WORKER, CHAPLAIN, etc.)\n   *\n   * Optional fields:\n   * - staff_id: Staff member ID (defaults to current user)\n   * - visit_location: Location type (PATIENT_HOME, ASSISTED_LIVING_FACILITY, etc.)\n   * - All SOAP fields, vital signs, assessments, etc.\n   */\n  async store(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      const requiredFields = ['patient_id', 'encounter_type', 'encounter_date', 'discipline'];\n      const missingFields = requiredFields.filter(field => !data[field]);\n\n      if (missingFields.length > 0) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields',\n          error: {\n            code: 'VALIDATION_ERROR',\n            fields: missingFields\n          }\n        };\n      }\n\n      // Validate encounter_type\n      const validEncounterTypes = [\n        'ADMISSION_VISIT', 'ROUTINE_VISIT', 'PRN_VISIT', 'RECERTIFICATION_VISIT',\n        'DISCHARGE_VISIT', 'DEATH_VISIT', 'BEREAVEMENT_VISIT', 'ON_CALL_VISIT',\n        'SUPERVISORY_VISIT', 'CONTINUOUS_CARE', 'INPATIENT_RESPITE', 'GIP_VISIT'\n      ];\n      if (!validEncounterTypes.includes(data.encounter_type)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid encounter type',\n          error: {\n            code: 'VALIDATION_ERROR',\n            field: 'encounter_type',\n            validValues: validEncounterTypes\n          }\n        };\n      }\n\n      // Validate discipline\n      const validDisciplines = [\n        'REGISTERED_NURSE', 'LICENSED_PRACTICAL_NURSE', 'CERTIFIED_NURSING_ASSISTANT',\n        'SOCIAL_WORKER', 'CHAPLAIN', 'VOLUNTEER', 'PHYSICIAN', 'NURSE_PRACTITIONER',\n        'PHYSICAL_THERAPIST', 'OCCUPATIONAL_THERAPIST', 'SPEECH_THERAPIST',\n        'DIETITIAN', 'PHARMACIST', 'BEREAVEMENT_COUNSELOR', 'MUSIC_THERAPIST'\n      ];\n      if (!validDisciplines.includes(data.discipline)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid discipline',\n          error: {\n            code: 'VALIDATION_ERROR',\n            field: 'discipline',\n            validValues: validDisciplines\n          }\n        };\n      }\n\n      // Verify patient exists and is active\n      const patient = await db\n        .select({ id: patients.id, status: patients.status })\n        .from(patients)\n        .where(eq(patients.id, parseInt(data.patient_id)))\n        .limit(1);\n\n      if (!patient[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Patient not found',\n          error: { code: 'PATIENT_NOT_FOUND' }\n        };\n      }\n\n      // Prevent immutable field injection\n      const { id, createdAt, deleted_at, signature, cosignature, ...safeData } = data;\n\n      const result = await db\n        .insert(encounters)\n        .values({\n          ...safeData,\n          patient_id: parseInt(data.patient_id),\n          encounter_date: new Date(data.encounter_date),\n          encounter_status: data.encounter_status || 'IN_PROGRESS',\n          staff_id: data.staff_id || request.user?.id,\n          staff_name: data.staff_name || `${request.user?.firstName || ''} ${request.user?.lastName || ''}`.trim(),\n          staff_credentials: data.staff_credentials || request.user?.credentials || null,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      // Log audit for PHI creation\n      await logAudit(request, 'CREATE', 'encounters', result[0].id);\n      hipaaLogger.dbOperation('create', 'encounters', result[0].id);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Encounter created successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error creating encounter', { context: 'EncounterController.store', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get encounter by ID\n   * GET /encounters/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found'\n        };\n      }\n\n      // Fetch addendums\n      const addendums = await db\n        .select({\n          id: encounter_addendums.id,\n          encounter_id: encounter_addendums.encounter_id,\n          patient_id: encounter_addendums.patient_id,\n          addendum_date: encounter_addendums.addendum_date,\n          addendum_reason: encounter_addendums.addendum_reason,\n          addendum_content: encounter_addendums.addendum_content,\n          added_by_id: encounter_addendums.added_by_id,\n          added_by_name: encounter_addendums.added_by_name,\n          signature: encounter_addendums.signature,\n          createdAt: encounter_addendums.createdAt,\n          updatedAt: encounter_addendums.updatedAt\n        })\n        .from(encounter_addendums)\n        .where(eq(encounter_addendums.encounter_id, parseInt(id)))\n        .orderBy(desc(encounter_addendums.addendum_date));\n\n      // Fetch amendments\n      const amendments = await db\n        .select({\n          id: encounter_amendments.id,\n          encounter_id: encounter_amendments.encounter_id,\n          patient_id: encounter_amendments.patient_id,\n          amendment_date: encounter_amendments.amendment_date,\n          amendment_reason: encounter_amendments.amendment_reason,\n          field_amended: encounter_amendments.field_amended,\n          original_value: encounter_amendments.original_value,\n          amended_value: encounter_amendments.amended_value,\n          amendment_notes: encounter_amendments.amendment_notes,\n          amended_by_id: encounter_amendments.amended_by_id,\n          amended_by_name: encounter_amendments.amended_by_name,\n          signature: encounter_amendments.signature,\n          createdAt: encounter_amendments.createdAt,\n          updatedAt: encounter_amendments.updatedAt\n        })\n        .from(encounter_amendments)\n        .where(eq(encounter_amendments.encounter_id, parseInt(id)))\n        .orderBy(desc(encounter_amendments.amendment_date));\n\n      // Log audit for PHI access\n      await logAudit(request, 'READ', 'encounters', parseInt(id));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          ...result[0],\n          addendums,\n          amendments\n        }\n      };\n    } catch (error) {\n      hipaaLogger.error('Error fetching encounter', { context: 'EncounterController.show', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update encounter\n   * PATCH /encounters/:id\n   *\n   * Updates allowed fields on an unsigned encounter.\n   * Signed/cosigned encounters cannot be updated directly - use amendments instead.\n   *\n   * Immutable fields (cannot be changed):\n   * - id, patient_id, created_by_id, createdAt, signature, cosignature\n   */\n  async update(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      // Validate ID parameter\n      const encounterId = parseInt(id);\n      if (isNaN(encounterId)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid encounter ID',\n          error: { code: 'INVALID_ID' }\n        };\n      }\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_status: encounters.encounter_status,\n          staff_id: encounters.staff_id,\n          created_by_id: encounters.created_by_id,\n          createdAt: encounters.createdAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, encounterId),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found',\n          error: { code: 'ENCOUNTER_NOT_FOUND' }\n        };\n      }\n\n      // Don't allow updates to signed encounters (must use amendments)\n      if (existing[0].encounter_status === 'SIGNED' || existing[0].encounter_status === 'COSIGNED') {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update signed encounters. Use amendments instead.',\n          error: { code: 'SIGNED_ENCOUNTER_IMMUTABLE' }\n        };\n      }\n\n      // Don't allow updates to amended status directly\n      if (existing[0].encounter_status === 'AMENDED') {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update amended encounters directly.',\n          error: { code: 'AMENDED_ENCOUNTER_RESTRICTED' }\n        };\n      }\n\n      // Remove immutable fields from update data\n      const {\n        id: _id,\n        patient_id: _patientId,\n        created_by_id: _createdById,\n        createdAt: _createdAt,\n        signature: _signature,\n        cosignature: _cosignature,\n        deleted_at: _deletedAt,\n        amended: _amended,\n        amendment_count: _amendmentCount,\n        ...safeData\n      } = data;\n\n      // Validate encounter_type if provided\n      if (safeData.encounter_type) {\n        const validEncounterTypes = [\n          'ADMISSION_VISIT', 'ROUTINE_VISIT', 'PRN_VISIT', 'RECERTIFICATION_VISIT',\n          'DISCHARGE_VISIT', 'DEATH_VISIT', 'BEREAVEMENT_VISIT', 'ON_CALL_VISIT',\n          'SUPERVISORY_VISIT', 'CONTINUOUS_CARE', 'INPATIENT_RESPITE', 'GIP_VISIT'\n        ];\n        if (!validEncounterTypes.includes(safeData.encounter_type)) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid encounter type',\n            error: { code: 'VALIDATION_ERROR', field: 'encounter_type' }\n          };\n        }\n      }\n\n      // Validate discipline if provided\n      if (safeData.discipline) {\n        const validDisciplines = [\n          'REGISTERED_NURSE', 'LICENSED_PRACTICAL_NURSE', 'CERTIFIED_NURSING_ASSISTANT',\n          'SOCIAL_WORKER', 'CHAPLAIN', 'VOLUNTEER', 'PHYSICIAN', 'NURSE_PRACTITIONER',\n          'PHYSICAL_THERAPIST', 'OCCUPATIONAL_THERAPIST', 'SPEECH_THERAPIST',\n          'DIETITIAN', 'PHARMACIST', 'BEREAVEMENT_COUNSELOR', 'MUSIC_THERAPIST'\n        ];\n        if (!validDisciplines.includes(safeData.discipline)) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid discipline',\n            error: { code: 'VALIDATION_ERROR', field: 'discipline' }\n          };\n        }\n      }\n\n      // Parse encounter_date if provided\n      if (safeData.encounter_date) {\n        safeData.encounter_date = new Date(safeData.encounter_date);\n      }\n\n      const result = await db\n        .update(encounters)\n        .set({\n          ...safeData,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(encounters.id, encounterId))\n        .returning();\n\n      // Log audit for PHI update\n      await logAudit(request, 'UPDATE', 'encounters', encounterId);\n      hipaaLogger.dbOperation('update', 'encounters', encounterId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Encounter updated successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error updating encounter', { context: 'EncounterController.update', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete encounter (soft delete, unsigned only)\n   * DELETE /encounters/:id\n   *\n   * Only unsigned encounters can be deleted.\n   * Signed/cosigned encounters cannot be deleted to maintain audit trail.\n   * Encounters with dependent records (addendums, amendments) cannot be deleted.\n   *\n   * Query Parameters:\n   * - force: Set to 'true' to force delete even with dependent records (admin only)\n   */\n  async destroy(request, reply) {\n    try {\n      const { id } = request.params;\n      const { force } = request.query;\n\n      // Validate ID parameter\n      const encounterId = parseInt(id);\n      if (isNaN(encounterId)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid encounter ID',\n          error: { code: 'INVALID_ID' }\n        };\n      }\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_status: encounters.encounter_status,\n          staff_id: encounters.staff_id\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, encounterId),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found',\n          error: { code: 'ENCOUNTER_NOT_FOUND' }\n        };\n      }\n\n      // Only allow deletion of unsigned encounters\n      if (existing[0].encounter_status === 'SIGNED' || existing[0].encounter_status === 'COSIGNED') {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete signed encounters. Signed clinical records must be retained for compliance.',\n          error: { code: 'SIGNED_ENCOUNTER_PROTECTED' }\n        };\n      }\n\n      // Check for dependent records (addendums)\n      const addendumCount = await db\n        .select({ value: count() })\n        .from(encounter_addendums)\n        .where(eq(encounter_addendums.encounter_id, encounterId));\n\n      // Check for dependent records (amendments)\n      const amendmentCount = await db\n        .select({ value: count() })\n        .from(encounter_amendments)\n        .where(eq(encounter_amendments.encounter_id, encounterId));\n\n      const hasAddendums = (addendumCount[0]?.value || 0) > 0;\n      const hasAmendments = (amendmentCount[0]?.value || 0) > 0;\n\n      if ((hasAddendums || hasAmendments) && force !== 'true') {\n        reply.code(409);\n        return {\n          status: 409,\n          message: 'Cannot delete encounter with dependent records',\n          error: {\n            code: 'HAS_DEPENDENT_RECORDS',\n            addendums: addendumCount[0]?.value || 0,\n            amendments: amendmentCount[0]?.value || 0\n          }\n        };\n      }\n\n      // Soft delete the encounter\n      await db\n        .update(encounters)\n        .set({\n          deleted_at: new Date(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(encounters.id, encounterId));\n\n      // Log audit for PHI deletion\n      await logAudit(request, 'DELETE', 'encounters', encounterId);\n      hipaaLogger.dbOperation('delete', 'encounters', encounterId);\n      hipaaLogger.security('ENCOUNTER_DELETED', {\n        encounterId,\n        deletedBy: request.user?.id,\n        force: force === 'true'\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Encounter deleted successfully'\n      };\n    } catch (error) {\n      hipaaLogger.error('Error deleting encounter', { context: 'EncounterController.destroy', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign encounter (21 CFR Part 11 compliance)\n   * POST /encounters/:id/sign\n   */\n  async sign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found'\n        };\n      }\n\n      if (existing[0].encounter_status === 'SIGNED' || existing[0].encounter_status === 'COSIGNED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Encounter already signed'\n        };\n      }\n\n      // Generate signature hash\n      const dataToSign = JSON.stringify({\n        id: existing[0].id,\n        patient_id: existing[0].patient_id,\n        encounter_type: existing[0].encounter_type,\n        encounter_date: existing[0].encounter_date,\n        subjective: existing[0].subjective,\n        objective: existing[0].objective,\n        assessment: existing[0].assessment,\n        plan: existing[0].plan\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const signature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName} ${request.user?.lastName}`,\n        signedAt: new Date().toISOString(),\n        signatureType: 'ELECTRONIC',\n        signatureHash: signatureHash,\n        ipAddress: request.ip,\n        userAgent: request.headers['user-agent'],\n        meaning: 'Signature attesting to the accuracy and completeness of this clinical encounter',\n        credentials: request.user?.role || 'Unknown'\n      };\n\n      const result = await db\n        .update(encounters)\n        .set({\n          signature: signature,\n          encounter_status: 'SIGNED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(encounters.id, parseInt(id)))\n        .returning();\n\n      // Log audit for clinical note signing (critical for 21 CFR Part 11)\n      await logAudit(request, 'SIGN', 'encounters', parseInt(id));\n      hipaaLogger.security('ENCOUNTER_SIGNED', {\n        encounterId: parseInt(id),\n        signedBy: request.user?.id,\n        signatureHash: signatureHash\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Encounter signed successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error signing encounter', { context: 'EncounterController.sign', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Cosign encounter (for supervision, students, etc.)\n   * POST /encounters/:id/cosign\n   */\n  async cosign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found'\n        };\n      }\n\n      if (existing[0].encounter_status !== 'SIGNED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Encounter must be signed before cosigning'\n        };\n      }\n\n      if (existing[0].encounter_status === 'COSIGNED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Encounter already cosigned'\n        };\n      }\n\n      // Generate cosignature hash\n      const dataToSign = JSON.stringify({\n        ...existing[0],\n        cosigned_at: new Date().toISOString()\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const cosignature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName} ${request.user?.lastName}`,\n        signedAt: new Date().toISOString(),\n        signatureType: 'COSIGNATURE',\n        signatureHash: signatureHash,\n        ipAddress: request.ip,\n        userAgent: request.headers['user-agent'],\n        meaning: 'Cosignature attesting to the review and supervision of this clinical encounter',\n        credentials: request.user?.role || 'Unknown'\n      };\n\n      const result = await db\n        .update(encounters)\n        .set({\n          cosignature: cosignature,\n          cosigner_id: request.user?.id,\n          cosigner_name: `${request.user?.firstName} ${request.user?.lastName}`,\n          encounter_status: 'COSIGNED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(encounters.id, parseInt(id)))\n        .returning();\n\n      // Log audit for clinical note cosigning (critical for 21 CFR Part 11)\n      await logAudit(request, 'COSIGN', 'encounters', parseInt(id));\n      hipaaLogger.security('ENCOUNTER_COSIGNED', {\n        encounterId: parseInt(id),\n        cosignedBy: request.user?.id,\n        signatureHash: signatureHash\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Encounter cosigned successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error cosigning encounter', { context: 'EncounterController.cosign', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error cosigning encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Add addendum to signed encounter\n   * POST /encounters/:id/addendum\n   */\n  async addAddendum(request, reply) {\n    try {\n      const { id } = request.params;\n      const { addendum_reason, addendum_content } = request.body;\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found'\n        };\n      }\n\n      // Generate signature hash\n      const dataToSign = JSON.stringify({\n        encounter_id: parseInt(id),\n        addendum_content,\n        added_at: new Date().toISOString()\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const signature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName} ${request.user?.lastName}`,\n        signedAt: new Date().toISOString(),\n        signatureType: 'ELECTRONIC',\n        signatureHash: signatureHash,\n        ipAddress: request.ip,\n        userAgent: request.headers['user-agent'],\n        meaning: 'Signature attesting to this addendum',\n        credentials: request.user?.role || 'Unknown'\n      };\n\n      const addendum = await db\n        .insert(encounter_addendums)\n        .values({\n          encounter_id: parseInt(id),\n          patient_id: existing[0].patient_id,\n          addendum_date: new Date(),\n          addendum_reason,\n          addendum_content,\n          added_by_id: request.user?.id,\n          added_by_name: `${request.user?.firstName} ${request.user?.lastName}`,\n          signature\n        })\n        .returning();\n\n      // Log audit for addendum creation\n      await logAudit(request, 'CREATE', 'encounter_addendums', addendum[0].id);\n      hipaaLogger.dbOperation('create', 'encounter_addendums', addendum[0].id);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Addendum added successfully',\n        data: addendum[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error adding addendum', { context: 'EncounterController.addAddendum', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error adding addendum',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Amend signed encounter\n   * POST /encounters/:id/amendments\n   */\n  async addAmendment(request, reply) {\n    try {\n      const { id } = request.params;\n      const { amendment_reason, field_amended, original_value, amended_value, amendment_notes } = request.body;\n\n      const existing = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Encounter not found'\n        };\n      }\n\n      // Generate signature hash\n      const dataToSign = JSON.stringify({\n        encounter_id: parseInt(id),\n        field_amended,\n        original_value,\n        amended_value,\n        amended_at: new Date().toISOString()\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const signature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName} ${request.user?.lastName}`,\n        signedAt: new Date().toISOString(),\n        signatureType: 'ELECTRONIC',\n        signatureHash: signatureHash,\n        ipAddress: request.ip,\n        userAgent: request.headers['user-agent'],\n        meaning: 'Signature attesting to this amendment',\n        credentials: request.user?.role || 'Unknown'\n      };\n\n      const amendment = await db\n        .insert(encounter_amendments)\n        .values({\n          encounter_id: parseInt(id),\n          patient_id: existing[0].patient_id,\n          amendment_date: new Date(),\n          amendment_reason,\n          field_amended,\n          original_value,\n          amended_value,\n          amendment_notes,\n          amended_by_id: request.user?.id,\n          amended_by_name: `${request.user?.firstName} ${request.user?.lastName}`,\n          signature\n        })\n        .returning();\n\n      // Update encounter to mark as amended\n      await db\n        .update(encounters)\n        .set({\n          amended: true,\n          amendment_count: (existing[0].amendment_count || 0) + 1,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(encounters.id, parseInt(id)));\n\n      // Log audit for amendment creation (critical for compliance)\n      await logAudit(request, 'CREATE', 'encounter_amendments', amendment[0].id);\n      hipaaLogger.security('ENCOUNTER_AMENDED', {\n        encounterId: parseInt(id),\n        amendmentId: amendment[0].id,\n        fieldAmended: field_amended,\n        amendedBy: request.user?.id\n      });\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Amendment added successfully',\n        data: amendment[0]\n      };\n    } catch (error) {\n      hipaaLogger.error('Error adding amendment', { context: 'EncounterController.addAmendment', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error adding amendment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get unsigned encounters\n   * GET /encounters/unsigned\n   */\n  async getUnsigned(request, reply) {\n    try {\n      const { discipline, staff_id } = request.query;\n\n      let query = db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          or(\n            eq(encounters.encounter_status, 'COMPLETED'),\n            eq(encounters.encounter_status, 'UNSIGNED')\n          ),\n          isNull(encounters.deleted_at)\n        ));\n\n      if (discipline) {\n        query = query.where(eq(encounters.discipline, discipline));\n      }\n      if (staff_id) {\n        query = query.where(eq(encounters.staff_id, staff_id));\n      }\n\n      const results = await query.orderBy(desc(encounters.encounter_date));\n\n      // Log audit for PHI access\n      await logAudit(request, 'READ', 'encounters', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      hipaaLogger.error('Error fetching unsigned encounters', { context: 'EncounterController.getUnsigned', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching unsigned encounters',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get encounters by discipline\n   * GET /encounters/by-discipline\n   */\n  async getByDiscipline(request, reply) {\n    try {\n      const { discipline } = request.query;\n\n      if (!discipline) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Discipline parameter required',\n          error: { code: 'VALIDATION_ERROR', field: 'discipline' }\n        };\n      }\n\n      const results = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.discipline, discipline),\n          isNull(encounters.deleted_at)\n        ))\n        .orderBy(desc(encounters.encounter_date));\n\n      // Log audit for PHI access\n      await logAudit(request, 'READ', 'encounters', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      hipaaLogger.error('Error fetching encounters by discipline', { context: 'EncounterController.getByDiscipline', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching encounters',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get patient encounters\n   * GET /patients/:id/encounters\n   */\n  async getPatientEncounters(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const results = await db\n        .select({\n          id: encounters.id,\n          patient_id: encounters.patient_id,\n          encounter_type: encounters.encounter_type,\n          encounter_status: encounters.encounter_status,\n          encounter_date: encounters.encounter_date,\n          encounter_duration_minutes: encounters.encounter_duration_minutes,\n          visit_location: encounters.visit_location,\n          visit_address: encounters.visit_address,\n          discipline: encounters.discipline,\n          staff_id: encounters.staff_id,\n          staff_name: encounters.staff_name,\n          staff_credentials: encounters.staff_credentials,\n          cosigner_id: encounters.cosigner_id,\n          cosigner_name: encounters.cosigner_name,\n          gps_check_in: encounters.gps_check_in,\n          gps_check_out: encounters.gps_check_out,\n          subjective: encounters.subjective,\n          objective: encounters.objective,\n          assessment: encounters.assessment,\n          plan: encounters.plan,\n          vital_signs: encounters.vital_signs,\n          pain_assessment: encounters.pain_assessment,\n          symptoms: encounters.symptoms,\n          interventions: encounters.interventions,\n          medications_administered: encounters.medications_administered,\n          patient_education: encounters.patient_education,\n          education_topics: encounters.education_topics,\n          patient_understanding: encounters.patient_understanding,\n          caregiver_present: encounters.caregiver_present,\n          caregiver_name: encounters.caregiver_name,\n          caregiver_assessment: encounters.caregiver_assessment,\n          caregiver_education: encounters.caregiver_education,\n          caregiver_coping: encounters.caregiver_coping,\n          emotional_status: encounters.emotional_status,\n          spiritual_concerns: encounters.spiritual_concerns,\n          social_concerns: encounters.social_concerns,\n          safety_concerns: encounters.safety_concerns,\n          fall_risk: encounters.fall_risk,\n          skin_integrity: encounters.skin_integrity,\n          environment_assessment: encounters.environment_assessment,\n          home_safety_issues: encounters.home_safety_issues,\n          communication_with_physician: encounters.communication_with_physician,\n          communication_with_team: encounters.communication_with_team,\n          orders_received: encounters.orders_received,\n          clinical_notes: encounters.clinical_notes,\n          follow_up_needed: encounters.follow_up_needed,\n          recommendations: encounters.recommendations,\n          attachments: encounters.attachments,\n          signature: encounters.signature,\n          cosignature: encounters.cosignature,\n          amended: encounters.amended,\n          amendment_count: encounters.amendment_count,\n          created_by_id: encounters.created_by_id,\n          updated_by_id: encounters.updated_by_id,\n          deleted_at: encounters.deleted_at,\n          createdAt: encounters.createdAt,\n          updatedAt: encounters.updatedAt\n        })\n        .from(encounters)\n        .where(and(\n          eq(encounters.patient_id, parseInt(id)),\n          isNull(encounters.deleted_at)\n        ))\n        .orderBy(desc(encounters.encounter_date));\n\n      // Log audit for patient PHI access\n      await logAudit(request, 'READ', 'encounters', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      hipaaLogger.error('Error fetching patient encounters', { context: 'EncounterController.getPatientEncounters', error });\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching encounters',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new EncounterController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}