{"version":3,"names":["cov_2i3ugnsadu","actualCoverage","db","numeric_rating_scales","NRS_PAIN_SEVERITY","patients","eq","and","desc","sql","gte","lte","between","logger","logAudit","NumericRatingScaleController","calculatePainSeverity","score","f","s","b","validateScore","data","errors","pain_score","undefined","push","numScore","parseInt","isNaN","optionalScores","field","val","relief_percentage","relief","reassessment_score","reassess","valid","length","getPatientAssessments","request","reply","patientId","params","limit","offset","from_date","to_date","query","conditions","patient_id","assessment_date","Date","assessments","select","from","where","orderBy","code","status","message","count","error","process","env","NODE_ENV","show","id","result","create","body","validation","painScore","painSeverity","painPresent","insert","values","worst_pain_24h","best_pain_24h","average_pain_24h","acceptable_pain_level","pain_severity","pain_present","assessed_by_id","user","created_by_id","updated_by_id","createdAt","updatedAt","returning","interpretation","severity_description","label","update","existing","signed_at","hasScoreUpdate","mergedData","_","updateData","set","delete","sign","signed_by_id","amend","amendment_reason","amended","amended_at","amended_by_id","index","min_score","max_score","getPatientStats","days","startDate","setDate","getDate","latestAssessment","countResult","avgResult","avg_score","avg_worst_24h","avg_best_24h","avg_average_24h","severityResult","groupBy","severityDistribution","row","total_assessments","latest_assessment","period_days","averages","parseFloat","worst_24h","best_24h","average_24h","score_range","max","min","severity_distribution","getPatientTrend","intervention_provided","intervention_effectiveness","reverse","getReference","name","full_name","description","target_populations","scoring","range","score_descriptions","severity_interpretation","additional_assessments","pain_descriptors","clinical_guidelines","reassessment_intervals","NO_PAIN","MILD","MODERATE","SEVERE","intervention_thresholds","non_pharmacological","pharmacological_consideration","urgent_intervention","hospice_considerations"],"sources":["NumericRatingScale.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport { numeric_rating_scales, NRS_PAIN_SEVERITY } from '../db/schemas/numericRatingScale.schema.js';\nimport { patients } from '../db/schemas/index.js';\nimport { eq, and, desc, sql, gte, lte, between } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\nimport { logAudit } from '../middleware/audit.middleware.js';\n\n/**\n * Numeric Rating Scale (NRS) Controller\n * Manages self-reported pain assessments using the 0-10 numeric scale\n * Gold standard for pain assessment in cognitively intact adult patients\n */\nclass NumericRatingScaleController {\n  /**\n   * Calculate pain severity based on score\n   * @param {number} score - NRS pain score (0-10)\n   * @returns {string} Pain severity classification\n   */\n  calculatePainSeverity(score) {\n    if (score === 0) return 'NO_PAIN';\n    if (score <= 3) return 'MILD';\n    if (score <= 6) return 'MODERATE';\n    return 'SEVERE';\n  }\n\n  /**\n   * Validate NRS pain score (must be 0-10)\n   * @param {object} data - Assessment data\n   * @returns {object} Validation result { valid: boolean, errors: string[] }\n   */\n  validateScore(data) {\n    const errors = [];\n    const score = data.pain_score;\n\n    if (score === undefined || score === null) {\n      errors.push('pain_score is required');\n    } else {\n      const numScore = parseInt(score);\n      if (isNaN(numScore) || numScore < 0 || numScore > 10) {\n        errors.push('pain_score must be between 0 and 10');\n      }\n    }\n\n    // Validate optional 24h scores if provided\n    const optionalScores = ['worst_pain_24h', 'best_pain_24h', 'average_pain_24h', 'acceptable_pain_level'];\n    for (const field of optionalScores) {\n      if (data[field] !== undefined && data[field] !== null) {\n        const val = parseInt(data[field]);\n        if (isNaN(val) || val < 0 || val > 10) {\n          errors.push(`${field} must be between 0 and 10`);\n        }\n      }\n    }\n\n    // Validate relief percentage if provided\n    if (data.relief_percentage !== undefined && data.relief_percentage !== null) {\n      const relief = parseInt(data.relief_percentage);\n      if (isNaN(relief) || relief < 0 || relief > 100) {\n        errors.push('relief_percentage must be between 0 and 100');\n      }\n    }\n\n    // Validate reassessment score if provided\n    if (data.reassessment_score !== undefined && data.reassessment_score !== null) {\n      const reassess = parseInt(data.reassessment_score);\n      if (isNaN(reassess) || reassess < 0 || reassess > 10) {\n        errors.push('reassessment_score must be between 0 and 10');\n      }\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  /**\n   * Get all NRS assessments for a patient\n   * GET /patients/:patientId/numeric-rating-scales\n   */\n  async getPatientAssessments(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { limit = 50, offset = 0, from_date, to_date } = request.query;\n\n      let conditions = [eq(numeric_rating_scales.patient_id, parseInt(patientId))];\n\n      if (from_date) {\n        conditions.push(gte(numeric_rating_scales.assessment_date, new Date(from_date)));\n      }\n      if (to_date) {\n        conditions.push(lte(numeric_rating_scales.assessment_date, new Date(to_date)));\n      }\n\n      const assessments = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(and(...conditions))\n        .orderBy(desc(numeric_rating_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'NRS assessments retrieved successfully',\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching patient NRS assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single NRS assessment by ID\n   * GET /numeric-rating-scales/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'NRS assessment not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create a new NRS assessment\n   * POST /patients/:patientId/numeric-rating-scales\n   */\n  async create(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const data = request.body;\n\n      // Validate score\n      const validation = this.validateScore(data);\n      if (!validation.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid NRS score',\n          errors: validation.errors\n        };\n      }\n\n      // Calculate pain severity\n      const painScore = parseInt(data.pain_score);\n      const painSeverity = this.calculatePainSeverity(painScore);\n      const painPresent = painScore > 0;\n\n      const result = await db\n        .insert(numeric_rating_scales)\n        .values({\n          patient_id: parseInt(patientId),\n          ...data,\n          pain_score: painScore,\n          worst_pain_24h: data.worst_pain_24h !== undefined ? parseInt(data.worst_pain_24h) : null,\n          best_pain_24h: data.best_pain_24h !== undefined ? parseInt(data.best_pain_24h) : null,\n          average_pain_24h: data.average_pain_24h !== undefined ? parseInt(data.average_pain_24h) : null,\n          acceptable_pain_level: data.acceptable_pain_level !== undefined ? parseInt(data.acceptable_pain_level) : null,\n          relief_percentage: data.relief_percentage !== undefined ? parseInt(data.relief_percentage) : null,\n          reassessment_score: data.reassessment_score !== undefined ? parseInt(data.reassessment_score) : null,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          assessment_date: data.assessment_date ? new Date(data.assessment_date) : new Date(),\n          assessed_by_id: data.assessed_by_id || request.user?.id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        })\n        .returning();\n\n      await logAudit(request, 'CREATE', 'numeric_rating_scales', result[0].id);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'NRS assessment created successfully',\n        data: result[0],\n        interpretation: {\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: NRS_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update an NRS assessment\n   * PATCH /numeric-rating-scales/:id\n   */\n  async update(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'NRS assessment not found'\n        };\n      }\n\n      // Don't allow updates to signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update a signed NRS assessment. Use amendment instead.'\n        };\n      }\n\n      // Validate scores if being updated\n      const hasScoreUpdate = data.pain_score !== undefined;\n      let painScore = existing[0].pain_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      if (hasScoreUpdate) {\n        // Merge existing with updates for validation\n        const mergedData = {\n          pain_score: data.pain_score ?? existing[0].pain_score,\n          worst_pain_24h: data.worst_pain_24h ?? existing[0].worst_pain_24h,\n          best_pain_24h: data.best_pain_24h ?? existing[0].best_pain_24h,\n          average_pain_24h: data.average_pain_24h ?? existing[0].average_pain_24h,\n          acceptable_pain_level: data.acceptable_pain_level ?? existing[0].acceptable_pain_level,\n          relief_percentage: data.relief_percentage ?? existing[0].relief_percentage,\n          reassessment_score: data.reassessment_score ?? existing[0].reassessment_score\n        };\n\n        const validation = this.validateScore(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid NRS score',\n            errors: validation.errors\n          };\n        }\n\n        painScore = parseInt(mergedData.pain_score);\n        painSeverity = this.calculatePainSeverity(painScore);\n        painPresent = painScore > 0;\n      }\n\n      // Remove fields that shouldn't be updated directly\n      const { id: _, patient_id, created_by_id, createdAt, ...updateData } = data;\n\n      // Parse integer fields if present\n      if (updateData.pain_score !== undefined) updateData.pain_score = parseInt(updateData.pain_score);\n      if (updateData.worst_pain_24h !== undefined) updateData.worst_pain_24h = parseInt(updateData.worst_pain_24h);\n      if (updateData.best_pain_24h !== undefined) updateData.best_pain_24h = parseInt(updateData.best_pain_24h);\n      if (updateData.average_pain_24h !== undefined) updateData.average_pain_24h = parseInt(updateData.average_pain_24h);\n      if (updateData.acceptable_pain_level !== undefined) updateData.acceptable_pain_level = parseInt(updateData.acceptable_pain_level);\n      if (updateData.relief_percentage !== undefined) updateData.relief_percentage = parseInt(updateData.relief_percentage);\n      if (updateData.reassessment_score !== undefined) updateData.reassessment_score = parseInt(updateData.reassessment_score);\n\n      const result = await db\n        .update(numeric_rating_scales)\n        .set({\n          ...updateData,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'numeric_rating_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'NRS assessment updated successfully',\n        data: result[0],\n        interpretation: {\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: NRS_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error updating NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete an NRS assessment\n   * DELETE /numeric-rating-scales/:id\n   */\n  async delete(request, reply) {\n    try {\n      const { id } = request.params;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'NRS assessment not found'\n        };\n      }\n\n      // Don't allow deletion of signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete a signed NRS assessment'\n        };\n      }\n\n      await db\n        .delete(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)));\n\n      await logAudit(request, 'DELETE', 'numeric_rating_scales', parseInt(id));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'NRS assessment deleted successfully'\n      };\n    } catch (error) {\n      logger.error('Error deleting NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign an NRS assessment (21 CFR Part 11 compliance)\n   * POST /numeric-rating-scales/:id/sign\n   */\n  async sign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'NRS assessment not found'\n        };\n      }\n\n      if (existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'NRS assessment already signed'\n        };\n      }\n\n      const result = await db\n        .update(numeric_rating_scales)\n        .set({\n          signed_at: new Date(),\n          signed_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'numeric_rating_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'NRS assessment signed successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error signing NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Amend a signed NRS assessment\n   * POST /numeric-rating-scales/:id/amend\n   */\n  async amend(request, reply) {\n    try {\n      const { id } = request.params;\n      const { amendment_reason, ...updateData } = request.body;\n\n      if (!amendment_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Amendment reason is required'\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'NRS assessment not found'\n        };\n      }\n\n      if (!existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot amend an unsigned assessment. Use update instead.'\n        };\n      }\n\n      // Recalculate scores if pain_score is being amended\n      let painScore = existing[0].pain_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      if (updateData.pain_score !== undefined) {\n        const mergedData = {\n          pain_score: updateData.pain_score ?? existing[0].pain_score,\n          worst_pain_24h: updateData.worst_pain_24h ?? existing[0].worst_pain_24h,\n          best_pain_24h: updateData.best_pain_24h ?? existing[0].best_pain_24h,\n          average_pain_24h: updateData.average_pain_24h ?? existing[0].average_pain_24h,\n          acceptable_pain_level: updateData.acceptable_pain_level ?? existing[0].acceptable_pain_level,\n          relief_percentage: updateData.relief_percentage ?? existing[0].relief_percentage,\n          reassessment_score: updateData.reassessment_score ?? existing[0].reassessment_score\n        };\n\n        const validation = this.validateScore(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid NRS score',\n            errors: validation.errors\n          };\n        }\n\n        painScore = parseInt(mergedData.pain_score);\n        painSeverity = this.calculatePainSeverity(painScore);\n        painPresent = painScore > 0;\n      }\n\n      // Parse integer fields if present\n      if (updateData.pain_score !== undefined) updateData.pain_score = parseInt(updateData.pain_score);\n      if (updateData.worst_pain_24h !== undefined) updateData.worst_pain_24h = parseInt(updateData.worst_pain_24h);\n      if (updateData.best_pain_24h !== undefined) updateData.best_pain_24h = parseInt(updateData.best_pain_24h);\n      if (updateData.average_pain_24h !== undefined) updateData.average_pain_24h = parseInt(updateData.average_pain_24h);\n      if (updateData.acceptable_pain_level !== undefined) updateData.acceptable_pain_level = parseInt(updateData.acceptable_pain_level);\n      if (updateData.relief_percentage !== undefined) updateData.relief_percentage = parseInt(updateData.relief_percentage);\n      if (updateData.reassessment_score !== undefined) updateData.reassessment_score = parseInt(updateData.reassessment_score);\n\n      const result = await db\n        .update(numeric_rating_scales)\n        .set({\n          ...updateData,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          amended: true,\n          amendment_reason,\n          amended_at: new Date(),\n          amended_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(numeric_rating_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'AMEND', 'numeric_rating_scales', result[0].id, { amendment_reason });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'NRS assessment amended successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error amending NRS assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error amending NRS assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get all NRS assessments (with filters)\n   * GET /numeric-rating-scales\n   */\n  async index(request, reply) {\n    try {\n      const {\n        patient_id,\n        pain_severity,\n        min_score,\n        max_score,\n        limit = 50,\n        offset = 0\n      } = request.query;\n\n      const conditions = [];\n\n      if (patient_id) {\n        conditions.push(eq(numeric_rating_scales.patient_id, parseInt(patient_id)));\n      }\n      if (pain_severity) {\n        conditions.push(eq(numeric_rating_scales.pain_severity, pain_severity));\n      }\n      if (min_score !== undefined) {\n        conditions.push(gte(numeric_rating_scales.pain_score, parseInt(min_score)));\n      }\n      if (max_score !== undefined) {\n        conditions.push(lte(numeric_rating_scales.pain_score, parseInt(max_score)));\n      }\n\n      let query = db.select().from(numeric_rating_scales);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const assessments = await query\n        .orderBy(desc(numeric_rating_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching NRS assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get NRS assessment statistics for a patient\n   * GET /patients/:patientId/numeric-rating-scales/stats\n   */\n  async getPatientStats(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      // Get the most recent assessment\n      const latestAssessment = await db\n        .select()\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.patient_id, parseInt(patientId)))\n        .orderBy(desc(numeric_rating_scales.assessment_date))\n        .limit(1);\n\n      // Get count of assessments\n      const countResult = await db\n        .select({ count: sql`count(*)` })\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.patient_id, parseInt(patientId)));\n\n      // Get average scores for the time period\n      const avgResult = await db\n        .select({\n          avg_score: sql`avg(pain_score)`,\n          max_score: sql`max(pain_score)`,\n          min_score: sql`min(pain_score)`,\n          avg_worst_24h: sql`avg(worst_pain_24h)`,\n          avg_best_24h: sql`avg(best_pain_24h)`,\n          avg_average_24h: sql`avg(average_pain_24h)`\n        })\n        .from(numeric_rating_scales)\n        .where(\n          and(\n            eq(numeric_rating_scales.patient_id, parseInt(patientId)),\n            gte(numeric_rating_scales.assessment_date, startDate)\n          )\n        );\n\n      // Get severity distribution\n      const severityResult = await db\n        .select({\n          pain_severity: numeric_rating_scales.pain_severity,\n          count: sql`count(*)`\n        })\n        .from(numeric_rating_scales)\n        .where(eq(numeric_rating_scales.patient_id, parseInt(patientId)))\n        .groupBy(numeric_rating_scales.pain_severity);\n\n      const severityDistribution = {};\n      for (const row of severityResult) {\n        severityDistribution[row.pain_severity || 'UNKNOWN'] = parseInt(row.count);\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          total_assessments: parseInt(countResult[0]?.count || 0),\n          latest_assessment: latestAssessment[0] || null,\n          period_days: parseInt(days),\n          averages: {\n            pain_score: parseFloat(avgResult[0]?.avg_score) || null,\n            worst_24h: parseFloat(avgResult[0]?.avg_worst_24h) || null,\n            best_24h: parseFloat(avgResult[0]?.avg_best_24h) || null,\n            average_24h: parseFloat(avgResult[0]?.avg_average_24h) || null\n          },\n          score_range: {\n            max: parseInt(avgResult[0]?.max_score) || null,\n            min: parseInt(avgResult[0]?.min_score) || null\n          },\n          severity_distribution: severityDistribution\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching NRS assessment stats:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS assessment statistics',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get NRS score trend for a patient\n   * GET /patients/:patientId/numeric-rating-scales/trend\n   */\n  async getPatientTrend(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30, limit = 100 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      const assessments = await db\n        .select({\n          id: numeric_rating_scales.id,\n          assessment_date: numeric_rating_scales.assessment_date,\n          pain_score: numeric_rating_scales.pain_score,\n          pain_severity: numeric_rating_scales.pain_severity,\n          worst_pain_24h: numeric_rating_scales.worst_pain_24h,\n          best_pain_24h: numeric_rating_scales.best_pain_24h,\n          average_pain_24h: numeric_rating_scales.average_pain_24h,\n          acceptable_pain_level: numeric_rating_scales.acceptable_pain_level,\n          intervention_provided: numeric_rating_scales.intervention_provided,\n          intervention_effectiveness: numeric_rating_scales.intervention_effectiveness\n        })\n        .from(numeric_rating_scales)\n        .where(\n          and(\n            eq(numeric_rating_scales.patient_id, parseInt(patientId)),\n            gte(numeric_rating_scales.assessment_date, startDate)\n          )\n        )\n        .orderBy(desc(numeric_rating_scales.assessment_date))\n        .limit(parseInt(limit));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          period_days: parseInt(days),\n          assessments: assessments.reverse(), // Chronological order for charting\n          count: assessments.length\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching NRS trend:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS trend data',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get NRS scoring reference\n   * GET /numeric-rating-scales/reference\n   */\n  async getReference(request, reply) {\n    try {\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          name: 'Numeric Rating Scale (NRS)',\n          full_name: 'Numeric Pain Rating Scale',\n          description: 'Self-reported pain assessment tool using a 0-10 numeric scale. The gold standard for pain assessment in cognitively intact patients who can self-report.',\n          target_populations: [\n            'Adult patients who can self-report',\n            'Cognitively intact patients',\n            'Patients who understand numeric concepts',\n            'Alert and oriented patients'\n          ],\n          scoring: {\n            range: { min: 0, max: 10 },\n            score_descriptions: {\n              0: 'No pain',\n              1: 'Minimal pain - barely noticeable',\n              2: 'Minor pain - does not interfere with activities',\n              3: 'Noticeable pain - can be ignored',\n              4: 'Moderate pain - can ignore if engaged in task',\n              5: 'Moderately strong pain - cannot be ignored for long',\n              6: 'Moderately strong pain - interferes with concentration',\n              7: 'Severe pain - interferes with normal daily activities',\n              8: 'Intense pain - difficult to do anything',\n              9: 'Excruciating pain - cannot do anything',\n              10: 'Unbearable pain - worst possible pain'\n            },\n            severity_interpretation: NRS_PAIN_SEVERITY\n          },\n          additional_assessments: {\n            worst_pain_24h: 'Worst pain level experienced in the last 24 hours',\n            best_pain_24h: 'Lowest pain level experienced in the last 24 hours',\n            average_pain_24h: 'Average pain level over the last 24 hours',\n            acceptable_pain_level: 'Pain level the patient finds acceptable as a comfort goal'\n          },\n          pain_descriptors: [\n            'Aching', 'Sharp', 'Burning', 'Stabbing', 'Throbbing',\n            'Cramping', 'Dull', 'Shooting', 'Tingling', 'Pressure'\n          ],\n          clinical_guidelines: {\n            reassessment_intervals: {\n              NO_PAIN: '4-8 hours or as clinically indicated',\n              MILD: '2-4 hours',\n              MODERATE: '30-60 minutes after intervention',\n              SEVERE: '15-30 minutes after intervention'\n            },\n            intervention_thresholds: {\n              non_pharmacological: 'Score >= 1',\n              pharmacological_consideration: 'Score >= 4',\n              urgent_intervention: 'Score >= 7'\n            },\n            hospice_considerations: [\n              'Focus on comfort goals rather than complete pain elimination',\n              'Consider patient\\'s acceptable pain level when setting goals',\n              'Balance pain control with alertness preferences',\n              'Include family/caregiver in pain management discussions',\n              'Document breakthrough pain patterns for medication titration'\n            ]\n          }\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching NRS reference:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching NRS reference',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new NumericRatingScaleController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}