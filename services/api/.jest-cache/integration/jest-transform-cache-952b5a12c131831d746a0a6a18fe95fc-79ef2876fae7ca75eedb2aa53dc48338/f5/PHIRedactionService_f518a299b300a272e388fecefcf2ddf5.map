{"version":3,"names":["cov_1n3txa63si","actualCoverage","logger","PHI_FIELD_PATTERNS","s","names","address","dates","phone","email","ssn","mrn","healthPlan","account","certificate","vehicle","device","url","ip","biometric","photo","other","security","medical","PHI_VALUE_PATTERNS","creditCard","ipv4","date","zipCode","ALL_PHI_FIELDS","Object","values","flat","PHI_FIELD_SET","Set","map","f","toLowerCase","PHIRedactionService","constructor","redactionPlaceholder","maxDepth","stats","totalRedactions","fieldRedactions","patternRedactions","shouldRedactField","fieldName","b","lowerField","has","phiField","includes","redactStringPatterns","value","redacted","hadRedaction","patternName","pattern","entries","lastIndex","test","replace","toUpperCase","redact","data","depth","seen","undefined","add","Date","Array","isArray","item","key","safeRedact","error","message","_redactionError","keepOnlySafeFields","safeFields","safeFieldSet","result","createAuditMetadata","getStats","resetStats","containsPHI","getFieldPatterns","getValuePatterns","phiRedactionService","field"],"sources":["PHIRedactionService.js"],"sourcesContent":["/**\n * PHI/PII Redaction Service\n *\n * HIPAA-compliant service for redacting Protected Health Information (PHI)\n * and Personally Identifiable Information (PII) from data before logging.\n *\n * Based on HIPAA Safe Harbor de-identification method which requires\n * removal of 18 specific identifier types.\n */\n\nimport { logger } from '../utils/logger.js';\n\n/**\n * HIPAA Safe Harbor 18 Identifiers plus additional PII fields\n */\nconst PHI_FIELD_PATTERNS = {\n  // 1. Names\n  names: [\n    'name', 'firstName', 'first_name', 'lastName', 'last_name',\n    'middleName', 'middle_name', 'fullName', 'full_name',\n    'patientName', 'patient_name', 'username', 'displayName',\n    'maidenName', 'maiden_name', 'nickname', 'alias',\n  ],\n\n  // 2. Geographic data smaller than state\n  address: [\n    'address', 'address1', 'address2', 'street', 'streetAddress',\n    'street_address', 'city', 'county', 'zipCode', 'zip_code',\n    'postalCode', 'postal_code', 'zip', 'neighborhood',\n    'apartment', 'apt', 'suite', 'unit', 'building',\n  ],\n\n  // 3. Dates (except year) related to an individual\n  dates: [\n    'dateOfBirth', 'date_of_birth', 'dob', 'birthDate', 'birth_date',\n    'deathDate', 'death_date', 'dateOfDeath', 'date_of_death',\n    'admissionDate', 'admission_date', 'dischargeDate', 'discharge_date',\n    'serviceDate', 'service_date', 'visitDate', 'visit_date',\n    'birthdate', 'birthday',\n  ],\n\n  // 4. Phone numbers\n  phone: [\n    'phone', 'phoneNumber', 'phone_number', 'telephone', 'tel',\n    'mobile', 'mobileNumber', 'mobile_number', 'cell', 'cellPhone',\n    'fax', 'faxNumber', 'fax_number', 'homePhone', 'workPhone',\n    'emergencyPhone', 'emergency_phone', 'contactPhone',\n  ],\n\n  // 5. Fax numbers (covered in phone)\n\n  // 6. Email addresses\n  email: [\n    'email', 'emailAddress', 'email_address', 'mail',\n    'e_mail', 'contactEmail', 'contact_email',\n  ],\n\n  // 7. Social Security numbers\n  ssn: [\n    'ssn', 'socialSecurityNumber', 'social_security_number',\n    'socialSecurity', 'social_security', 'taxId', 'tax_id',\n    'taxIdentifier', 'sin', 'nationalId', 'national_id',\n  ],\n\n  // 8. Medical record numbers\n  mrn: [\n    'mrn', 'medicalRecordNumber', 'medical_record_number',\n    'medicalRecord', 'medical_record', 'chartNumber', 'chart_number',\n    'patientNumber', 'patient_number', 'accountNumber', 'account_number',\n  ],\n\n  // 9. Health plan beneficiary numbers\n  healthPlan: [\n    'healthPlanId', 'health_plan_id', 'insuranceId', 'insurance_id',\n    'memberId', 'member_id', 'subscriberId', 'subscriber_id',\n    'groupNumber', 'group_number', 'policyNumber', 'policy_number',\n    'beneficiaryId', 'beneficiary_id', 'medicaidId', 'medicareId',\n  ],\n\n  // 10. Account numbers\n  account: [\n    'bankAccount', 'bank_account', 'accountNum', 'account_num',\n    'creditCard', 'credit_card', 'cardNumber', 'card_number',\n    'routingNumber', 'routing_number', 'checkNumber', 'check_number',\n  ],\n\n  // 11. Certificate/license numbers\n  certificate: [\n    'licenseNumber', 'license_number', 'driverLicense', 'driver_license',\n    'certificateNumber', 'certificate_number', 'npi', 'dea',\n    'stateLicense', 'state_license', 'professionalLicense',\n  ],\n\n  // 12. Vehicle identifiers\n  vehicle: [\n    'vin', 'vehicleId', 'vehicle_id', 'licensePlate', 'license_plate',\n    'vehicleNumber', 'vehicle_number', 'plateNumber', 'plate_number',\n  ],\n\n  // 13. Device identifiers\n  device: [\n    'deviceId', 'device_id', 'serialNumber', 'serial_number',\n    'imei', 'macAddress', 'mac_address', 'deviceSerial',\n  ],\n\n  // 14. URLs\n  url: [\n    'personalUrl', 'personal_url', 'websiteUrl', 'website_url',\n    'homepage', 'personalWebsite', 'personal_website',\n  ],\n\n  // 15. IP addresses\n  // Note: IP addresses are kept for audit purposes but should be handled carefully\n  ip: [\n    'ipAddress', 'ip_address', 'clientIp', 'client_ip',\n    'sourceIp', 'source_ip', 'remoteAddress', 'remote_address',\n  ],\n\n  // 16. Biometric identifiers\n  biometric: [\n    'fingerprint', 'voicePrint', 'voice_print', 'retinaScan',\n    'retina_scan', 'faceId', 'face_id', 'biometricId', 'biometric_id',\n  ],\n\n  // 17. Photos\n  photo: [\n    'photo', 'image', 'picture', 'avatar', 'profilePhoto',\n    'profile_photo', 'headshot', 'faceImage', 'face_image',\n  ],\n\n  // 18. Any other unique identifying number\n  other: [\n    'uniqueId', 'unique_id', 'identifier', 'id_number',\n    'externalId', 'external_id', 'legacyId', 'legacy_id',\n  ],\n\n  // Additional security-sensitive fields\n  security: [\n    'password', 'passwordHash', 'password_hash', 'secret',\n    'apiKey', 'api_key', 'accessToken', 'access_token',\n    'refreshToken', 'refresh_token', 'privateKey', 'private_key',\n    'secretKey', 'secret_key', 'encryptionKey', 'encryption_key',\n    'pin', 'securityCode', 'security_code', 'cvv', 'cvc',\n  ],\n\n  // Medical information\n  medical: [\n    'diagnosis', 'diagnoses', 'condition', 'conditions',\n    'medication', 'medications', 'drug', 'drugs',\n    'treatment', 'treatments', 'procedure', 'procedures',\n    'symptom', 'symptoms', 'allergy', 'allergies',\n    'medicalHistory', 'medical_history', 'clinicalNote', 'clinical_note',\n    'labResult', 'lab_result', 'testResult', 'test_result',\n  ],\n};\n\n/**\n * Regex patterns for detecting PHI in string values\n */\nconst PHI_VALUE_PATTERNS = {\n  // SSN: XXX-XX-XXXX or XXXXXXXXX\n  ssn: /\\b\\d{3}[-\\s]?\\d{2}[-\\s]?\\d{4}\\b/g,\n\n  // Phone: Various formats\n  phone: /\\b(?:\\+?1[-.\\s]?)?\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}\\b/g,\n\n  // Email\n  email: /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b/g,\n\n  // Credit card: Major card formats\n  creditCard: /\\b(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|6(?:011|5[0-9]{2})[0-9]{12})\\b/g,\n\n  // IP address (v4)\n  ipv4: /\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b/g,\n\n  // Date patterns (MM/DD/YYYY, YYYY-MM-DD, etc.)\n  date: /\\b(?:\\d{1,2}[-/]\\d{1,2}[-/]\\d{2,4}|\\d{4}[-/]\\d{1,2}[-/]\\d{1,2})\\b/g,\n\n  // ZIP code\n  zipCode: /\\b\\d{5}(?:-\\d{4})?\\b/g,\n\n  // MRN patterns (usually 6-10 digits, sometimes with prefix)\n  mrn: /\\b(?:MRN|MR|PT)?[-:\\s]?\\d{6,10}\\b/gi,\n};\n\n/**\n * Flatten all PHI field patterns into a single array\n */\nconst ALL_PHI_FIELDS = Object.values(PHI_FIELD_PATTERNS).flat();\n\n/**\n * Create a Set for O(1) lookups (case-insensitive)\n */\nconst PHI_FIELD_SET = new Set(ALL_PHI_FIELDS.map(f => f.toLowerCase()));\n\nclass PHIRedactionService {\n  constructor() {\n    this.redactionPlaceholder = '[REDACTED]';\n    this.maxDepth = 15;\n    this.stats = {\n      totalRedactions: 0,\n      fieldRedactions: 0,\n      patternRedactions: 0,\n    };\n  }\n\n  /**\n   * Check if a field name should be redacted\n   * @param {string} fieldName - Name of the field\n   * @returns {boolean}\n   */\n  shouldRedactField(fieldName) {\n    if (!fieldName || typeof fieldName !== 'string') {\n      return false;\n    }\n\n    const lowerField = fieldName.toLowerCase();\n\n    // Direct match\n    if (PHI_FIELD_SET.has(lowerField)) {\n      return true;\n    }\n\n    // Partial match (field contains PHI pattern)\n    for (const phiField of PHI_FIELD_SET) {\n      if (lowerField.includes(phiField) || phiField.includes(lowerField)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Redact PHI patterns from a string value\n   * @param {string} value - String to scan for PHI\n   * @returns {string} Redacted string\n   */\n  redactStringPatterns(value) {\n    if (!value || typeof value !== 'string') {\n      return value;\n    }\n\n    let redacted = value;\n    let hadRedaction = false;\n\n    // Apply each pattern\n    for (const [patternName, pattern] of Object.entries(PHI_VALUE_PATTERNS)) {\n      // Reset regex lastIndex\n      pattern.lastIndex = 0;\n\n      if (pattern.test(redacted)) {\n        pattern.lastIndex = 0;\n        redacted = redacted.replace(pattern, `[${patternName.toUpperCase()}_REDACTED]`);\n        hadRedaction = true;\n      }\n    }\n\n    if (hadRedaction) {\n      this.stats.patternRedactions++;\n    }\n\n    return redacted;\n  }\n\n  /**\n   * Recursively redact PHI/PII from an object\n   * @param {*} data - Data to redact\n   * @param {number} depth - Current recursion depth\n   * @param {Set} seen - Set of seen objects (circular reference detection)\n   * @returns {*} Redacted data\n   */\n  redact(data, depth = 0, seen = new Set()) {\n    // Prevent infinite recursion\n    if (depth > this.maxDepth) {\n      return '[MAX_DEPTH_EXCEEDED]';\n    }\n\n    // Handle null/undefined\n    if (data === null || data === undefined) {\n      return data;\n    }\n\n    // Handle primitives\n    if (typeof data !== 'object') {\n      // Scan strings for PHI patterns\n      if (typeof data === 'string') {\n        return this.redactStringPatterns(data);\n      }\n      return data;\n    }\n\n    // Circular reference detection\n    if (seen.has(data)) {\n      return '[CIRCULAR_REFERENCE]';\n    }\n    seen.add(data);\n\n    // Handle Date objects\n    if (data instanceof Date) {\n      return data;\n    }\n\n    // Handle arrays\n    if (Array.isArray(data)) {\n      return data.map(item => this.redact(item, depth + 1, seen));\n    }\n\n    // Handle objects\n    const redacted = {};\n\n    for (const [key, value] of Object.entries(data)) {\n      // Check if field should be redacted\n      if (this.shouldRedactField(key)) {\n        redacted[key] = this.redactionPlaceholder;\n        this.stats.fieldRedactions++;\n        this.stats.totalRedactions++;\n        continue;\n      }\n\n      // Recursively process nested objects\n      if (typeof value === 'object' && value !== null) {\n        redacted[key] = this.redact(value, depth + 1, seen);\n      } else if (typeof value === 'string') {\n        // Scan string values for PHI patterns\n        redacted[key] = this.redactStringPatterns(value);\n      } else {\n        redacted[key] = value;\n      }\n    }\n\n    return redacted;\n  }\n\n  /**\n   * Safe redact that catches errors\n   * @param {*} data - Data to redact\n   * @returns {*} Redacted data or original on error\n   */\n  safeRedact(data) {\n    try {\n      return this.redact(data);\n    } catch (error) {\n      logger.error('PHI redaction error', { error: error.message });\n      // On error, return a safe placeholder rather than potentially exposing PHI\n      return { _redactionError: true };\n    }\n  }\n\n  /**\n   * Redact specific fields from an object (whitelist approach)\n   * Only keeps specified safe fields, redacts everything else\n   * @param {Object} data - Data to process\n   * @param {string[]} safeFields - Fields that are safe to keep\n   * @returns {Object} Object with only safe fields\n   */\n  keepOnlySafeFields(data, safeFields) {\n    if (!data || typeof data !== 'object') {\n      return data;\n    }\n\n    const safeFieldSet = new Set(safeFields.map(f => f.toLowerCase()));\n    const result = {};\n\n    for (const [key, value] of Object.entries(data)) {\n      if (safeFieldSet.has(key.toLowerCase())) {\n        result[key] = value;\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Create audit-safe metadata from a record\n   * Keeps only non-PHI fields for audit logging\n   * @param {Object} data - Record data\n   * @returns {Object} Safe metadata for audit\n   */\n  createAuditMetadata(data) {\n    // Fields that are safe to include in audit logs\n    const safeFields = [\n      'id', 'created_at', 'updated_at', 'createdAt', 'updatedAt',\n      'status', 'type', 'category', 'action', 'version',\n      'isActive', 'is_active', 'isDeleted', 'is_deleted',\n      'facility_id', 'facilityId', 'organization_id', 'organizationId',\n    ];\n\n    return this.keepOnlySafeFields(data, safeFields);\n  }\n\n  /**\n   * Get redaction statistics\n   * @returns {Object} Redaction stats\n   */\n  getStats() {\n    return { ...this.stats };\n  }\n\n  /**\n   * Reset statistics\n   */\n  resetStats() {\n    this.stats = {\n      totalRedactions: 0,\n      fieldRedactions: 0,\n      patternRedactions: 0,\n    };\n  }\n\n  /**\n   * Check if a value contains potential PHI\n   * @param {string} value - Value to check\n   * @returns {boolean}\n   */\n  containsPHI(value) {\n    if (!value || typeof value !== 'string') {\n      return false;\n    }\n\n    for (const pattern of Object.values(PHI_VALUE_PATTERNS)) {\n      pattern.lastIndex = 0;\n      if (pattern.test(value)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Get all PHI field patterns (for external use)\n   * @returns {Object}\n   */\n  getFieldPatterns() {\n    return { ...PHI_FIELD_PATTERNS };\n  }\n\n  /**\n   * Get all value patterns (for external use)\n   * @returns {Object}\n   */\n  getValuePatterns() {\n    return { ...PHI_VALUE_PATTERNS };\n  }\n}\n\n// Export singleton instance\nexport const phiRedactionService = new PHIRedactionService();\n\n// Export class for testing\nexport { PHIRedactionService };\n\n// Export convenience functions\nexport const redact = (data) => phiRedactionService.safeRedact(data);\nexport const shouldRedactField = (field) => phiRedactionService.shouldRedactField(field);\nexport const containsPHI = (value) => phiRedactionService.containsPHI(value);\nexport const createAuditMetadata = (data) => phiRedactionService.createAuditMetadata(data);\n\nexport default phiRedactionService;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}