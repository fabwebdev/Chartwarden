{"version":3,"names":["cov_cfki4fqu6","actualCoverage","Helper","LoginRequest","schema","f","s","body","type","required","properties","email","format","errorMessage","password","minLength","maxLength","validate","request","reply","errors","b","push","field","message","test","length","code","sendError"],"sources":["LoginRequest.js"],"sourcesContent":["// Note: express-validator replaced with Fastify schema validation\n// Validation should be done in route definitions using Fastify's schema\nimport Helper from '../../helpers/Helper.js';\n\nclass LoginRequest {\n  /**\n   * Get the validation schema for Fastify\n   * This replaces express-validator rules\n   *\n   * @return {Object} Fastify schema\n   */\n  static schema() {\n    return {\n      body: {\n        type: 'object',\n        required: ['email', 'password'],\n        properties: {\n          email: {\n            type: 'string',\n            format: 'email',\n            errorMessage: 'The email field is required and must be a valid email.'\n          },\n          password: {\n            type: 'string',\n            minLength: 6,\n            maxLength: 50,\n            errorMessage: 'The password must contain at least 6 characters and not exceed 50 characters.'\n          }\n        }\n      }\n    };\n  }\n\n  /**\n   * Fastify pre-handler for validation\n   * Note: Fastify schema validation happens automatically, this is for custom validation\n   * @param {Object} request - Fastify request object\n   * @param {Object} reply - Fastify reply object\n   */\n  static async validate(request, reply) {\n    const { email, password } = request.body;\n    const errors = [];\n\n    if (!email) {\n      errors.push({ field: 'email', message: 'The email field is required.' });\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n      errors.push({ field: 'email', message: 'Invalid email format' });\n    }\n\n    if (!password) {\n      errors.push({ field: 'password', message: 'The password field is required.' });\n    } else if (password.length < 6) {\n      errors.push({ field: 'password', message: 'The password must contain at least 6 characters.' });\n    } else if (password.length > 50) {\n      errors.push({ field: 'password', message: 'The password must not exceed 50 characters.' });\n    }\n\n    if (errors.length > 0) {\n      reply.code(400);\n      return Helper.sendError('Invalid email or password', errors);\n    }\n  }\n}\n\nexport default LoginRequest;"],"mappings":"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","ignoreList":[]}