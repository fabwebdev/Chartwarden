{"version":3,"names":["cov_29slcp7vh4","actualCoverage","baseTemplate","buttonComponent","alertComponent","notificationEmailHtml","data","f","title","message","recipientName","type","b","action","details","s","typeColors","info","warning","error","success","greeting","detailsList","length","map","label","value","join","actionButton","text","url","color","content","primaryColor","notificationEmailText","actionLink","toUpperCase","repeat","trim","certificationAlertEmailHtml","alertType","patientName","mrn","certificationPeriod","dueDate","priority","alertMessages","alertTypes","priorityLabels","replace","process","env","APP_URL"],"sources":["notification.template.js"],"sourcesContent":["/**\n * General Notification Email Template\n * For system notifications, alerts, and general communications\n */\n\nimport { baseTemplate, buttonComponent, alertComponent } from './base.template.js';\n\n/**\n * Generate notification email HTML\n * @param {Object} data - Template data\n * @param {string} data.title - Notification title\n * @param {string} data.message - Main notification message\n * @param {string} [data.recipientName] - Recipient's name\n * @param {string} [data.type] - Notification type: 'info', 'warning', 'error', 'success'\n * @param {Object} [data.action] - Optional action button\n * @param {string} [data.action.text] - Button text\n * @param {string} [data.action.url] - Button URL\n * @param {Array} [data.details] - Optional list of key-value details\n * @returns {string} Complete HTML email\n */\nexport function notificationEmailHtml(data) {\n  const {\n    title,\n    message,\n    recipientName,\n    type = 'info',\n    action,\n    details = []\n  } = data;\n\n  const typeColors = {\n    info: '#2563eb',\n    warning: '#f59e0b',\n    error: '#ef4444',\n    success: '#22c55e'\n  };\n\n  const greeting = recipientName ? `<p style=\"margin: 0 0 16px 0; color: #374151; font-size: 15px; line-height: 24px;\">Hi ${recipientName},</p>` : '';\n\n  const detailsList = details.length > 0 ? `\n    <table role=\"presentation\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"margin: 20px 0; width: 100%;\">\n      ${details.map(({ label, value }) => `\n        <tr>\n          <td style=\"padding: 8px 12px; background-color: #f9fafb; border-bottom: 1px solid #e5e7eb; color: #6b7280; font-size: 13px; font-weight: 500; width: 40%;\">\n            ${label}\n          </td>\n          <td style=\"padding: 8px 12px; background-color: #ffffff; border-bottom: 1px solid #e5e7eb; color: #374151; font-size: 14px;\">\n            ${value}\n          </td>\n        </tr>\n      `).join('')}\n    </table>\n  ` : '';\n\n  const actionButton = action ? buttonComponent({ text: action.text, url: action.url, color: typeColors[type] }) : '';\n\n  const content = `\n    <h2 style=\"margin: 0 0 20px 0; color: #111827; font-size: 20px; font-weight: 600;\">\n      ${title}\n    </h2>\n\n    ${greeting}\n\n    ${alertComponent({ message, type })}\n\n    ${detailsList}\n\n    ${actionButton}\n  `;\n\n  return baseTemplate({\n    title,\n    content,\n    primaryColor: typeColors[type]\n  });\n}\n\n/**\n * Generate notification email plain text\n * @param {Object} data - Template data\n * @param {string} data.title - Notification title\n * @param {string} data.message - Main notification message\n * @param {string} [data.recipientName] - Recipient's name\n * @param {Object} [data.action] - Optional action button\n * @param {string} [data.action.text] - Button text\n * @param {string} [data.action.url] - Button URL\n * @param {Array} [data.details] - Optional list of key-value details\n * @returns {string} Plain text email\n */\nexport function notificationEmailText(data) {\n  const {\n    title,\n    message,\n    recipientName,\n    action,\n    details = []\n  } = data;\n\n  const greeting = recipientName ? `Hi ${recipientName},\\n\\n` : '';\n\n  const detailsList = details.length > 0\n    ? '\\n' + details.map(({ label, value }) => `${label}: ${value}`).join('\\n') + '\\n'\n    : '';\n\n  const actionLink = action ? `\\n${action.text}: ${action.url}\\n` : '';\n\n  return `\n${title.toUpperCase()}\n${'='.repeat(title.length)}\n\n${greeting}${message}\n${detailsList}${actionLink}\n---\nThis is an automated message from Chartwarden. Please do not reply to this email.\n  `.trim();\n}\n\n/**\n * Generate certification alert email HTML\n * @param {Object} data - Template data\n * @param {string} data.alertType - Type: 'UPCOMING_CERT', 'OVERDUE_CERT', 'F2F_REQUIRED', 'F2F_OVERDUE'\n * @param {string} data.patientName - Patient's full name\n * @param {string} data.mrn - Medical record number\n * @param {string} data.certificationPeriod - Certification period\n * @param {string} data.dueDate - Due date\n * @param {string} [data.priority] - Priority: 'NORMAL', 'HIGH', 'CRITICAL'\n * @returns {string} Complete HTML email\n */\nexport function certificationAlertEmailHtml(data) {\n  const {\n    alertType,\n    patientName,\n    mrn,\n    certificationPeriod,\n    dueDate,\n    priority = 'NORMAL'\n  } = data;\n\n  const alertMessages = {\n    'UPCOMING_CERT': 'A certification is due soon and requires physician attestation.',\n    'OVERDUE_CERT': 'URGENT: A certification is overdue and requires immediate attention.',\n    'F2F_REQUIRED': 'A Face-to-Face encounter is required within 30 days before recertification.',\n    'F2F_OVERDUE': 'URGENT: A Face-to-Face encounter is overdue. This is required for Medicare reimbursement.'\n  };\n\n  const alertTypes = {\n    'UPCOMING_CERT': 'warning',\n    'OVERDUE_CERT': 'error',\n    'F2F_REQUIRED': 'warning',\n    'F2F_OVERDUE': 'error'\n  };\n\n  const priorityLabels = {\n    'NORMAL': 'Normal',\n    'HIGH': 'High',\n    'CRITICAL': 'Critical'\n  };\n\n  return notificationEmailHtml({\n    title: `Certification Alert: ${alertType.replace(/_/g, ' ')}`,\n    message: alertMessages[alertType] || 'A certification-related action is required.',\n    type: alertTypes[alertType] || 'info',\n    details: [\n      { label: 'Patient', value: patientName },\n      { label: 'MRN', value: mrn },\n      { label: 'Certification Period', value: certificationPeriod },\n      { label: 'Due Date', value: dueDate },\n      { label: 'Priority', value: priorityLabels[priority] || priority }\n    ],\n    action: {\n      text: 'View in Chartwarden',\n      url: process.env.APP_URL || 'http://localhost:3000'\n    }\n  });\n}\n\nexport default { notificationEmailHtml, notificationEmailText, certificationAlertEmailHtml };\n"],"mappings":"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","ignoreList":[]}