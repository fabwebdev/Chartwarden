{"version":3,"names":["cov_aabp5aqoh","actualCoverage","db","collection_forecasts","payer_payment_patterns","revenue_accruals","benefit_periods","benefit_period_loc","claims","payers","billing_periods","contracts","patients","eq","and","gte","lte","sql","desc","isNull","count","sum","avg","logger","HOSPICE_RATES","s","RHC","CHC","GIP","IRC","REVENUE_CODE_LOC","RevenueForecastingService","createForecast","forecastPeriod","forecastType","b","dimensions","userId","f","payerId","serviceType","historicalMonths","historicalData","getHistoricalCollections","forecastedCollections","calculateWeightedForecast","forecastedWriteoffs","Math","round","forecastedDenials","forecastedAppealsRecovery","confidenceLevel","confidencePercentage","calculateConfidence","forecast","insert","values","forecast_period","forecast_created_date","Date","forecast_type","payer_id","service_type","forecasted_collections","forecasted_writeoffs","forecasted_denials","forecasted_appeals_recovery","confidence_level","confidence_percentage","calculation_method","assumptions","writeOffRate","denialRate","appealRecoveryRate","historical_data_range","months","dataPoints","length","forecast_status","created_by_id","returning","error","endDate","startDate","setMonth","getMonth","query","select","period","revenue_period","totalCollected","collected_amount","totalBilled","billed_amount","totalWrittenOff","written_off_amount","from","where","service_date_from","groupBy","data","orderBy","weightedSum","totalWeight","forEach","month","index","weight","map","d","mean","reduce","a","variance","val","pow","stdDev","sqrt","coefficientOfVariation","updateForecastActuals","forecastId","actualCollections","actualWriteoffs","id","limit","Error","varianceAmount","variancePercentage","update","set","actual_collections","actual_writeoffs","variance_amount","variance_percentage","locked","locked_at","updated_at","calculatePayerPatterns","analysisMonths","claimData","totalSubmitted","totalPaid","claim_status","totalDenied","total_charge","totalPaidAmount","date_of_service_from","stats","collectionRate","avgDaysToPayment","reliabilityScore","calculateReliabilityScore","pattern","analysis_period_start","analysis_period_end","last_calculated","total_claims_submitted","total_claims_paid","total_claims_denied","total_billed_amount","total_paid_amount","avg_days_to_payment","collection_rate","denial_rate","payment_reliability_score","payment_pattern","classifyPaymentPattern","risk_level","assessRiskLevel","collectionPoints","min","denialPoints","max","speedPoints","getForecastAccuracyReport","startPeriod","endPeriod","forecasts","accuracy","forecasted","actual","accuracyPercentage","abs","avgAccuracy","averageAccuracy","totalForecasts","getCurrentCensus","today","toISOString","split","censusData","totalActive","innerJoin","patient_id","status","start_date","end_date","deleted_at","getHistoricalCensus","activePatients","getCensusByLevelOfCare","locCensus","levelOfCare","level_of_care","patientCount","benefit_period_id","effective_date","result","total","loc","locType","toUpperCase","hasOwnProperty","generateCensusBasedForecast","options","projectedCensusGrowth","locMixOverride","customRates","forecastMonths","currentCensus","locBreakdown","historicalCensus","locMix","calculateLocMix","rates","censusTrend","calculateCensusTrend","monthlyForecasts","projectedCensus","growthRate","monthlyGrowthRate","monthRevenue","calculateMonthlyRevenue","forecastDate","periodLabel","slice","push","revenue","calculateCensusConfidence","generatedAt","currentLocBreakdown","paymentRates","historicalTrend","summary","totalProjectedRevenue","m","averageMonthlyRevenue","projectedEndingCensus","confidence","level","percentage","dataPointsUsed","direction","averageCensus","volatility","censusValues","h","avgCensus","firstPeriod","lastPeriod","periods","totalGrowth","cv","census","daysInMonth","byLoc","Object","trend","score","getHistoricalLocDistribution","locHistory","patientDays","periodMap","row","entries","generateLocBasedForecast","locGrowthRates","locTrends","analyzeLocTrends","projectedLoc","keys","revenueByLoc","totalRevenue","totalPatients","calculateLocConfidence","acc","historicalMonthsAnalyzed","trends","average","firstVal","lastVal","monthlyGrowth","stableTrends","filter","t","getHistoricalRevenue","conditions","revenueData","totalAccrued","accrued_amount","claimCount","claim_id","generateComprehensiveForecast","weights","historical","censusForcast","locForecast","Promise","all","historicalForecast","calculateHistoricalTrendForecast","combinedForecasts","i","censusRev","locRev","histRev","projectedRevenue","weightedRevenue","breakdown","censusBased","locBased","historicalBased","overallConfidence","models","detailedModels","Array","fill","revenueValues","Number","avgRevenue","historicalSummary","weightedAverageRevenue","generateScenarioForecasts","scenarios","baseForecast","scenarioForecasts","scenario","adjustmentFactor","baseModel","comparison","optimisticVsBase","includes","optimistic","pessimisticVsBase","pessimistic","generatePayerForecast","payerPatterns","adjustedForecasts","expectedCollections","projectedDenials","projectedWriteoffs","riskLevel","totalProjectedBilled","totalExpectedCollections","totalProjectedDenials","netExpectedRevenue"],"sources":["RevenueForecasting.service.js"],"sourcesContent":["import { db } from '../db/index.js';\nimport {\n  collection_forecasts,\n  payer_payment_patterns,\n  revenue_accruals,\n  benefit_periods,\n  benefit_period_loc\n} from '../db/schemas/index.js';\nimport { claims, payers, billing_periods, contracts } from '../db/schemas/billing.schema.js';\nimport { patients } from '../db/schemas/patient.schema.js';\nimport { eq, and, gte, lte, sql, desc, isNull, count, sum, avg } from 'drizzle-orm';\n\nimport { logger } from '../utils/logger.js';\n\n/**\n * Medicare Hospice Payment Rates (FY 2024/2025)\n * These are approximate national rates - actual rates vary by CBSA\n * All values in cents\n */\nconst HOSPICE_RATES = {\n  RHC: 21300,    // Routine Home Care - ~$213/day\n  CHC: 106600,   // Continuous Home Care - ~$1,066/day (8+ hours)\n  GIP: 108500,   // General Inpatient Care - ~$1,085/day\n  IRC: 50200,    // Inpatient Respite Care - ~$502/day\n};\n\n/**\n * Revenue Code to Level of Care mapping\n */\nconst REVENUE_CODE_LOC = {\n  '0651': 'RHC',\n  '0652': 'CHC',\n  '0655': 'GIP',\n  '0656': 'IRC',\n};\n\n/**\n * Revenue Forecasting Service\n * Phase 3D - Collection Forecasting & Payer Analytics\n *\n * Purpose: Forecast cash collections and analyze payer payment behavior\n * Features:\n *   - Monthly/quarterly collection forecasting\n *   - Census-based revenue forecasting\n *   - Level of care-based forecasting\n *   - Payer payment pattern analysis\n *   - Historical trend analysis\n *   - Forecast accuracy tracking\n *   - Confidence level calculation\n */\nclass RevenueForecastingService {\n  /**\n   * Create collection forecast for a period\n   */\n  async createForecast(forecastPeriod, forecastType = 'MONTHLY', dimensions = {}, userId = null) {\n    try {\n      const { payerId, serviceType } = dimensions;\n\n      // Get historical data (last 6-12 months)\n      const historicalMonths = forecastType === 'YEARLY' ? 24 : 6;\n      const historicalData = await this.getHistoricalCollections(historicalMonths, dimensions);\n\n      // Calculate forecasted collections using weighted average\n      const forecastedCollections = this.calculateWeightedForecast(historicalData);\n\n      // Estimate write-offs and denials based on history\n      const forecastedWriteoffs = Math.round(forecastedCollections * 0.08); // 8% write-off rate\n      const forecastedDenials = Math.round(forecastedCollections * 0.12); // 12% denial rate\n      const forecastedAppealsRecovery = Math.round(forecastedDenials * 0.45); // 45% recovery rate\n\n      // Calculate confidence based on data stability\n      const { confidenceLevel, confidencePercentage } = this.calculateConfidence(historicalData);\n\n      // Create forecast record\n      const [forecast] = await db.insert(collection_forecasts)\n        .values({\n          forecast_period: forecastPeriod,\n          forecast_created_date: new Date(),\n          forecast_type: forecastType,\n          payer_id: payerId || null,\n          service_type: serviceType || null,\n          forecasted_collections: forecastedCollections,\n          forecasted_writeoffs: forecastedWriteoffs,\n          forecasted_denials: forecastedDenials,\n          forecasted_appeals_recovery: forecastedAppealsRecovery,\n          confidence_level: confidenceLevel,\n          confidence_percentage: confidencePercentage,\n          calculation_method: 'WEIGHTED_HISTORICAL_AVERAGE',\n          assumptions: {\n            historicalMonths,\n            writeOffRate: 0.08,\n            denialRate: 0.12,\n            appealRecoveryRate: 0.45,\n            payerId,\n            serviceType\n          },\n          historical_data_range: {\n            months: historicalMonths,\n            dataPoints: historicalData.length\n          },\n          forecast_status: 'DRAFT',\n          created_by_id: userId\n        })\n        .returning();\n\n      return forecast;\n    } catch (error) {\n      logger.error('Error creating forecast:', error)\n      throw error;\n    }\n  }\n\n  /**\n   * Get historical collections data\n   */\n  async getHistoricalCollections(months, dimensions = {}) {\n    const { payerId, serviceType } = dimensions;\n\n    // Calculate date range\n    const endDate = new Date();\n    const startDate = new Date();\n    startDate.setMonth(startDate.getMonth() - months);\n\n    // Build query\n    let query = db.select({\n      period: revenue_accruals.revenue_period,\n      totalCollected: sql`SUM(${revenue_accruals.collected_amount})::bigint`,\n      totalBilled: sql`SUM(${revenue_accruals.billed_amount})::bigint`,\n      totalWrittenOff: sql`SUM(${revenue_accruals.written_off_amount})::bigint`\n    })\n      .from(revenue_accruals)\n      .where(\n        and(\n          gte(revenue_accruals.service_date_from, startDate),\n          lte(revenue_accruals.service_date_from, endDate)\n        )\n      )\n      .groupBy(revenue_accruals.revenue_period);\n\n    if (payerId) {\n      query = query.where(eq(revenue_accruals.payer_id, payerId));\n    }\n\n    const data = await query.orderBy(revenue_accruals.revenue_period);\n    return data;\n  }\n\n  /**\n   * Calculate weighted forecast (recent months weighted higher)\n   */\n  calculateWeightedForecast(historicalData) {\n    if (historicalData.length === 0) return 0;\n\n    let weightedSum = 0;\n    let totalWeight = 0;\n\n    historicalData.forEach((month, index) => {\n      // More recent months get higher weight\n      const weight = index + 1; // Linear weighting: 1, 2, 3, ...\n      weightedSum += (month.totalCollected || 0) * weight;\n      totalWeight += weight;\n    });\n\n    return Math.round(weightedSum / totalWeight);\n  }\n\n  /**\n   * Calculate forecast confidence level\n   */\n  calculateConfidence(historicalData) {\n    if (historicalData.length < 3) {\n      return { confidenceLevel: 'LOW', confidencePercentage: 4000 }; // 40%\n    }\n\n    // Calculate coefficient of variation\n    const values = historicalData.map(d => d.totalCollected || 0);\n    const mean = values.reduce((a, b) => a + b, 0) / values.length;\n    const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n    const stdDev = Math.sqrt(variance);\n    const coefficientOfVariation = mean > 0 ? (stdDev / mean) : 1;\n\n    // Lower CV = higher confidence\n    if (coefficientOfVariation < 0.15) {\n      return { confidenceLevel: 'HIGH', confidencePercentage: 9000 }; // 90%\n    } else if (coefficientOfVariation < 0.30) {\n      return { confidenceLevel: 'MEDIUM', confidencePercentage: 7000 }; // 70%\n    } else {\n      return { confidenceLevel: 'LOW', confidencePercentage: 5000 }; // 50%\n    }\n  }\n\n  /**\n   * Update forecast with actual results\n   */\n  async updateForecastActuals(forecastId, actualCollections, actualWriteoffs) {\n    const [forecast] = await db.select()\n      .from(collection_forecasts)\n      .where(eq(collection_forecasts.id, forecastId))\n      .limit(1);\n\n    if (!forecast) {\n      throw new Error(`Forecast not found: ${forecastId}`);\n    }\n\n    const varianceAmount = actualCollections - forecast.forecasted_collections;\n    const variancePercentage = forecast.forecasted_collections > 0\n      ? Math.round((varianceAmount / forecast.forecasted_collections) * 10000)\n      : 0;\n\n    await db.update(collection_forecasts)\n      .set({\n        actual_collections: actualCollections,\n        actual_writeoffs: actualWriteoffs,\n        variance_amount: varianceAmount,\n        variance_percentage: variancePercentage,\n        forecast_status: 'ACTUAL',\n        locked: true,\n        locked_at: new Date(),\n        updated_at: new Date()\n      })\n      .where(eq(collection_forecasts.id, forecastId));\n  }\n\n  /**\n   * Calculate payer payment patterns\n   */\n  async calculatePayerPatterns(payerId, analysisMonths = 12) {\n    try {\n      // Calculate period\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - analysisMonths);\n\n      // Get all claims for this payer in the period\n      const claimData = await db.select({\n        totalSubmitted: sql`COUNT(*)::int`,\n        totalPaid: sql`COUNT(CASE WHEN ${claims.claim_status} = 'PAID' THEN 1 END)::int`,\n        totalDenied: sql`COUNT(CASE WHEN ${claims.claim_status} = 'DENIED' THEN 1 END)::int`,\n        totalBilled: sql`SUM(${claims.total_charge})::bigint`,\n        totalPaidAmount: sql`SUM(CASE WHEN ${claims.claim_status} = 'PAID' THEN ${claims.total_charge} ELSE 0 END)::bigint`\n      })\n        .from(claims)\n        .where(\n          and(\n            eq(claims.payer_id, payerId),\n            gte(claims.date_of_service_from, startDate),\n            lte(claims.date_of_service_from, endDate)\n          )\n        );\n\n      const stats = claimData[0];\n\n      // Calculate rates (basis points)\n      const collectionRate = stats.totalBilled > 0\n        ? Math.round((stats.totalPaidAmount / stats.totalBilled) * 10000)\n        : 0;\n\n      const denialRate = stats.totalSubmitted > 0\n        ? Math.round((stats.totalDenied / stats.totalSubmitted) * 10000)\n        : 0;\n\n      // Calculate average days to payment (simplified - would need actual payment dates)\n      const avgDaysToPayment = 32; // Placeholder\n\n      // Calculate payment reliability score (0-100)\n      const reliabilityScore = this.calculateReliabilityScore({\n        collectionRate,\n        denialRate,\n        avgDaysToPayment\n      });\n\n      // Create or update pattern record\n      const [pattern] = await db.insert(payer_payment_patterns)\n        .values({\n          payer_id: payerId,\n          analysis_period_start: startDate,\n          analysis_period_end: endDate,\n          last_calculated: new Date(),\n          total_claims_submitted: stats.totalSubmitted,\n          total_claims_paid: stats.totalPaid,\n          total_claims_denied: stats.totalDenied,\n          total_billed_amount: stats.totalBilled,\n          total_paid_amount: stats.totalPaidAmount,\n          avg_days_to_payment: avgDaysToPayment,\n          collection_rate: collectionRate,\n          denial_rate: denialRate,\n          payment_reliability_score: reliabilityScore,\n          payment_pattern: this.classifyPaymentPattern(reliabilityScore),\n          risk_level: this.assessRiskLevel(collectionRate, denialRate)\n        })\n        .returning();\n\n      return pattern;\n    } catch (error) {\n      logger.error('Error calculating payer patterns:', error)\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate payment reliability score (0-100)\n   */\n  calculateReliabilityScore({ collectionRate, denialRate, avgDaysToPayment }) {\n    // High collection rate = good (max 50 points)\n    const collectionPoints = Math.min((collectionRate / 10000) * 50, 50);\n\n    // Low denial rate = good (max 30 points)\n    const denialPoints = Math.max(0, 30 - ((denialRate / 10000) * 30));\n\n    // Fast payment = good (max 20 points)\n    const speedPoints = Math.max(0, 20 - (avgDaysToPayment / 60) * 20);\n\n    return Math.round(collectionPoints + denialPoints + speedPoints);\n  }\n\n  /**\n   * Classify payment pattern\n   */\n  classifyPaymentPattern(reliabilityScore) {\n    if (reliabilityScore >= 80) return 'CONSISTENT';\n    if (reliabilityScore >= 60) return 'VARIABLE';\n    return 'IRREGULAR';\n  }\n\n  /**\n   * Assess risk level\n   */\n  assessRiskLevel(collectionRate, denialRate) {\n    if (collectionRate >= 8500 && denialRate <= 1000) return 'LOW';  // 85%+ collection, 10%- denial\n    if (collectionRate >= 7000 && denialRate <= 2000) return 'MEDIUM'; // 70%+ collection, 20%- denial\n    return 'HIGH';\n  }\n\n  /**\n   * Get forecast accuracy report\n   */\n  async getForecastAccuracyReport(startPeriod, endPeriod) {\n    const forecasts = await db.select()\n      .from(collection_forecasts)\n      .where(\n        and(\n          gte(collection_forecasts.forecast_period, startPeriod),\n          lte(collection_forecasts.forecast_period, endPeriod),\n          eq(collection_forecasts.forecast_status, 'ACTUAL')\n        )\n      );\n\n    const accuracy = forecasts.map(f => ({\n      period: f.forecast_period,\n      forecasted: f.forecasted_collections,\n      actual: f.actual_collections,\n      variance: f.variance_amount,\n      variancePercentage: f.variance_percentage / 100, // Convert from basis points\n      accuracyPercentage: 100 - Math.abs(f.variance_percentage / 100)\n    }));\n\n    const avgAccuracy = accuracy.length > 0\n      ? accuracy.reduce((sum, a) => sum + a.accuracyPercentage, 0) / accuracy.length\n      : 0;\n\n    return {\n      forecasts: accuracy,\n      averageAccuracy: avgAccuracy,\n      totalForecasts: accuracy.length\n    };\n  }\n\n  // ============================================\n  // CENSUS-BASED FORECASTING\n  // ============================================\n\n  /**\n   * Get current patient census\n   * Returns count of active patients with active benefit periods\n   */\n  async getCurrentCensus() {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n\n      // Count active patients with active benefit periods\n      const censusData = await db.select({\n        totalActive: sql`COUNT(DISTINCT ${patients.id})::int`,\n      })\n        .from(patients)\n        .innerJoin(benefit_periods, eq(patients.id, benefit_periods.patient_id))\n        .where(\n          and(\n            eq(benefit_periods.status, 'ACTIVE'),\n            lte(benefit_periods.start_date, today),\n            gte(benefit_periods.end_date, today),\n            isNull(patients.deleted_at)\n          )\n        );\n\n      return censusData[0]?.totalActive || 0;\n    } catch (error) {\n      logger.error('Error getting current census:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get historical census data by month\n   * Returns census counts for the specified number of months\n   */\n  async getHistoricalCensus(months = 12) {\n    try {\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - months);\n\n      // Get monthly census snapshots based on active benefit periods\n      const censusData = await db.select({\n        period: sql`TO_CHAR(${benefit_periods.start_date}, 'YYYY-MM')`,\n        activePatients: sql`COUNT(DISTINCT ${benefit_periods.patient_id})::int`,\n      })\n        .from(benefit_periods)\n        .where(\n          and(\n            gte(benefit_periods.start_date, startDate.toISOString().split('T')[0]),\n            lte(benefit_periods.start_date, endDate.toISOString().split('T')[0]),\n            eq(benefit_periods.status, 'ACTIVE')\n          )\n        )\n        .groupBy(sql`TO_CHAR(${benefit_periods.start_date}, 'YYYY-MM')`)\n        .orderBy(sql`TO_CHAR(${benefit_periods.start_date}, 'YYYY-MM')`);\n\n      return censusData;\n    } catch (error) {\n      logger.error('Error getting historical census:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get census by level of care\n   * Returns breakdown of current census by LOC\n   */\n  async getCensusByLevelOfCare() {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n\n      const locCensus = await db.select({\n        levelOfCare: benefit_period_loc.level_of_care,\n        patientCount: sql`COUNT(DISTINCT ${benefit_period_loc.patient_id})::int`,\n      })\n        .from(benefit_period_loc)\n        .innerJoin(benefit_periods, eq(benefit_period_loc.benefit_period_id, benefit_periods.id))\n        .where(\n          and(\n            eq(benefit_period_loc.status, 'ACTIVE'),\n            eq(benefit_periods.status, 'ACTIVE'),\n            lte(benefit_period_loc.effective_date, today),\n            sql`(${benefit_period_loc.end_date} IS NULL OR ${benefit_period_loc.end_date} >= ${today})`\n          )\n        )\n        .groupBy(benefit_period_loc.level_of_care);\n\n      // Build result with all LOC types\n      const result = {\n        RHC: 0,\n        CHC: 0,\n        GIP: 0,\n        IRC: 0,\n        total: 0,\n      };\n\n      locCensus.forEach(loc => {\n        const locType = loc.levelOfCare?.toUpperCase();\n        if (locType && result.hasOwnProperty(locType)) {\n          result[locType] = loc.patientCount;\n          result.total += loc.patientCount;\n        }\n      });\n\n      return result;\n    } catch (error) {\n      logger.error('Error getting census by LOC:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Generate census-based revenue forecast\n   * Forecasts revenue based on current/projected census and LOC mix\n   */\n  async generateCensusBasedForecast(forecastPeriod, options = {}) {\n    try {\n      const {\n        projectedCensusGrowth = 0, // Percentage growth per month (e.g., 0.02 for 2%)\n        locMixOverride = null,     // Override LOC distribution\n        customRates = null,        // Custom payment rates (override Medicare rates)\n        forecastMonths = 3,        // Number of months to forecast\n      } = options;\n\n      // Get current census and LOC breakdown\n      const currentCensus = await this.getCurrentCensus();\n      const locBreakdown = await this.getCensusByLevelOfCare();\n      const historicalCensus = await this.getHistoricalCensus(12);\n\n      // Calculate LOC percentages from current or use override\n      const locMix = locMixOverride || this.calculateLocMix(locBreakdown);\n\n      // Use custom rates or default Medicare rates\n      const rates = customRates || HOSPICE_RATES;\n\n      // Calculate historical trends\n      const censusTrend = this.calculateCensusTrend(historicalCensus);\n\n      // Generate monthly forecasts\n      const monthlyForecasts = [];\n      let projectedCensus = currentCensus;\n\n      for (let month = 0; month < forecastMonths; month++) {\n        // Apply growth rate or use trend\n        const growthRate = projectedCensusGrowth > 0\n          ? projectedCensusGrowth\n          : censusTrend.monthlyGrowthRate;\n\n        projectedCensus = Math.round(projectedCensus * (1 + growthRate));\n\n        // Calculate projected revenue by LOC\n        const monthRevenue = this.calculateMonthlyRevenue(projectedCensus, locMix, rates);\n\n        // Calculate forecast period\n        const forecastDate = new Date(forecastPeriod + '-01');\n        forecastDate.setMonth(forecastDate.getMonth() + month);\n        const periodLabel = forecastDate.toISOString().slice(0, 7);\n\n        monthlyForecasts.push({\n          period: periodLabel,\n          projectedCensus,\n          locBreakdown: {\n            RHC: Math.round(projectedCensus * locMix.RHC),\n            CHC: Math.round(projectedCensus * locMix.CHC),\n            GIP: Math.round(projectedCensus * locMix.GIP),\n            IRC: Math.round(projectedCensus * locMix.IRC),\n          },\n          revenue: monthRevenue,\n        });\n      }\n\n      // Calculate confidence level based on data quality\n      const { confidenceLevel, confidencePercentage } = this.calculateCensusConfidence(\n        historicalCensus,\n        censusTrend\n      );\n\n      return {\n        forecastType: 'CENSUS_BASED',\n        generatedAt: new Date().toISOString(),\n        currentCensus,\n        currentLocBreakdown: locBreakdown,\n        locMix,\n        paymentRates: rates,\n        historicalTrend: censusTrend,\n        monthlyForecasts,\n        summary: {\n          totalProjectedRevenue: monthlyForecasts.reduce((sum, m) => sum + m.revenue.total, 0),\n          averageMonthlyRevenue: Math.round(\n            monthlyForecasts.reduce((sum, m) => sum + m.revenue.total, 0) / forecastMonths\n          ),\n          projectedEndingCensus: projectedCensus,\n        },\n        confidence: {\n          level: confidenceLevel,\n          percentage: confidencePercentage,\n        },\n        assumptions: {\n          growthRate: projectedCensusGrowth || censusTrend.monthlyGrowthRate,\n          locMix,\n          rates,\n          dataPointsUsed: historicalCensus.length,\n        },\n      };\n    } catch (error) {\n      logger.error('Error generating census-based forecast:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate LOC mix percentages\n   */\n  calculateLocMix(locBreakdown) {\n    const total = locBreakdown.total || 1; // Avoid division by zero\n    return {\n      RHC: locBreakdown.RHC / total || 0.92,  // Default: ~92% RHC\n      CHC: locBreakdown.CHC / total || 0.02,  // Default: ~2% CHC\n      GIP: locBreakdown.GIP / total || 0.04,  // Default: ~4% GIP\n      IRC: locBreakdown.IRC / total || 0.02,  // Default: ~2% IRC\n    };\n  }\n\n  /**\n   * Calculate census trend from historical data\n   */\n  calculateCensusTrend(historicalCensus) {\n    if (historicalCensus.length < 2) {\n      return {\n        direction: 'STABLE',\n        monthlyGrowthRate: 0,\n        averageCensus: historicalCensus[0]?.activePatients || 0,\n        volatility: 'LOW',\n      };\n    }\n\n    const censusValues = historicalCensus.map(h => h.activePatients || 0);\n    const avgCensus = censusValues.reduce((a, b) => a + b, 0) / censusValues.length;\n\n    // Calculate growth rate between first and last periods\n    const firstPeriod = censusValues[0];\n    const lastPeriod = censusValues[censusValues.length - 1];\n    const periods = historicalCensus.length - 1;\n\n    const totalGrowth = firstPeriod > 0 ? (lastPeriod - firstPeriod) / firstPeriod : 0;\n    const monthlyGrowthRate = periods > 0 ? totalGrowth / periods : 0;\n\n    // Calculate volatility (coefficient of variation)\n    const variance = censusValues.reduce((sum, val) =>\n      sum + Math.pow(val - avgCensus, 2), 0) / censusValues.length;\n    const stdDev = Math.sqrt(variance);\n    const cv = avgCensus > 0 ? stdDev / avgCensus : 0;\n\n    let volatility = 'LOW';\n    if (cv > 0.3) volatility = 'HIGH';\n    else if (cv > 0.15) volatility = 'MEDIUM';\n\n    let direction = 'STABLE';\n    if (monthlyGrowthRate > 0.02) direction = 'GROWING';\n    else if (monthlyGrowthRate < -0.02) direction = 'DECLINING';\n\n    return {\n      direction,\n      monthlyGrowthRate,\n      averageCensus: Math.round(avgCensus),\n      volatility,\n      coefficientOfVariation: cv,\n    };\n  }\n\n  /**\n   * Calculate monthly revenue based on census and LOC mix\n   */\n  calculateMonthlyRevenue(census, locMix, rates) {\n    const daysInMonth = 30; // Approximate\n\n    const byLoc = {\n      RHC: Math.round(census * locMix.RHC * rates.RHC * daysInMonth),\n      CHC: Math.round(census * locMix.CHC * rates.CHC * daysInMonth),\n      GIP: Math.round(census * locMix.GIP * rates.GIP * daysInMonth),\n      IRC: Math.round(census * locMix.IRC * rates.IRC * daysInMonth),\n    };\n\n    return {\n      byLoc,\n      total: Object.values(byLoc).reduce((a, b) => a + b, 0),\n    };\n  }\n\n  /**\n   * Calculate confidence level for census-based forecast\n   */\n  calculateCensusConfidence(historicalCensus, trend) {\n    let score = 50; // Base score\n\n    // More data points = higher confidence\n    if (historicalCensus.length >= 12) score += 20;\n    else if (historicalCensus.length >= 6) score += 10;\n    else if (historicalCensus.length < 3) score -= 20;\n\n    // Lower volatility = higher confidence\n    if (trend.volatility === 'LOW') score += 20;\n    else if (trend.volatility === 'MEDIUM') score += 10;\n    else score -= 10;\n\n    // Stable trends = higher confidence\n    if (trend.direction === 'STABLE') score += 10;\n\n    let confidenceLevel = 'MEDIUM';\n    if (score >= 80) confidenceLevel = 'HIGH';\n    else if (score < 50) confidenceLevel = 'LOW';\n\n    return {\n      confidenceLevel,\n      confidencePercentage: Math.min(Math.max(score * 100, 2000), 9500), // 20%-95% in basis points\n    };\n  }\n\n  // ============================================\n  // LEVEL OF CARE-BASED FORECASTING\n  // ============================================\n\n  /**\n   * Get historical LOC distribution over time\n   */\n  async getHistoricalLocDistribution(months = 12) {\n    try {\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - months);\n\n      const locHistory = await db.select({\n        period: sql`TO_CHAR(${benefit_period_loc.effective_date}, 'YYYY-MM')`,\n        levelOfCare: benefit_period_loc.level_of_care,\n        patientDays: sql`COUNT(*)::int`,\n      })\n        .from(benefit_period_loc)\n        .where(\n          and(\n            gte(benefit_period_loc.effective_date, startDate.toISOString().split('T')[0]),\n            lte(benefit_period_loc.effective_date, endDate.toISOString().split('T')[0])\n          )\n        )\n        .groupBy(\n          sql`TO_CHAR(${benefit_period_loc.effective_date}, 'YYYY-MM')`,\n          benefit_period_loc.level_of_care\n        )\n        .orderBy(sql`TO_CHAR(${benefit_period_loc.effective_date}, 'YYYY-MM')`);\n\n      // Transform into period-based structure\n      const periodMap = {};\n      locHistory.forEach(row => {\n        if (!periodMap[row.period]) {\n          periodMap[row.period] = { RHC: 0, CHC: 0, GIP: 0, IRC: 0, total: 0 };\n        }\n        const loc = row.levelOfCare?.toUpperCase();\n        if (loc && periodMap[row.period].hasOwnProperty(loc)) {\n          periodMap[row.period][loc] = row.patientDays;\n          periodMap[row.period].total += row.patientDays;\n        }\n      });\n\n      return Object.entries(periodMap).map(([period, data]) => ({\n        period,\n        ...data,\n        locMix: this.calculateLocMix(data),\n      }));\n    } catch (error) {\n      logger.error('Error getting historical LOC distribution:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Generate LOC-based revenue forecast\n   * Analyzes historical LOC trends to forecast revenue\n   */\n  async generateLocBasedForecast(forecastPeriod, options = {}) {\n    try {\n      const {\n        historicalMonths = 12,\n        forecastMonths = 3,\n        locGrowthRates = null, // Custom growth rates by LOC\n      } = options;\n\n      // Get historical LOC distribution\n      const locHistory = await this.getHistoricalLocDistribution(historicalMonths);\n\n      // Analyze trends for each LOC\n      const locTrends = this.analyzeLocTrends(locHistory);\n\n      // Get current census\n      const currentCensus = await this.getCurrentCensus();\n      const currentLocBreakdown = await this.getCensusByLevelOfCare();\n\n      // Generate forecasts\n      const monthlyForecasts = [];\n      let projectedLoc = { ...currentLocBreakdown };\n      delete projectedLoc.total;\n\n      for (let month = 0; month < forecastMonths; month++) {\n        // Apply growth rates for each LOC\n        Object.keys(projectedLoc).forEach(loc => {\n          const growthRate = locGrowthRates?.[loc] || locTrends[loc]?.monthlyGrowthRate || 0;\n          projectedLoc[loc] = Math.round(projectedLoc[loc] * (1 + growthRate));\n        });\n\n        // Calculate revenue by LOC\n        const revenueByLoc = {};\n        let totalRevenue = 0;\n        const daysInMonth = 30;\n\n        Object.keys(HOSPICE_RATES).forEach(loc => {\n          const patients = projectedLoc[loc] || 0;\n          const revenue = patients * HOSPICE_RATES[loc] * daysInMonth;\n          revenueByLoc[loc] = revenue;\n          totalRevenue += revenue;\n        });\n\n        // Calculate forecast period\n        const forecastDate = new Date(forecastPeriod + '-01');\n        forecastDate.setMonth(forecastDate.getMonth() + month);\n        const periodLabel = forecastDate.toISOString().slice(0, 7);\n\n        monthlyForecasts.push({\n          period: periodLabel,\n          locBreakdown: { ...projectedLoc },\n          totalPatients: Object.values(projectedLoc).reduce((a, b) => a + b, 0),\n          revenue: {\n            byLoc: revenueByLoc,\n            total: totalRevenue,\n          },\n        });\n      }\n\n      // Calculate confidence\n      const { confidenceLevel, confidencePercentage } = this.calculateLocConfidence(\n        locHistory,\n        locTrends\n      );\n\n      return {\n        forecastType: 'LOC_BASED',\n        generatedAt: new Date().toISOString(),\n        currentCensus,\n        currentLocBreakdown,\n        locTrends,\n        monthlyForecasts,\n        summary: {\n          totalProjectedRevenue: monthlyForecasts.reduce((sum, m) => sum + m.revenue.total, 0),\n          averageMonthlyRevenue: Math.round(\n            monthlyForecasts.reduce((sum, m) => sum + m.revenue.total, 0) / forecastMonths\n          ),\n          revenueByLoc: monthlyForecasts.reduce((acc, m) => {\n            Object.keys(m.revenue.byLoc).forEach(loc => {\n              acc[loc] = (acc[loc] || 0) + m.revenue.byLoc[loc];\n            });\n            return acc;\n          }, {}),\n        },\n        confidence: {\n          level: confidenceLevel,\n          percentage: confidencePercentage,\n        },\n        assumptions: {\n          historicalMonthsAnalyzed: historicalMonths,\n          forecastMonths,\n          locGrowthRates: locGrowthRates || locTrends,\n          paymentRates: HOSPICE_RATES,\n        },\n      };\n    } catch (error) {\n      logger.error('Error generating LOC-based forecast:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Analyze trends for each level of care\n   */\n  analyzeLocTrends(locHistory) {\n    const trends = {};\n\n    ['RHC', 'CHC', 'GIP', 'IRC'].forEach(loc => {\n      const values = locHistory.map(h => h[loc] || 0);\n\n      if (values.length < 2) {\n        trends[loc] = {\n          direction: 'STABLE',\n          monthlyGrowthRate: 0,\n          average: values[0] || 0,\n        };\n        return;\n      }\n\n      const avg = values.reduce((a, b) => a + b, 0) / values.length;\n      const firstVal = values[0];\n      const lastVal = values[values.length - 1];\n      const totalGrowth = firstVal > 0 ? (lastVal - firstVal) / firstVal : 0;\n      const monthlyGrowth = totalGrowth / (values.length - 1);\n\n      let direction = 'STABLE';\n      if (monthlyGrowth > 0.02) direction = 'GROWING';\n      else if (monthlyGrowth < -0.02) direction = 'DECLINING';\n\n      trends[loc] = {\n        direction,\n        monthlyGrowthRate: monthlyGrowth,\n        average: Math.round(avg),\n      };\n    });\n\n    return trends;\n  }\n\n  /**\n   * Calculate confidence for LOC-based forecast\n   */\n  calculateLocConfidence(locHistory, locTrends) {\n    let score = 50;\n\n    // More historical data = higher confidence\n    if (locHistory.length >= 12) score += 20;\n    else if (locHistory.length >= 6) score += 10;\n    else if (locHistory.length < 3) score -= 20;\n\n    // Stable trends = higher confidence\n    const stableTrends = Object.values(locTrends).filter(t => t.direction === 'STABLE').length;\n    score += stableTrends * 5;\n\n    let confidenceLevel = 'MEDIUM';\n    if (score >= 80) confidenceLevel = 'HIGH';\n    else if (score < 50) confidenceLevel = 'LOW';\n\n    return {\n      confidenceLevel,\n      confidencePercentage: Math.min(Math.max(score * 100, 2000), 9500),\n    };\n  }\n\n  // ============================================\n  // HISTORICAL DATA-BASED FORECASTING\n  // ============================================\n\n  /**\n   * Get historical revenue data\n   */\n  async getHistoricalRevenue(months = 12, dimensions = {}) {\n    try {\n      const { payerId, levelOfCare } = dimensions;\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - months);\n\n      const conditions = [\n        gte(revenue_accruals.service_date_from, startDate.toISOString().split('T')[0]),\n        lte(revenue_accruals.service_date_from, endDate.toISOString().split('T')[0]),\n      ];\n\n      if (payerId) {\n        conditions.push(eq(revenue_accruals.payer_id, payerId));\n      }\n\n      const revenueData = await db.select({\n        period: revenue_accruals.revenue_period,\n        totalBilled: sql`SUM(${revenue_accruals.billed_amount})::bigint`,\n        totalCollected: sql`SUM(${revenue_accruals.collected_amount})::bigint`,\n        totalAccrued: sql`SUM(${revenue_accruals.accrued_amount})::bigint`,\n        totalWrittenOff: sql`SUM(${revenue_accruals.written_off_amount})::bigint`,\n        claimCount: sql`COUNT(DISTINCT ${revenue_accruals.claim_id})::int`,\n        patientCount: sql`COUNT(DISTINCT ${revenue_accruals.patient_id})::int`,\n      })\n        .from(revenue_accruals)\n        .where(and(...conditions))\n        .groupBy(revenue_accruals.revenue_period)\n        .orderBy(revenue_accruals.revenue_period);\n\n      return revenueData;\n    } catch (error) {\n      logger.error('Error getting historical revenue:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Generate comprehensive revenue forecast using multiple models\n   * Combines census, LOC, and historical data approaches\n   */\n  async generateComprehensiveForecast(forecastPeriod, options = {}) {\n    try {\n      const {\n        forecastMonths = 3,\n        historicalMonths = 12,\n        weights = { census: 0.3, loc: 0.3, historical: 0.4 }, // Weights for each model\n      } = options;\n\n      // Run all three forecast models in parallel\n      const [censusForcast, locForecast, historicalData] = await Promise.all([\n        this.generateCensusBasedForecast(forecastPeriod, { forecastMonths }),\n        this.generateLocBasedForecast(forecastPeriod, { forecastMonths, historicalMonths }),\n        this.getHistoricalRevenue(historicalMonths),\n      ]);\n\n      // Calculate historical trend-based forecast\n      const historicalForecast = this.calculateHistoricalTrendForecast(\n        historicalData,\n        forecastPeriod,\n        forecastMonths\n      );\n\n      // Combine forecasts using weighted average\n      const combinedForecasts = [];\n      for (let i = 0; i < forecastMonths; i++) {\n        const censusRev = censusForcast.monthlyForecasts[i]?.revenue?.total || 0;\n        const locRev = locForecast.monthlyForecasts[i]?.revenue?.total || 0;\n        const histRev = historicalForecast.monthlyForecasts[i]?.projectedRevenue || 0;\n\n        const weightedRevenue = Math.round(\n          censusRev * weights.census +\n          locRev * weights.loc +\n          histRev * weights.historical\n        );\n\n        const forecastDate = new Date(forecastPeriod + '-01');\n        forecastDate.setMonth(forecastDate.getMonth() + i);\n\n        combinedForecasts.push({\n          period: forecastDate.toISOString().slice(0, 7),\n          projectedRevenue: weightedRevenue,\n          breakdown: {\n            censusBased: censusRev,\n            locBased: locRev,\n            historicalBased: histRev,\n          },\n          weights,\n        });\n      }\n\n      // Calculate overall confidence (weighted average of model confidences)\n      const overallConfidence = Math.round(\n        censusForcast.confidence.percentage * weights.census +\n        locForecast.confidence.percentage * weights.loc +\n        (historicalForecast.confidence?.percentage || 7000) * weights.historical\n      );\n\n      return {\n        forecastType: 'COMPREHENSIVE',\n        generatedAt: new Date().toISOString(),\n        forecastPeriod,\n        models: {\n          census: {\n            weight: weights.census,\n            confidence: censusForcast.confidence,\n          },\n          loc: {\n            weight: weights.loc,\n            confidence: locForecast.confidence,\n          },\n          historical: {\n            weight: weights.historical,\n            confidence: historicalForecast.confidence || { level: 'MEDIUM', percentage: 7000 },\n          },\n        },\n        monthlyForecasts: combinedForecasts,\n        summary: {\n          totalProjectedRevenue: combinedForecasts.reduce((sum, f) => sum + f.projectedRevenue, 0),\n          averageMonthlyRevenue: Math.round(\n            combinedForecasts.reduce((sum, f) => sum + f.projectedRevenue, 0) / forecastMonths\n          ),\n        },\n        confidence: {\n          level: overallConfidence >= 7500 ? 'HIGH' : overallConfidence >= 5000 ? 'MEDIUM' : 'LOW',\n          percentage: overallConfidence,\n        },\n        detailedModels: {\n          census: censusForcast,\n          loc: locForecast,\n          historical: historicalForecast,\n        },\n      };\n    } catch (error) {\n      logger.error('Error generating comprehensive forecast:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate forecast based on historical revenue trends\n   */\n  calculateHistoricalTrendForecast(historicalData, forecastPeriod, forecastMonths) {\n    if (!historicalData || historicalData.length === 0) {\n      return {\n        monthlyForecasts: Array(forecastMonths).fill({ projectedRevenue: 0 }),\n        confidence: { level: 'LOW', percentage: 2000 },\n      };\n    }\n\n    // Calculate weighted average revenue\n    const weightedRevenue = this.calculateWeightedForecast(historicalData);\n\n    // Calculate trend\n    const revenueValues = historicalData.map(d => Number(d.totalCollected) || 0);\n    const avgRevenue = revenueValues.reduce((a, b) => a + b, 0) / revenueValues.length;\n\n    // Calculate growth rate\n    let monthlyGrowthRate = 0;\n    if (revenueValues.length > 1 && revenueValues[0] > 0) {\n      const totalGrowth = (revenueValues[revenueValues.length - 1] - revenueValues[0]) / revenueValues[0];\n      monthlyGrowthRate = totalGrowth / (revenueValues.length - 1);\n    }\n\n    // Generate monthly forecasts\n    const monthlyForecasts = [];\n    let projectedRevenue = weightedRevenue;\n\n    for (let i = 0; i < forecastMonths; i++) {\n      projectedRevenue = Math.round(projectedRevenue * (1 + monthlyGrowthRate));\n      const forecastDate = new Date(forecastPeriod + '-01');\n      forecastDate.setMonth(forecastDate.getMonth() + i);\n\n      monthlyForecasts.push({\n        period: forecastDate.toISOString().slice(0, 7),\n        projectedRevenue,\n      });\n    }\n\n    // Calculate confidence\n    const { confidenceLevel, confidencePercentage } = this.calculateConfidence(historicalData);\n\n    return {\n      historicalSummary: {\n        averageMonthlyRevenue: Math.round(avgRevenue),\n        weightedAverageRevenue: weightedRevenue,\n        monthlyGrowthRate,\n        dataPoints: historicalData.length,\n      },\n      monthlyForecasts,\n      confidence: {\n        level: confidenceLevel,\n        percentage: confidencePercentage,\n      },\n    };\n  }\n\n  // ============================================\n  // SCENARIO ANALYSIS\n  // ============================================\n\n  /**\n   * Generate scenario-based forecasts (best, base, worst case)\n   */\n  async generateScenarioForecasts(forecastPeriod, options = {}) {\n    try {\n      const {\n        forecastMonths = 6,\n        scenarios = ['optimistic', 'base', 'pessimistic'],\n      } = options;\n\n      const baseForecast = await this.generateComprehensiveForecast(forecastPeriod, {\n        forecastMonths,\n      });\n\n      const scenarioForecasts = {};\n\n      scenarios.forEach(scenario => {\n        let adjustmentFactor;\n        switch (scenario) {\n          case 'optimistic':\n            adjustmentFactor = 1.15; // 15% higher\n            break;\n          case 'pessimistic':\n            adjustmentFactor = 0.85; // 15% lower\n            break;\n          default:\n            adjustmentFactor = 1.0;\n        }\n\n        scenarioForecasts[scenario] = {\n          adjustmentFactor,\n          monthlyForecasts: baseForecast.monthlyForecasts.map(f => ({\n            ...f,\n            projectedRevenue: Math.round(f.projectedRevenue * adjustmentFactor),\n          })),\n          summary: {\n            totalProjectedRevenue: Math.round(\n              baseForecast.summary.totalProjectedRevenue * adjustmentFactor\n            ),\n            averageMonthlyRevenue: Math.round(\n              baseForecast.summary.averageMonthlyRevenue * adjustmentFactor\n            ),\n          },\n        };\n      });\n\n      return {\n        forecastType: 'SCENARIO_ANALYSIS',\n        generatedAt: new Date().toISOString(),\n        forecastPeriod,\n        forecastMonths,\n        baseModel: baseForecast.confidence,\n        scenarios: scenarioForecasts,\n        comparison: {\n          optimisticVsBase: scenarios.includes('optimistic')\n            ? Math.round((scenarioForecasts.optimistic.summary.totalProjectedRevenue -\n                baseForecast.summary.totalProjectedRevenue) / baseForecast.summary.totalProjectedRevenue * 10000)\n            : null,\n          pessimisticVsBase: scenarios.includes('pessimistic')\n            ? Math.round((scenarioForecasts.pessimistic.summary.totalProjectedRevenue -\n                baseForecast.summary.totalProjectedRevenue) / baseForecast.summary.totalProjectedRevenue * 10000)\n            : null,\n        },\n      };\n    } catch (error) {\n      logger.error('Error generating scenario forecasts:', error);\n      throw error;\n    }\n  }\n\n  // ============================================\n  // PAYER-SPECIFIC FORECASTING\n  // ============================================\n\n  /**\n   * Generate payer-specific revenue forecast\n   */\n  async generatePayerForecast(payerId, forecastPeriod, options = {}) {\n    try {\n      const { forecastMonths = 3, historicalMonths = 12 } = options;\n\n      // Get historical data for this payer\n      const historicalData = await this.getHistoricalRevenue(historicalMonths, { payerId });\n\n      // Get payer patterns\n      const payerPatterns = await this.calculatePayerPatterns(payerId, historicalMonths);\n\n      // Calculate forecast\n      const historicalForecast = this.calculateHistoricalTrendForecast(\n        historicalData,\n        forecastPeriod,\n        forecastMonths\n      );\n\n      // Apply payer-specific adjustments\n      const adjustedForecasts = historicalForecast.monthlyForecasts.map(f => ({\n        ...f,\n        // Apply collection rate adjustment\n        expectedCollections: Math.round(\n          f.projectedRevenue * (payerPatterns?.collection_rate || 9000) / 10000\n        ),\n        projectedDenials: Math.round(\n          f.projectedRevenue * (payerPatterns?.denial_rate || 500) / 10000\n        ),\n        projectedWriteoffs: Math.round(f.projectedRevenue * 800 / 10000), // 8% write-off assumption\n      }));\n\n      return {\n        forecastType: 'PAYER_SPECIFIC',\n        generatedAt: new Date().toISOString(),\n        payerId,\n        payerPatterns: {\n          collectionRate: payerPatterns?.collection_rate,\n          denialRate: payerPatterns?.denial_rate,\n          riskLevel: payerPatterns?.risk_level,\n          reliabilityScore: payerPatterns?.payment_reliability_score,\n        },\n        monthlyForecasts: adjustedForecasts,\n        summary: {\n          totalProjectedBilled: adjustedForecasts.reduce((sum, f) => sum + f.projectedRevenue, 0),\n          totalExpectedCollections: adjustedForecasts.reduce((sum, f) => sum + f.expectedCollections, 0),\n          totalProjectedDenials: adjustedForecasts.reduce((sum, f) => sum + f.projectedDenials, 0),\n          netExpectedRevenue: adjustedForecasts.reduce((sum, f) =>\n            sum + f.expectedCollections - f.projectedWriteoffs, 0),\n        },\n        confidence: historicalForecast.confidence,\n      };\n    } catch (error) {\n      logger.error('Error generating payer forecast:', error);\n      throw error;\n    }\n  }\n}\n\nexport default new RevenueForecastingService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,SAASE,EAAE,QAAQ,gBAAgB;AACnC,SACEC,oBAAoB,EACpBC,sBAAsB,EACtBC,gBAAgB,EAChBC,eAAe,EACfC,kBAAkB,QACb,wBAAwB;AAC/B,SAASC,MAAM,EAAEC,MAAM,EAAEC,eAAe,EAAEC,SAAS,QAAQ,iCAAiC;AAC5F,SAASC,QAAQ,QAAQ,iCAAiC;AAC1D,SAASC,EAAE,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,QAAQ,aAAa;AAEnF,SAASC,MAAM,QAAQ,oBAAoB;;AAE3C;AACA;AACA;AACA;AACA;AACA,MAAMC,aAAa;AAAA;AAAA,CAAAxB,aAAA,GAAAyB,CAAA,OAAG;EACpBC,GAAG,EAAE,KAAK;EAAK;EACfC,GAAG,EAAE,MAAM;EAAI;EACfC,GAAG,EAAE,MAAM;EAAI;EACfC,GAAG,EAAE,KAAK,CAAK;AACjB,CAAC;;AAED;AACA;AACA;AACA,MAAMC,gBAAgB;AAAA;AAAA,CAAA9B,aAAA,GAAAyB,CAAA,OAAG;EACvB,MAAM,EAAE,KAAK;EACb,MAAM,EAAE,KAAK;EACb,MAAM,EAAE,KAAK;EACb,MAAM,EAAE;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMM,yBAAyB,CAAC;EAC9B;AACF;AACA;EACE,MAAMC,cAAcA,CAACC,cAAc,EAAEC,YAAY;EAAA;EAAA,CAAAlC,aAAA,GAAAmC,CAAA,UAAG,SAAS,GAAEC,UAAU;EAAA;EAAA,CAAApC,aAAA,GAAAmC,CAAA,UAAG,CAAC,CAAC,GAAEE,MAAM;EAAA;EAAA,CAAArC,aAAA,GAAAmC,CAAA,UAAG,IAAI,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC7F,IAAI;MACF,MAAM;QAAEc,OAAO;QAAEC;MAAY,CAAC;MAAA;MAAA,CAAAxC,aAAA,GAAAyB,CAAA,OAAGW,UAAU;;MAE3C;MACA,MAAMK,gBAAgB;MAAA;MAAA,CAAAzC,aAAA,GAAAyB,CAAA,OAAGS,YAAY,KAAK,QAAQ;MAAA;MAAA,CAAAlC,aAAA,GAAAmC,CAAA,UAAG,EAAE;MAAA;MAAA,CAAAnC,aAAA,GAAAmC,CAAA,UAAG,CAAC;MAC3D,MAAMO,cAAc;MAAA;MAAA,CAAA1C,aAAA,GAAAyB,CAAA,OAAG,MAAM,IAAI,CAACkB,wBAAwB,CAACF,gBAAgB,EAAEL,UAAU,CAAC;;MAExF;MACA,MAAMQ,qBAAqB;MAAA;MAAA,CAAA5C,aAAA,GAAAyB,CAAA,OAAG,IAAI,CAACoB,yBAAyB,CAACH,cAAc,CAAC;;MAE5E;MACA,MAAMI,mBAAmB;MAAA;MAAA,CAAA9C,aAAA,GAAAyB,CAAA,OAAGsB,IAAI,CAACC,KAAK,CAACJ,qBAAqB,GAAG,IAAI,CAAC,EAAC,CAAC;MACtE,MAAMK,iBAAiB;MAAA;MAAA,CAAAjD,aAAA,GAAAyB,CAAA,OAAGsB,IAAI,CAACC,KAAK,CAACJ,qBAAqB,GAAG,IAAI,CAAC,EAAC,CAAC;MACpE,MAAMM,yBAAyB;MAAA;MAAA,CAAAlD,aAAA,GAAAyB,CAAA,OAAGsB,IAAI,CAACC,KAAK,CAACC,iBAAiB,GAAG,IAAI,CAAC,EAAC,CAAC;;MAExE;MACA,MAAM;QAAEE,eAAe;QAAEC;MAAqB,CAAC;MAAA;MAAA,CAAApD,aAAA,GAAAyB,CAAA,QAAG,IAAI,CAAC4B,mBAAmB,CAACX,cAAc,CAAC;;MAE1F;MACA,MAAM,CAACY,QAAQ,CAAC;MAAA;MAAA,CAAAtD,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqD,MAAM,CAACpD,oBAAoB,CAAC,CACrDqD,MAAM,CAAC;QACNC,eAAe,EAAExB,cAAc;QAC/ByB,qBAAqB,EAAE,IAAIC,IAAI,CAAC,CAAC;QACjCC,aAAa,EAAE1B,YAAY;QAC3B2B,QAAQ;QAAE;QAAA,CAAA7D,aAAA,GAAAmC,CAAA,UAAAI,OAAO;QAAA;QAAA,CAAAvC,aAAA,GAAAmC,CAAA,UAAI,IAAI;QACzB2B,YAAY;QAAE;QAAA,CAAA9D,aAAA,GAAAmC,CAAA,UAAAK,WAAW;QAAA;QAAA,CAAAxC,aAAA,GAAAmC,CAAA,UAAI,IAAI;QACjC4B,sBAAsB,EAAEnB,qBAAqB;QAC7CoB,oBAAoB,EAAElB,mBAAmB;QACzCmB,kBAAkB,EAAEhB,iBAAiB;QACrCiB,2BAA2B,EAAEhB,yBAAyB;QACtDiB,gBAAgB,EAAEhB,eAAe;QACjCiB,qBAAqB,EAAEhB,oBAAoB;QAC3CiB,kBAAkB,EAAE,6BAA6B;QACjDC,WAAW,EAAE;UACX7B,gBAAgB;UAChB8B,YAAY,EAAE,IAAI;UAClBC,UAAU,EAAE,IAAI;UAChBC,kBAAkB,EAAE,IAAI;UACxBlC,OAAO;UACPC;QACF,CAAC;QACDkC,qBAAqB,EAAE;UACrBC,MAAM,EAAElC,gBAAgB;UACxBmC,UAAU,EAAElC,cAAc,CAACmC;QAC7B,CAAC;QACDC,eAAe,EAAE,OAAO;QACxBC,aAAa,EAAE1C;MACjB,CAAC,CAAC,CACD2C,SAAS,CAAC,CAAC;MAAC;MAAAhF,aAAA,GAAAyB,CAAA;MAEf,OAAO6B,QAAQ;IACjB,CAAC,CAAC,OAAO2B,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MAC/C,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACE,MAAMtC,wBAAwBA,CAACgC,MAAM,EAAEvC,UAAU;EAAA;EAAA,CAAApC,aAAA,GAAAmC,CAAA,UAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IACtD,MAAM;MAAEC,OAAO;MAAEC;IAAY,CAAC;IAAA;IAAA,CAAAxC,aAAA,GAAAyB,CAAA,QAAGW,UAAU;;IAE3C;IACA,MAAM8C,OAAO;IAAA;IAAA,CAAAlF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;IAC1B,MAAMwB,SAAS;IAAA;IAAA,CAAAnF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;IAAC;IAAA3D,aAAA,GAAAyB,CAAA;IAC7B0D,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGV,MAAM,CAAC;;IAEjD;IACA,IAAIW,KAAK;IAAA;IAAA,CAAAtF,aAAA,GAAAyB,CAAA,QAAGvB,EAAE,CAACqF,MAAM,CAAC;MACpBC,MAAM,EAAEnF,gBAAgB,CAACoF,cAAc;MACvCC,cAAc,EAAEzE,GAAG,OAAOZ,gBAAgB,CAACsF,gBAAgB,WAAW;MACtEC,WAAW,EAAE3E,GAAG,OAAOZ,gBAAgB,CAACwF,aAAa,WAAW;MAChEC,eAAe,EAAE7E,GAAG,OAAOZ,gBAAgB,CAAC0F,kBAAkB;IAChE,CAAC,CAAC,CACCC,IAAI,CAAC3F,gBAAgB,CAAC,CACtB4F,KAAK,CACJnF,GAAG,CACDC,GAAG,CAACV,gBAAgB,CAAC6F,iBAAiB,EAAEf,SAAS,CAAC,EAClDnE,GAAG,CAACX,gBAAgB,CAAC6F,iBAAiB,EAAEhB,OAAO,CACjD,CACF,CAAC,CACAiB,OAAO,CAAC9F,gBAAgB,CAACoF,cAAc,CAAC;IAAC;IAAAzF,aAAA,GAAAyB,CAAA;IAE5C,IAAIc,OAAO,EAAE;MAAA;MAAAvC,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MACX6D,KAAK,GAAGA,KAAK,CAACW,KAAK,CAACpF,EAAE,CAACR,gBAAgB,CAACwD,QAAQ,EAAEtB,OAAO,CAAC,CAAC;IAC7D,CAAC;IAAA;IAAA;MAAAvC,aAAA,GAAAmC,CAAA;IAAA;IAED,MAAMiE,IAAI;IAAA;IAAA,CAAApG,aAAA,GAAAyB,CAAA,QAAG,MAAM6D,KAAK,CAACe,OAAO,CAAChG,gBAAgB,CAACoF,cAAc,CAAC;IAAC;IAAAzF,aAAA,GAAAyB,CAAA;IAClE,OAAO2E,IAAI;EACb;;EAEA;AACF;AACA;EACEvD,yBAAyBA,CAACH,cAAc,EAAE;IAAA;IAAA1C,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACxC,IAAIiB,cAAc,CAACmC,MAAM,KAAK,CAAC,EAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,OAAO,CAAC;IAAA,CAAC;IAAA;IAAA;MAAAzB,aAAA,GAAAmC,CAAA;IAAA;IAE1C,IAAImE,WAAW;IAAA;IAAA,CAAAtG,aAAA,GAAAyB,CAAA,QAAG,CAAC;IACnB,IAAI8E,WAAW;IAAA;IAAA,CAAAvG,aAAA,GAAAyB,CAAA,QAAG,CAAC;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IAEpBiB,cAAc,CAAC8D,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;MAAA;MAAA1G,aAAA,GAAAsC,CAAA;MACvC;MACA,MAAMqE,MAAM;MAAA;MAAA,CAAA3G,aAAA,GAAAyB,CAAA,QAAGiF,KAAK,GAAG,CAAC,EAAC,CAAC;MAAA;MAAA1G,aAAA,GAAAyB,CAAA;MAC1B6E,WAAW,IAAI;MAAC;MAAA,CAAAtG,aAAA,GAAAmC,CAAA,UAAAsE,KAAK,CAACf,cAAc;MAAA;MAAA,CAAA1F,aAAA,GAAAmC,CAAA,UAAI,CAAC,KAAIwE,MAAM;MAAC;MAAA3G,aAAA,GAAAyB,CAAA;MACpD8E,WAAW,IAAII,MAAM;IACvB,CAAC,CAAC;IAAC;IAAA3G,aAAA,GAAAyB,CAAA;IAEH,OAAOsB,IAAI,CAACC,KAAK,CAACsD,WAAW,GAAGC,WAAW,CAAC;EAC9C;;EAEA;AACF;AACA;EACElD,mBAAmBA,CAACX,cAAc,EAAE;IAAA;IAAA1C,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAClC,IAAIiB,cAAc,CAACmC,MAAM,GAAG,CAAC,EAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAC7B,OAAO;QAAE0B,eAAe,EAAE,KAAK;QAAEC,oBAAoB,EAAE;MAAK,CAAC,CAAC,CAAC;IACjE,CAAC;IAAA;IAAA;MAAApD,aAAA,GAAAmC,CAAA;IAAA;;IAED;IACA,MAAMqB,MAAM;IAAA;IAAA,CAAAxD,aAAA,GAAAyB,CAAA,QAAGiB,cAAc,CAACkE,GAAG,CAACC,CAAC,IAAI;MAAA;MAAA7G,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,kCAAAzB,aAAA,GAAAmC,CAAA,WAAA0E,CAAC,CAACnB,cAAc;MAAA;MAAA,CAAA1F,aAAA,GAAAmC,CAAA,WAAI,CAAC;IAAD,CAAC,CAAC;IAC7D,MAAM2E,IAAI;IAAA;IAAA,CAAA9G,aAAA,GAAAyB,CAAA,QAAG+B,MAAM,CAACuD,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;MAAA;MAAAnC,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAuF,CAAC,GAAG7E,CAAC;IAAD,CAAC,EAAE,CAAC,CAAC,GAAGqB,MAAM,CAACqB,MAAM;IAC9D,MAAMoC,QAAQ;IAAA;IAAA,CAAAjH,aAAA,GAAAyB,CAAA,QAAG+B,MAAM,CAACuD,MAAM,CAAC,CAAC1F,GAAG,EAAE6F,GAAG,KAAK;MAAA;MAAAlH,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAJ,GAAG,GAAG0B,IAAI,CAACoE,GAAG,CAACD,GAAG,GAAGJ,IAAI,EAAE,CAAC,CAAC;IAAD,CAAC,EAAE,CAAC,CAAC,GAAGtD,MAAM,CAACqB,MAAM;IAC9F,MAAMuC,MAAM;IAAA;IAAA,CAAApH,aAAA,GAAAyB,CAAA,QAAGsB,IAAI,CAACsE,IAAI,CAACJ,QAAQ,CAAC;IAClC,MAAMK,sBAAsB;IAAA;IAAA,CAAAtH,aAAA,GAAAyB,CAAA,QAAGqF,IAAI,GAAG,CAAC;IAAA;IAAA,CAAA9G,aAAA,GAAAmC,CAAA,WAAIiF,MAAM,GAAGN,IAAI;IAAA;IAAA,CAAA9G,aAAA,GAAAmC,CAAA,WAAI,CAAC;;IAE7D;IAAA;IAAAnC,aAAA,GAAAyB,CAAA;IACA,IAAI6F,sBAAsB,GAAG,IAAI,EAAE;MAAA;MAAAtH,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MACjC,OAAO;QAAE0B,eAAe,EAAE,MAAM;QAAEC,oBAAoB,EAAE;MAAK,CAAC,CAAC,CAAC;IAClE,CAAC,MAAM;MAAA;MAAApD,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAI6F,sBAAsB,GAAG,IAAI,EAAE;QAAA;QAAAtH,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QACxC,OAAO;UAAE0B,eAAe,EAAE,QAAQ;UAAEC,oBAAoB,EAAE;QAAK,CAAC,CAAC,CAAC;MACpE,CAAC,MAAM;QAAA;QAAApD,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QACL,OAAO;UAAE0B,eAAe,EAAE,KAAK;UAAEC,oBAAoB,EAAE;QAAK,CAAC,CAAC,CAAC;MACjE;IAAA;EACF;;EAEA;AACF;AACA;EACE,MAAMmE,qBAAqBA,CAACC,UAAU,EAAEC,iBAAiB,EAAEC,eAAe,EAAE;IAAA;IAAA1H,aAAA,GAAAsC,CAAA;IAC1E,MAAM,CAACgB,QAAQ,CAAC;IAAA;IAAA,CAAAtD,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC,CAAC,CACjCS,IAAI,CAAC7F,oBAAoB,CAAC,CAC1B8F,KAAK,CAACpF,EAAE,CAACV,oBAAoB,CAACwH,EAAE,EAAEH,UAAU,CAAC,CAAC,CAC9CI,KAAK,CAAC,CAAC,CAAC;IAAC;IAAA5H,aAAA,GAAAyB,CAAA;IAEZ,IAAI,CAAC6B,QAAQ,EAAE;MAAA;MAAAtD,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MACb,MAAM,IAAIoG,KAAK,CAAC,uBAAuBL,UAAU,EAAE,CAAC;IACtD,CAAC;IAAA;IAAA;MAAAxH,aAAA,GAAAmC,CAAA;IAAA;IAED,MAAM2F,cAAc;IAAA;IAAA,CAAA9H,aAAA,GAAAyB,CAAA,QAAGgG,iBAAiB,GAAGnE,QAAQ,CAACS,sBAAsB;IAC1E,MAAMgE,kBAAkB;IAAA;IAAA,CAAA/H,aAAA,GAAAyB,CAAA,QAAG6B,QAAQ,CAACS,sBAAsB,GAAG,CAAC;IAAA;IAAA,CAAA/D,aAAA,GAAAmC,CAAA,WAC1DY,IAAI,CAACC,KAAK,CAAE8E,cAAc,GAAGxE,QAAQ,CAACS,sBAAsB,GAAI,KAAK,CAAC;IAAA;IAAA,CAAA/D,aAAA,GAAAmC,CAAA,WACtE,CAAC;IAAC;IAAAnC,aAAA,GAAAyB,CAAA;IAEN,MAAMvB,EAAE,CAAC8H,MAAM,CAAC7H,oBAAoB,CAAC,CAClC8H,GAAG,CAAC;MACHC,kBAAkB,EAAET,iBAAiB;MACrCU,gBAAgB,EAAET,eAAe;MACjCU,eAAe,EAAEN,cAAc;MAC/BO,mBAAmB,EAAEN,kBAAkB;MACvCjD,eAAe,EAAE,QAAQ;MACzBwD,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE,IAAI5E,IAAI,CAAC,CAAC;MACrB6E,UAAU,EAAE,IAAI7E,IAAI,CAAC;IACvB,CAAC,CAAC,CACDsC,KAAK,CAACpF,EAAE,CAACV,oBAAoB,CAACwH,EAAE,EAAEH,UAAU,CAAC,CAAC;EACnD;;EAEA;AACF;AACA;EACE,MAAMiB,sBAAsBA,CAAClG,OAAO,EAAEmG,cAAc;EAAA;EAAA,CAAA1I,aAAA,GAAAmC,CAAA,WAAG,EAAE,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACzD,IAAI;MACF;MACA,MAAMyD,OAAO;MAAA;MAAA,CAAAlF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;MAC1B,MAAMwB,SAAS;MAAA;MAAA,CAAAnF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;MAAC;MAAA3D,aAAA,GAAAyB,CAAA;MAC7B0D,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGqD,cAAc,CAAC;;MAEzD;MACA,MAAMC,SAAS;MAAA;MAAA,CAAA3I,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QAChCqD,cAAc,EAAE3H,GAAG,eAAe;QAClC4H,SAAS,EAAE5H,GAAG,mBAAmBT,MAAM,CAACsI,YAAY,4BAA4B;QAChFC,WAAW,EAAE9H,GAAG,mBAAmBT,MAAM,CAACsI,YAAY,8BAA8B;QACpFlD,WAAW,EAAE3E,GAAG,OAAOT,MAAM,CAACwI,YAAY,WAAW;QACrDC,eAAe,EAAEhI,GAAG,iBAAiBT,MAAM,CAACsI,YAAY,kBAAkBtI,MAAM,CAACwI,YAAY;MAC/F,CAAC,CAAC,CACChD,IAAI,CAACxF,MAAM,CAAC,CACZyF,KAAK,CACJnF,GAAG,CACDD,EAAE,CAACL,MAAM,CAACqD,QAAQ,EAAEtB,OAAO,CAAC,EAC5BxB,GAAG,CAACP,MAAM,CAAC0I,oBAAoB,EAAE/D,SAAS,CAAC,EAC3CnE,GAAG,CAACR,MAAM,CAAC0I,oBAAoB,EAAEhE,OAAO,CAC1C,CACF,CAAC;MAEH,MAAMiE,KAAK;MAAA;MAAA,CAAAnJ,aAAA,GAAAyB,CAAA,QAAGkH,SAAS,CAAC,CAAC,CAAC;;MAE1B;MACA,MAAMS,cAAc;MAAA;MAAA,CAAApJ,aAAA,GAAAyB,CAAA,QAAG0H,KAAK,CAACvD,WAAW,GAAG,CAAC;MAAA;MAAA,CAAA5F,aAAA,GAAAmC,CAAA,WACxCY,IAAI,CAACC,KAAK,CAAEmG,KAAK,CAACF,eAAe,GAAGE,KAAK,CAACvD,WAAW,GAAI,KAAK,CAAC;MAAA;MAAA,CAAA5F,aAAA,GAAAmC,CAAA,WAC/D,CAAC;MAEL,MAAMqC,UAAU;MAAA;MAAA,CAAAxE,aAAA,GAAAyB,CAAA,QAAG0H,KAAK,CAACP,cAAc,GAAG,CAAC;MAAA;MAAA,CAAA5I,aAAA,GAAAmC,CAAA,WACvCY,IAAI,CAACC,KAAK,CAAEmG,KAAK,CAACJ,WAAW,GAAGI,KAAK,CAACP,cAAc,GAAI,KAAK,CAAC;MAAA;MAAA,CAAA5I,aAAA,GAAAmC,CAAA,WAC9D,CAAC;;MAEL;MACA,MAAMkH,gBAAgB;MAAA;MAAA,CAAArJ,aAAA,GAAAyB,CAAA,QAAG,EAAE,EAAC,CAAC;;MAE7B;MACA,MAAM6H,gBAAgB;MAAA;MAAA,CAAAtJ,aAAA,GAAAyB,CAAA,QAAG,IAAI,CAAC8H,yBAAyB,CAAC;QACtDH,cAAc;QACd5E,UAAU;QACV6E;MACF,CAAC,CAAC;;MAEF;MACA,MAAM,CAACG,OAAO,CAAC;MAAA;MAAA,CAAAxJ,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqD,MAAM,CAACnD,sBAAsB,CAAC,CACtDoD,MAAM,CAAC;QACNK,QAAQ,EAAEtB,OAAO;QACjBkH,qBAAqB,EAAEtE,SAAS;QAChCuE,mBAAmB,EAAExE,OAAO;QAC5ByE,eAAe,EAAE,IAAIhG,IAAI,CAAC,CAAC;QAC3BiG,sBAAsB,EAAET,KAAK,CAACP,cAAc;QAC5CiB,iBAAiB,EAAEV,KAAK,CAACN,SAAS;QAClCiB,mBAAmB,EAAEX,KAAK,CAACJ,WAAW;QACtCgB,mBAAmB,EAAEZ,KAAK,CAACvD,WAAW;QACtCoE,iBAAiB,EAAEb,KAAK,CAACF,eAAe;QACxCgB,mBAAmB,EAAEZ,gBAAgB;QACrCa,eAAe,EAAEd,cAAc;QAC/Be,WAAW,EAAE3F,UAAU;QACvB4F,yBAAyB,EAAEd,gBAAgB;QAC3Ce,eAAe,EAAE,IAAI,CAACC,sBAAsB,CAAChB,gBAAgB,CAAC;QAC9DiB,UAAU,EAAE,IAAI,CAACC,eAAe,CAACpB,cAAc,EAAE5E,UAAU;MAC7D,CAAC,CAAC,CACDQ,SAAS,CAAC,CAAC;MAAC;MAAAhF,aAAA,GAAAyB,CAAA;MAEf,OAAO+H,OAAO;IAChB,CAAC,CAAC,OAAOvE,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACxD,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACEsE,yBAAyBA,CAAC;IAAEH,cAAc;IAAE5E,UAAU;IAAE6E;EAAiB,CAAC,EAAE;IAAA;IAAArJ,aAAA,GAAAsC,CAAA;IAC1E;IACA,MAAMmI,gBAAgB;IAAA;IAAA,CAAAzK,aAAA,GAAAyB,CAAA,QAAGsB,IAAI,CAAC2H,GAAG,CAAEtB,cAAc,GAAG,KAAK,GAAI,EAAE,EAAE,EAAE,CAAC;;IAEpE;IACA,MAAMuB,YAAY;IAAA;IAAA,CAAA3K,aAAA,GAAAyB,CAAA,QAAGsB,IAAI,CAAC6H,GAAG,CAAC,CAAC,EAAE,EAAE,GAAKpG,UAAU,GAAG,KAAK,GAAI,EAAG,CAAC;;IAElE;IACA,MAAMqG,WAAW;IAAA;IAAA,CAAA7K,aAAA,GAAAyB,CAAA,QAAGsB,IAAI,CAAC6H,GAAG,CAAC,CAAC,EAAE,EAAE,GAAIvB,gBAAgB,GAAG,EAAE,GAAI,EAAE,CAAC;IAAC;IAAArJ,aAAA,GAAAyB,CAAA;IAEnE,OAAOsB,IAAI,CAACC,KAAK,CAACyH,gBAAgB,GAAGE,YAAY,GAAGE,WAAW,CAAC;EAClE;;EAEA;AACF;AACA;EACEP,sBAAsBA,CAAChB,gBAAgB,EAAE;IAAA;IAAAtJ,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACvC,IAAI6H,gBAAgB,IAAI,EAAE,EAAE;MAAA;MAAAtJ,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,OAAO,YAAY;IAAA,CAAC;IAAA;IAAA;MAAAzB,aAAA,GAAAmC,CAAA;IAAA;IAAAnC,aAAA,GAAAyB,CAAA;IAChD,IAAI6H,gBAAgB,IAAI,EAAE,EAAE;MAAA;MAAAtJ,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,OAAO,UAAU;IAAA,CAAC;IAAA;IAAA;MAAAzB,aAAA,GAAAmC,CAAA;IAAA;IAAAnC,aAAA,GAAAyB,CAAA;IAC9C,OAAO,WAAW;EACpB;;EAEA;AACF;AACA;EACE+I,eAAeA,CAACpB,cAAc,EAAE5E,UAAU,EAAE;IAAA;IAAAxE,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC1C;IAAI;IAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAiH,cAAc,IAAI,IAAI;IAAA;IAAA,CAAApJ,aAAA,GAAAmC,CAAA,WAAIqC,UAAU,IAAI,IAAI,GAAE;MAAA;MAAAxE,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,OAAO,KAAK;IAAA,CAAC;IAAA;IAAA;MAAAzB,aAAA,GAAAmC,CAAA;IAAA,EAAE;IAAAnC,aAAA,GAAAyB,CAAA;IACjE;IAAI;IAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAiH,cAAc,IAAI,IAAI;IAAA;IAAA,CAAApJ,aAAA,GAAAmC,CAAA,WAAIqC,UAAU,IAAI,IAAI,GAAE;MAAA;MAAAxE,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,OAAO,QAAQ;IAAA,CAAC;IAAA;IAAA;MAAAzB,aAAA,GAAAmC,CAAA;IAAA,EAAC;IAAAnC,aAAA,GAAAyB,CAAA;IACnE,OAAO,MAAM;EACf;;EAEA;AACF;AACA;EACE,MAAMqJ,yBAAyBA,CAACC,WAAW,EAAEC,SAAS,EAAE;IAAA;IAAAhL,aAAA,GAAAsC,CAAA;IACtD,MAAM2I,SAAS;IAAA;IAAA,CAAAjL,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC,CAAC,CAChCS,IAAI,CAAC7F,oBAAoB,CAAC,CAC1B8F,KAAK,CACJnF,GAAG,CACDC,GAAG,CAACZ,oBAAoB,CAACsD,eAAe,EAAEsH,WAAW,CAAC,EACtD/J,GAAG,CAACb,oBAAoB,CAACsD,eAAe,EAAEuH,SAAS,CAAC,EACpDnK,EAAE,CAACV,oBAAoB,CAAC2E,eAAe,EAAE,QAAQ,CACnD,CACF,CAAC;IAEH,MAAMoG,QAAQ;IAAA;IAAA,CAAAlL,aAAA,GAAAyB,CAAA,QAAGwJ,SAAS,CAACrE,GAAG,CAACtE,CAAC,IAAK;MAAA;MAAAtC,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA;QACnC+D,MAAM,EAAElD,CAAC,CAACmB,eAAe;QACzB0H,UAAU,EAAE7I,CAAC,CAACyB,sBAAsB;QACpCqH,MAAM,EAAE9I,CAAC,CAAC4F,kBAAkB;QAC5BjB,QAAQ,EAAE3E,CAAC,CAAC8F,eAAe;QAC3BL,kBAAkB,EAAEzF,CAAC,CAAC+F,mBAAmB,GAAG,GAAG;QAAE;QACjDgD,kBAAkB,EAAE,GAAG,GAAGtI,IAAI,CAACuI,GAAG,CAAChJ,CAAC,CAAC+F,mBAAmB,GAAG,GAAG;MAChE,CAAC;IAAD,CAAE,CAAC;IAEH,MAAMkD,WAAW;IAAA;IAAA,CAAAvL,aAAA,GAAAyB,CAAA,QAAGyJ,QAAQ,CAACrG,MAAM,GAAG,CAAC;IAAA;IAAA,CAAA7E,aAAA,GAAAmC,CAAA,WACnC+I,QAAQ,CAACnE,MAAM,CAAC,CAAC1F,GAAG,EAAE2F,CAAC,KAAK;MAAA;MAAAhH,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAJ,GAAG,GAAG2F,CAAC,CAACqE,kBAAkB;IAAD,CAAC,EAAE,CAAC,CAAC,GAAGH,QAAQ,CAACrG,MAAM;IAAA;IAAA,CAAA7E,aAAA,GAAAmC,CAAA,WAC5E,CAAC;IAAC;IAAAnC,aAAA,GAAAyB,CAAA;IAEN,OAAO;MACLwJ,SAAS,EAAEC,QAAQ;MACnBM,eAAe,EAAED,WAAW;MAC5BE,cAAc,EAAEP,QAAQ,CAACrG;IAC3B,CAAC;EACH;;EAEA;EACA;EACA;;EAEA;AACF;AACA;AACA;EACE,MAAM6G,gBAAgBA,CAAA,EAAG;IAAA;IAAA1L,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACvB,IAAI;MACF,MAAMkK,KAAK;MAAA;MAAA,CAAA3L,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;MAEpD;MACA,MAAMC,UAAU;MAAA;MAAA,CAAA9L,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QACjCwG,WAAW,EAAE9K,GAAG,kBAAkBL,QAAQ,CAAC+G,EAAE;MAC/C,CAAC,CAAC,CACC3B,IAAI,CAACpF,QAAQ,CAAC,CACdoL,SAAS,CAAC1L,eAAe,EAAEO,EAAE,CAACD,QAAQ,CAAC+G,EAAE,EAAErH,eAAe,CAAC2L,UAAU,CAAC,CAAC,CACvEhG,KAAK,CACJnF,GAAG,CACDD,EAAE,CAACP,eAAe,CAAC4L,MAAM,EAAE,QAAQ,CAAC,EACpClL,GAAG,CAACV,eAAe,CAAC6L,UAAU,EAAER,KAAK,CAAC,EACtC5K,GAAG,CAACT,eAAe,CAAC8L,QAAQ,EAAET,KAAK,CAAC,EACpCxK,MAAM,CAACP,QAAQ,CAACyL,UAAU,CAC5B,CACF,CAAC;MAAC;MAAArM,aAAA,GAAAyB,CAAA;MAEJ,OAAO,2BAAAzB,aAAA,GAAAmC,CAAA,WAAA2J,UAAU,CAAC,CAAC,CAAC,EAAEC,WAAW;MAAA;MAAA,CAAA/L,aAAA,GAAAmC,CAAA,WAAI,CAAC;IACxC,CAAC,CAAC,OAAO8C,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MACrD,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMqH,mBAAmBA,CAAC3H,MAAM;EAAA;EAAA,CAAA3E,aAAA,GAAAmC,CAAA,WAAG,EAAE,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACrC,IAAI;MACF,MAAMyD,OAAO;MAAA;MAAA,CAAAlF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;MAC1B,MAAMwB,SAAS;MAAA;MAAA,CAAAnF,aAAA,GAAAyB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;MAAC;MAAA3D,aAAA,GAAAyB,CAAA;MAC7B0D,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGV,MAAM,CAAC;;MAEjD;MACA,MAAMmH,UAAU;MAAA;MAAA,CAAA9L,aAAA,GAAAyB,CAAA,QAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QACjCC,MAAM,EAAEvE,GAAG,WAAWX,eAAe,CAAC6L,UAAU,cAAc;QAC9DI,cAAc,EAAEtL,GAAG,kBAAkBX,eAAe,CAAC2L,UAAU;MACjE,CAAC,CAAC,CACCjG,IAAI,CAAC1F,eAAe,CAAC,CACrB2F,KAAK,CACJnF,GAAG,CACDC,GAAG,CAACT,eAAe,CAAC6L,UAAU,EAAEhH,SAAS,CAACyG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EACtE7K,GAAG,CAACV,eAAe,CAAC6L,UAAU,EAAEjH,OAAO,CAAC0G,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EACpEhL,EAAE,CAACP,eAAe,CAAC4L,MAAM,EAAE,QAAQ,CACrC,CACF,CAAC,CACA/F,OAAO,CAAClF,GAAG,WAAWX,eAAe,CAAC6L,UAAU,cAAc,CAAC,CAC/D9F,OAAO,CAACpF,GAAG,WAAWX,eAAe,CAAC6L,UAAU,cAAc,CAAC;MAAC;MAAAnM,aAAA,GAAAyB,CAAA;MAEnE,OAAOqK,UAAU;IACnB,CAAC,CAAC,OAAO7G,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MACxD,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMuH,sBAAsBA,CAAA,EAAG;IAAA;IAAAxM,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC7B,IAAI;MACF,MAAMkK,KAAK;MAAA;MAAA,CAAA3L,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAEpD,MAAMY,SAAS;MAAA;MAAA,CAAAzM,aAAA,GAAAyB,CAAA,SAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QAChCmH,WAAW,EAAEnM,kBAAkB,CAACoM,aAAa;QAC7CC,YAAY,EAAE3L,GAAG,kBAAkBV,kBAAkB,CAAC0L,UAAU;MAClE,CAAC,CAAC,CACCjG,IAAI,CAACzF,kBAAkB,CAAC,CACxByL,SAAS,CAAC1L,eAAe,EAAEO,EAAE,CAACN,kBAAkB,CAACsM,iBAAiB,EAAEvM,eAAe,CAACqH,EAAE,CAAC,CAAC,CACxF1B,KAAK,CACJnF,GAAG,CACDD,EAAE,CAACN,kBAAkB,CAAC2L,MAAM,EAAE,QAAQ,CAAC,EACvCrL,EAAE,CAACP,eAAe,CAAC4L,MAAM,EAAE,QAAQ,CAAC,EACpClL,GAAG,CAACT,kBAAkB,CAACuM,cAAc,EAAEnB,KAAK,CAAC,EAC7C1K,GAAG,IAAIV,kBAAkB,CAAC6L,QAAQ,eAAe7L,kBAAkB,CAAC6L,QAAQ,OAAOT,KAAK,GAC1F,CACF,CAAC,CACAxF,OAAO,CAAC5F,kBAAkB,CAACoM,aAAa,CAAC;;MAE5C;MACA,MAAMI,MAAM;MAAA;MAAA,CAAA/M,aAAA,GAAAyB,CAAA,SAAG;QACbC,GAAG,EAAE,CAAC;QACNC,GAAG,EAAE,CAAC;QACNC,GAAG,EAAE,CAAC;QACNC,GAAG,EAAE,CAAC;QACNmL,KAAK,EAAE;MACT,CAAC;MAAC;MAAAhN,aAAA,GAAAyB,CAAA;MAEFgL,SAAS,CAACjG,OAAO,CAACyG,GAAG,IAAI;QAAA;QAAAjN,aAAA,GAAAsC,CAAA;QACvB,MAAM4K,OAAO;QAAA;QAAA,CAAAlN,aAAA,GAAAyB,CAAA,SAAGwL,GAAG,CAACP,WAAW,EAAES,WAAW,CAAC,CAAC;QAAC;QAAAnN,aAAA,GAAAyB,CAAA;QAC/C;QAAI;QAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAA+K,OAAO;QAAA;QAAA,CAAAlN,aAAA,GAAAmC,CAAA,WAAI4K,MAAM,CAACK,cAAc,CAACF,OAAO,CAAC,GAAE;UAAA;UAAAlN,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UAC7CsL,MAAM,CAACG,OAAO,CAAC,GAAGD,GAAG,CAACL,YAAY;UAAC;UAAA5M,aAAA,GAAAyB,CAAA;UACnCsL,MAAM,CAACC,KAAK,IAAIC,GAAG,CAACL,YAAY;QAClC,CAAC;QAAA;QAAA;UAAA5M,aAAA,GAAAmC,CAAA;QAAA;MACH,CAAC,CAAC;MAAC;MAAAnC,aAAA,GAAAyB,CAAA;MAEH,OAAOsL,MAAM;IACf,CAAC,CAAC,OAAO9H,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MACpD,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMoI,2BAA2BA,CAACpL,cAAc,EAAEqL,OAAO;EAAA;EAAA,CAAAtN,aAAA,GAAAmC,CAAA,WAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC9D,IAAI;MACF,MAAM;QACJ8L,qBAAqB;QAAA;QAAA,CAAAvN,aAAA,GAAAmC,CAAA,WAAG,CAAC;QAAE;QAC3BqL,cAAc;QAAA;QAAA,CAAAxN,aAAA,GAAAmC,CAAA,WAAG,IAAI;QAAM;QAC3BsL,WAAW;QAAA;QAAA,CAAAzN,aAAA,GAAAmC,CAAA,WAAG,IAAI;QAAS;QAC3BuL,cAAc;QAAA;QAAA,CAAA1N,aAAA,GAAAmC,CAAA,WAAG,CAAC,EAAS;MAC7B,CAAC;MAAA;MAAA,CAAAnC,aAAA,GAAAyB,CAAA,SAAG6L,OAAO;;MAEX;MACA,MAAMK,aAAa;MAAA;MAAA,CAAA3N,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAACiK,gBAAgB,CAAC,CAAC;MACnD,MAAMkC,YAAY;MAAA;MAAA,CAAA5N,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAAC+K,sBAAsB,CAAC,CAAC;MACxD,MAAMqB,gBAAgB;MAAA;MAAA,CAAA7N,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAAC6K,mBAAmB,CAAC,EAAE,CAAC;;MAE3D;MACA,MAAMwB,MAAM;MAAA;MAAA,CAAA9N,aAAA,GAAAyB,CAAA;MAAG;MAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAqL,cAAc;MAAA;MAAA,CAAAxN,aAAA,GAAAmC,CAAA,WAAI,IAAI,CAAC4L,eAAe,CAACH,YAAY,CAAC;;MAEnE;MACA,MAAMI,KAAK;MAAA;MAAA,CAAAhO,aAAA,GAAAyB,CAAA;MAAG;MAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAsL,WAAW;MAAA;MAAA,CAAAzN,aAAA,GAAAmC,CAAA,WAAIX,aAAa;;MAE1C;MACA,MAAMyM,WAAW;MAAA;MAAA,CAAAjO,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAACyM,oBAAoB,CAACL,gBAAgB,CAAC;;MAE/D;MACA,MAAMM,gBAAgB;MAAA;MAAA,CAAAnO,aAAA,GAAAyB,CAAA,SAAG,EAAE;MAC3B,IAAI2M,eAAe;MAAA;MAAA,CAAApO,aAAA,GAAAyB,CAAA,SAAGkM,aAAa;MAAC;MAAA3N,aAAA,GAAAyB,CAAA;MAEpC,KAAK,IAAIgF,KAAK;MAAA;MAAA,CAAAzG,aAAA,GAAAyB,CAAA,SAAG,CAAC,GAAEgF,KAAK,GAAGiH,cAAc,EAAEjH,KAAK,EAAE,EAAE;QACnD;QACA,MAAM4H,UAAU;QAAA;QAAA,CAAArO,aAAA,GAAAyB,CAAA,SAAG8L,qBAAqB,GAAG,CAAC;QAAA;QAAA,CAAAvN,aAAA,GAAAmC,CAAA,WACxCoL,qBAAqB;QAAA;QAAA,CAAAvN,aAAA,GAAAmC,CAAA,WACrB8L,WAAW,CAACK,iBAAiB;QAAC;QAAAtO,aAAA,GAAAyB,CAAA;QAElC2M,eAAe,GAAGrL,IAAI,CAACC,KAAK,CAACoL,eAAe,IAAI,CAAC,GAAGC,UAAU,CAAC,CAAC;;QAEhE;QACA,MAAME,YAAY;QAAA;QAAA,CAAAvO,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAAC+M,uBAAuB,CAACJ,eAAe,EAAEN,MAAM,EAAEE,KAAK,CAAC;;QAEjF;QACA,MAAMS,YAAY;QAAA;QAAA,CAAAzO,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC1B,cAAc,GAAG,KAAK,CAAC;QAAC;QAAAjC,aAAA,GAAAyB,CAAA;QACtDgN,YAAY,CAACrJ,QAAQ,CAACqJ,YAAY,CAACpJ,QAAQ,CAAC,CAAC,GAAGoB,KAAK,CAAC;QACtD,MAAMiI,WAAW;QAAA;QAAA,CAAA1O,aAAA,GAAAyB,CAAA,SAAGgN,YAAY,CAAC7C,WAAW,CAAC,CAAC,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAAC;QAAA3O,aAAA,GAAAyB,CAAA;QAE3D0M,gBAAgB,CAACS,IAAI,CAAC;UACpBpJ,MAAM,EAAEkJ,WAAW;UACnBN,eAAe;UACfR,YAAY,EAAE;YACZlM,GAAG,EAAEqB,IAAI,CAACC,KAAK,CAACoL,eAAe,GAAGN,MAAM,CAACpM,GAAG,CAAC;YAC7CC,GAAG,EAAEoB,IAAI,CAACC,KAAK,CAACoL,eAAe,GAAGN,MAAM,CAACnM,GAAG,CAAC;YAC7CC,GAAG,EAAEmB,IAAI,CAACC,KAAK,CAACoL,eAAe,GAAGN,MAAM,CAAClM,GAAG,CAAC;YAC7CC,GAAG,EAAEkB,IAAI,CAACC,KAAK,CAACoL,eAAe,GAAGN,MAAM,CAACjM,GAAG;UAC9C,CAAC;UACDgN,OAAO,EAAEN;QACX,CAAC,CAAC;MACJ;;MAEA;MACA,MAAM;QAAEpL,eAAe;QAAEC;MAAqB,CAAC;MAAA;MAAA,CAAApD,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAACqN,yBAAyB,CAC9EjB,gBAAgB,EAChBI,WACF,CAAC;MAAC;MAAAjO,aAAA,GAAAyB,CAAA;MAEF,OAAO;QACLS,YAAY,EAAE,cAAc;QAC5B6M,WAAW,EAAE,IAAIpL,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC;QACrC+B,aAAa;QACbqB,mBAAmB,EAAEpB,YAAY;QACjCE,MAAM;QACNmB,YAAY,EAAEjB,KAAK;QACnBkB,eAAe,EAAEjB,WAAW;QAC5BE,gBAAgB;QAChBgB,OAAO,EAAE;UACPC,qBAAqB,EAAEjB,gBAAgB,CAACpH,MAAM,CAAC,CAAC1F,GAAG,EAAEgO,CAAC,KAAK;YAAA;YAAArP,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGgO,CAAC,CAACR,OAAO,CAAC7B,KAAK;UAAD,CAAC,EAAE,CAAC,CAAC;UACpFsC,qBAAqB,EAAEvM,IAAI,CAACC,KAAK,CAC/BmL,gBAAgB,CAACpH,MAAM,CAAC,CAAC1F,GAAG,EAAEgO,CAAC,KAAK;YAAA;YAAArP,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGgO,CAAC,CAACR,OAAO,CAAC7B,KAAK;UAAD,CAAC,EAAE,CAAC,CAAC,GAAGU,cAClE,CAAC;UACD6B,qBAAqB,EAAEnB;QACzB,CAAC;QACDoB,UAAU,EAAE;UACVC,KAAK,EAAEtM,eAAe;UACtBuM,UAAU,EAAEtM;QACd,CAAC;QACDkB,WAAW,EAAE;UACX+J,UAAU;UAAE;UAAA,CAAArO,aAAA,GAAAmC,CAAA,WAAAoL,qBAAqB;UAAA;UAAA,CAAAvN,aAAA,GAAAmC,CAAA,WAAI8L,WAAW,CAACK,iBAAiB;UAClER,MAAM;UACNE,KAAK;UACL2B,cAAc,EAAE9B,gBAAgB,CAAChJ;QACnC;MACF,CAAC;IACH,CAAC,CAAC,OAAOI,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MAC/D,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACE8I,eAAeA,CAACH,YAAY,EAAE;IAAA;IAAA5N,aAAA,GAAAsC,CAAA;IAC5B,MAAM0K,KAAK;IAAA;IAAA,CAAAhN,aAAA,GAAAyB,CAAA;IAAG;IAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAyL,YAAY,CAACZ,KAAK;IAAA;IAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,CAAC,GAAC,CAAC;IAAA;IAAAnC,aAAA,GAAAyB,CAAA;IACvC,OAAO;MACLC,GAAG;MAAE;MAAA,CAAA1B,aAAA,GAAAmC,CAAA,WAAAyL,YAAY,CAAClM,GAAG,GAAGsL,KAAK;MAAA;MAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,IAAI;MAAG;MACxCR,GAAG;MAAE;MAAA,CAAA3B,aAAA,GAAAmC,CAAA,WAAAyL,YAAY,CAACjM,GAAG,GAAGqL,KAAK;MAAA;MAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,IAAI;MAAG;MACxCP,GAAG;MAAE;MAAA,CAAA5B,aAAA,GAAAmC,CAAA,WAAAyL,YAAY,CAAChM,GAAG,GAAGoL,KAAK;MAAA;MAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,IAAI;MAAG;MACxCN,GAAG;MAAE;MAAA,CAAA7B,aAAA,GAAAmC,CAAA,WAAAyL,YAAY,CAAC/L,GAAG,GAAGmL,KAAK;MAAA;MAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,IAAI,EAAG;IAC1C,CAAC;EACH;;EAEA;AACF;AACA;EACE+L,oBAAoBA,CAACL,gBAAgB,EAAE;IAAA;IAAA7N,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACrC,IAAIoM,gBAAgB,CAAChJ,MAAM,GAAG,CAAC,EAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAC/B,OAAO;QACLmO,SAAS,EAAE,QAAQ;QACnBtB,iBAAiB,EAAE,CAAC;QACpBuB,aAAa;QAAE;QAAA,CAAA7P,aAAA,GAAAmC,CAAA,WAAA0L,gBAAgB,CAAC,CAAC,CAAC,EAAEtB,cAAc;QAAA;QAAA,CAAAvM,aAAA,GAAAmC,CAAA,WAAI,CAAC;QACvD2N,UAAU,EAAE;MACd,CAAC;IACH,CAAC;IAAA;IAAA;MAAA9P,aAAA,GAAAmC,CAAA;IAAA;IAED,MAAM4N,YAAY;IAAA;IAAA,CAAA/P,aAAA,GAAAyB,CAAA,SAAGoM,gBAAgB,CAACjH,GAAG,CAACoJ,CAAC,IAAI;MAAA;MAAAhQ,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,kCAAAzB,aAAA,GAAAmC,CAAA,WAAA6N,CAAC,CAACzD,cAAc;MAAA;MAAA,CAAAvM,aAAA,GAAAmC,CAAA,WAAI,CAAC;IAAD,CAAC,CAAC;IACrE,MAAM8N,SAAS;IAAA;IAAA,CAAAjQ,aAAA,GAAAyB,CAAA,SAAGsO,YAAY,CAAChJ,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;MAAA;MAAAnC,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAuF,CAAC,GAAG7E,CAAC;IAAD,CAAC,EAAE,CAAC,CAAC,GAAG4N,YAAY,CAAClL,MAAM;;IAE/E;IACA,MAAMqL,WAAW;IAAA;IAAA,CAAAlQ,aAAA,GAAAyB,CAAA,SAAGsO,YAAY,CAAC,CAAC,CAAC;IACnC,MAAMI,UAAU;IAAA;IAAA,CAAAnQ,aAAA,GAAAyB,CAAA,SAAGsO,YAAY,CAACA,YAAY,CAAClL,MAAM,GAAG,CAAC,CAAC;IACxD,MAAMuL,OAAO;IAAA;IAAA,CAAApQ,aAAA,GAAAyB,CAAA,SAAGoM,gBAAgB,CAAChJ,MAAM,GAAG,CAAC;IAE3C,MAAMwL,WAAW;IAAA;IAAA,CAAArQ,aAAA,GAAAyB,CAAA,SAAGyO,WAAW,GAAG,CAAC;IAAA;IAAA,CAAAlQ,aAAA,GAAAmC,CAAA,WAAG,CAACgO,UAAU,GAAGD,WAAW,IAAIA,WAAW;IAAA;IAAA,CAAAlQ,aAAA,GAAAmC,CAAA,WAAG,CAAC;IAClF,MAAMmM,iBAAiB;IAAA;IAAA,CAAAtO,aAAA,GAAAyB,CAAA,SAAG2O,OAAO,GAAG,CAAC;IAAA;IAAA,CAAApQ,aAAA,GAAAmC,CAAA,WAAGkO,WAAW,GAAGD,OAAO;IAAA;IAAA,CAAApQ,aAAA,GAAAmC,CAAA,WAAG,CAAC;;IAEjE;IACA,MAAM8E,QAAQ;IAAA;IAAA,CAAAjH,aAAA,GAAAyB,CAAA,SAAGsO,YAAY,CAAChJ,MAAM,CAAC,CAAC1F,GAAG,EAAE6F,GAAG,KAC5C;MAAA;MAAAlH,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAJ,GAAG,GAAG0B,IAAI,CAACoE,GAAG,CAACD,GAAG,GAAG+I,SAAS,EAAE,CAAC,CAAC;IAAD,CAAC,EAAE,CAAC,CAAC,GAAGF,YAAY,CAAClL,MAAM;IAC9D,MAAMuC,MAAM;IAAA;IAAA,CAAApH,aAAA,GAAAyB,CAAA,SAAGsB,IAAI,CAACsE,IAAI,CAACJ,QAAQ,CAAC;IAClC,MAAMqJ,EAAE;IAAA;IAAA,CAAAtQ,aAAA,GAAAyB,CAAA,SAAGwO,SAAS,GAAG,CAAC;IAAA;IAAA,CAAAjQ,aAAA,GAAAmC,CAAA,WAAGiF,MAAM,GAAG6I,SAAS;IAAA;IAAA,CAAAjQ,aAAA,GAAAmC,CAAA,WAAG,CAAC;IAEjD,IAAI2N,UAAU;IAAA;IAAA,CAAA9P,aAAA,GAAAyB,CAAA,SAAG,KAAK;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IACvB,IAAI6O,EAAE,GAAG,GAAG,EAAE;MAAA;MAAAtQ,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAqO,UAAU,GAAG,MAAM;IAAA,CAAC,MAC7B;MAAA;MAAA9P,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAI6O,EAAE,GAAG,IAAI,EAAE;QAAA;QAAAtQ,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAqO,UAAU,GAAG,QAAQ;MAAA,CAAC;MAAA;MAAA;QAAA9P,aAAA,GAAAmC,CAAA;MAAA;IAAD;IAEzC,IAAIyN,SAAS;IAAA;IAAA,CAAA5P,aAAA,GAAAyB,CAAA,SAAG,QAAQ;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IACzB,IAAI6M,iBAAiB,GAAG,IAAI,EAAE;MAAA;MAAAtO,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAmO,SAAS,GAAG,SAAS;IAAA,CAAC,MAC/C;MAAA;MAAA5P,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAI6M,iBAAiB,GAAG,CAAC,IAAI,EAAE;QAAA;QAAAtO,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmO,SAAS,GAAG,WAAW;MAAA,CAAC;MAAA;MAAA;QAAA5P,aAAA,GAAAmC,CAAA;MAAA;IAAD;IAAC;IAAAnC,aAAA,GAAAyB,CAAA;IAE5D,OAAO;MACLmO,SAAS;MACTtB,iBAAiB;MACjBuB,aAAa,EAAE9M,IAAI,CAACC,KAAK,CAACiN,SAAS,CAAC;MACpCH,UAAU;MACVxI,sBAAsB,EAAEgJ;IAC1B,CAAC;EACH;;EAEA;AACF;AACA;EACE9B,uBAAuBA,CAAC+B,MAAM,EAAEzC,MAAM,EAAEE,KAAK,EAAE;IAAA;IAAAhO,aAAA,GAAAsC,CAAA;IAC7C,MAAMkO,WAAW;IAAA;IAAA,CAAAxQ,aAAA,GAAAyB,CAAA,SAAG,EAAE,EAAC,CAAC;;IAExB,MAAMgP,KAAK;IAAA;IAAA,CAAAzQ,aAAA,GAAAyB,CAAA,SAAG;MACZC,GAAG,EAAEqB,IAAI,CAACC,KAAK,CAACuN,MAAM,GAAGzC,MAAM,CAACpM,GAAG,GAAGsM,KAAK,CAACtM,GAAG,GAAG8O,WAAW,CAAC;MAC9D7O,GAAG,EAAEoB,IAAI,CAACC,KAAK,CAACuN,MAAM,GAAGzC,MAAM,CAACnM,GAAG,GAAGqM,KAAK,CAACrM,GAAG,GAAG6O,WAAW,CAAC;MAC9D5O,GAAG,EAAEmB,IAAI,CAACC,KAAK,CAACuN,MAAM,GAAGzC,MAAM,CAAClM,GAAG,GAAGoM,KAAK,CAACpM,GAAG,GAAG4O,WAAW,CAAC;MAC9D3O,GAAG,EAAEkB,IAAI,CAACC,KAAK,CAACuN,MAAM,GAAGzC,MAAM,CAACjM,GAAG,GAAGmM,KAAK,CAACnM,GAAG,GAAG2O,WAAW;IAC/D,CAAC;IAAC;IAAAxQ,aAAA,GAAAyB,CAAA;IAEF,OAAO;MACLgP,KAAK;MACLzD,KAAK,EAAE0D,MAAM,CAAClN,MAAM,CAACiN,KAAK,CAAC,CAAC1J,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;QAAA;QAAAnC,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QAAA,OAAAuF,CAAC,GAAG7E,CAAC;MAAD,CAAC,EAAE,CAAC;IACvD,CAAC;EACH;;EAEA;AACF;AACA;EACE2M,yBAAyBA,CAACjB,gBAAgB,EAAE8C,KAAK,EAAE;IAAA;IAAA3Q,aAAA,GAAAsC,CAAA;IACjD,IAAIsO,KAAK;IAAA;IAAA,CAAA5Q,aAAA,GAAAyB,CAAA,SAAG,EAAE,EAAC,CAAC;;IAEhB;IAAA;IAAAzB,aAAA,GAAAyB,CAAA;IACA,IAAIoM,gBAAgB,CAAChJ,MAAM,IAAI,EAAE,EAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAmP,KAAK,IAAI,EAAE;IAAA,CAAC,MAC1C;MAAA;MAAA5Q,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAIoM,gBAAgB,CAAChJ,MAAM,IAAI,CAAC,EAAE;QAAA;QAAA7E,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmP,KAAK,IAAI,EAAE;MAAA,CAAC,MAC9C;QAAA;QAAA5Q,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAA,IAAIoM,gBAAgB,CAAChJ,MAAM,GAAG,CAAC,EAAE;UAAA;UAAA7E,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UAAAmP,KAAK,IAAI,EAAE;QAAA,CAAC;QAAA;QAAA;UAAA5Q,aAAA,GAAAmC,CAAA;QAAA;MAAD;IAAA;;IAEjD;IAAA;IAAAnC,aAAA,GAAAyB,CAAA;IACA,IAAIkP,KAAK,CAACb,UAAU,KAAK,KAAK,EAAE;MAAA;MAAA9P,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAmP,KAAK,IAAI,EAAE;IAAA,CAAC,MACvC;MAAA;MAAA5Q,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAIkP,KAAK,CAACb,UAAU,KAAK,QAAQ,EAAE;QAAA;QAAA9P,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmP,KAAK,IAAI,EAAE;MAAA,CAAC,MAC/C;QAAA;QAAA5Q,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmP,KAAK,IAAI,EAAE;MAAA;IAAA;;IAEhB;IAAA;IAAA5Q,aAAA,GAAAyB,CAAA;IACA,IAAIkP,KAAK,CAACf,SAAS,KAAK,QAAQ,EAAE;MAAA;MAAA5P,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAmP,KAAK,IAAI,EAAE;IAAA,CAAC;IAAA;IAAA;MAAA5Q,aAAA,GAAAmC,CAAA;IAAA;IAE9C,IAAIgB,eAAe;IAAA;IAAA,CAAAnD,aAAA,GAAAyB,CAAA,SAAG,QAAQ;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IAC/B,IAAImP,KAAK,IAAI,EAAE,EAAE;MAAA;MAAA5Q,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA0B,eAAe,GAAG,MAAM;IAAA,CAAC,MACrC;MAAA;MAAAnD,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAImP,KAAK,GAAG,EAAE,EAAE;QAAA;QAAA5Q,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAA0B,eAAe,GAAG,KAAK;MAAA,CAAC;MAAA;MAAA;QAAAnD,aAAA,GAAAmC,CAAA;MAAA;IAAD;IAAC;IAAAnC,aAAA,GAAAyB,CAAA;IAE7C,OAAO;MACL0B,eAAe;MACfC,oBAAoB,EAAEL,IAAI,CAAC2H,GAAG,CAAC3H,IAAI,CAAC6H,GAAG,CAACgG,KAAK,GAAG,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CAAE;IACrE,CAAC;EACH;;EAEA;EACA;EACA;;EAEA;AACF;AACA;EACE,MAAMC,4BAA4BA,CAAClM,MAAM;EAAA;EAAA,CAAA3E,aAAA,GAAAmC,CAAA,WAAG,EAAE,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC9C,IAAI;MACF,MAAMyD,OAAO;MAAA;MAAA,CAAAlF,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAC1B,MAAMwB,SAAS;MAAA;MAAA,CAAAnF,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAAC;MAAA3D,aAAA,GAAAyB,CAAA;MAC7B0D,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGV,MAAM,CAAC;MAEjD,MAAMmM,UAAU;MAAA;MAAA,CAAA9Q,aAAA,GAAAyB,CAAA,SAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QACjCC,MAAM,EAAEvE,GAAG,WAAWV,kBAAkB,CAACuM,cAAc,cAAc;QACrEJ,WAAW,EAAEnM,kBAAkB,CAACoM,aAAa;QAC7CoE,WAAW,EAAE9P,GAAG;MAClB,CAAC,CAAC,CACC+E,IAAI,CAACzF,kBAAkB,CAAC,CACxB0F,KAAK,CACJnF,GAAG,CACDC,GAAG,CAACR,kBAAkB,CAACuM,cAAc,EAAE3H,SAAS,CAACyG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAC7E7K,GAAG,CAACT,kBAAkB,CAACuM,cAAc,EAAE5H,OAAO,CAAC0G,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5E,CACF,CAAC,CACA1F,OAAO,CACNlF,GAAG,WAAWV,kBAAkB,CAACuM,cAAc,cAAc,EAC7DvM,kBAAkB,CAACoM,aACrB,CAAC,CACAtG,OAAO,CAACpF,GAAG,WAAWV,kBAAkB,CAACuM,cAAc,cAAc,CAAC;;MAEzE;MACA,MAAMkE,SAAS;MAAA;MAAA,CAAAhR,aAAA,GAAAyB,CAAA,SAAG,CAAC,CAAC;MAAC;MAAAzB,aAAA,GAAAyB,CAAA;MACrBqP,UAAU,CAACtK,OAAO,CAACyK,GAAG,IAAI;QAAA;QAAAjR,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QACxB,IAAI,CAACuP,SAAS,CAACC,GAAG,CAACzL,MAAM,CAAC,EAAE;UAAA;UAAAxF,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UAC1BuP,SAAS,CAACC,GAAG,CAACzL,MAAM,CAAC,GAAG;YAAE9D,GAAG,EAAE,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEC,GAAG,EAAE,CAAC;YAAEmL,KAAK,EAAE;UAAE,CAAC;QACtE,CAAC;QAAA;QAAA;UAAAhN,aAAA,GAAAmC,CAAA;QAAA;QACD,MAAM8K,GAAG;QAAA;QAAA,CAAAjN,aAAA,GAAAyB,CAAA,SAAGwP,GAAG,CAACvE,WAAW,EAAES,WAAW,CAAC,CAAC;QAAC;QAAAnN,aAAA,GAAAyB,CAAA;QAC3C;QAAI;QAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAA8K,GAAG;QAAA;QAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAI6O,SAAS,CAACC,GAAG,CAACzL,MAAM,CAAC,CAAC4H,cAAc,CAACH,GAAG,CAAC,GAAE;UAAA;UAAAjN,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UACpDuP,SAAS,CAACC,GAAG,CAACzL,MAAM,CAAC,CAACyH,GAAG,CAAC,GAAGgE,GAAG,CAACF,WAAW;UAAC;UAAA/Q,aAAA,GAAAyB,CAAA;UAC7CuP,SAAS,CAACC,GAAG,CAACzL,MAAM,CAAC,CAACwH,KAAK,IAAIiE,GAAG,CAACF,WAAW;QAChD,CAAC;QAAA;QAAA;UAAA/Q,aAAA,GAAAmC,CAAA;QAAA;MACH,CAAC,CAAC;MAAC;MAAAnC,aAAA,GAAAyB,CAAA;MAEH,OAAOiP,MAAM,CAACQ,OAAO,CAACF,SAAS,CAAC,CAACpK,GAAG,CAAC,CAAC,CAACpB,MAAM,EAAEY,IAAI,CAAC,KAAM;QAAA;QAAApG,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QAAA;UACxD+D,MAAM;UACN,GAAGY,IAAI;UACP0H,MAAM,EAAE,IAAI,CAACC,eAAe,CAAC3H,IAAI;QACnC,CAAC;MAAD,CAAE,CAAC;IACL,CAAC,CAAC,OAAOnB,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MAClE,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMkM,wBAAwBA,CAAClP,cAAc,EAAEqL,OAAO;EAAA;EAAA,CAAAtN,aAAA,GAAAmC,CAAA,WAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC3D,IAAI;MACF,MAAM;QACJgB,gBAAgB;QAAA;QAAA,CAAAzC,aAAA,GAAAmC,CAAA,WAAG,EAAE;QACrBuL,cAAc;QAAA;QAAA,CAAA1N,aAAA,GAAAmC,CAAA,WAAG,CAAC;QAClBiP,cAAc;QAAA;QAAA,CAAApR,aAAA,GAAAmC,CAAA,WAAG,IAAI,EAAE;MACzB,CAAC;MAAA;MAAA,CAAAnC,aAAA,GAAAyB,CAAA,SAAG6L,OAAO;;MAEX;MACA,MAAMwD,UAAU;MAAA;MAAA,CAAA9Q,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAACoP,4BAA4B,CAACpO,gBAAgB,CAAC;;MAE5E;MACA,MAAM4O,SAAS;MAAA;MAAA,CAAArR,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAAC6P,gBAAgB,CAACR,UAAU,CAAC;;MAEnD;MACA,MAAMnD,aAAa;MAAA;MAAA,CAAA3N,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAACiK,gBAAgB,CAAC,CAAC;MACnD,MAAMsD,mBAAmB;MAAA;MAAA,CAAAhP,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAAC+K,sBAAsB,CAAC,CAAC;;MAE/D;MACA,MAAM2B,gBAAgB;MAAA;MAAA,CAAAnO,aAAA,GAAAyB,CAAA,SAAG,EAAE;MAC3B,IAAI8P,YAAY;MAAA;MAAA,CAAAvR,aAAA,GAAAyB,CAAA,SAAG;QAAE,GAAGuN;MAAoB,CAAC;MAAC;MAAAhP,aAAA,GAAAyB,CAAA;MAC9C,OAAO8P,YAAY,CAACvE,KAAK;MAAC;MAAAhN,aAAA,GAAAyB,CAAA;MAE1B,KAAK,IAAIgF,KAAK;MAAA;MAAA,CAAAzG,aAAA,GAAAyB,CAAA,SAAG,CAAC,GAAEgF,KAAK,GAAGiH,cAAc,EAAEjH,KAAK,EAAE,EAAE;QAAA;QAAAzG,aAAA,GAAAyB,CAAA;QACnD;QACAiP,MAAM,CAACc,IAAI,CAACD,YAAY,CAAC,CAAC/K,OAAO,CAACyG,GAAG,IAAI;UAAA;UAAAjN,aAAA,GAAAsC,CAAA;UACvC,MAAM+L,UAAU;UAAA;UAAA,CAAArO,aAAA,GAAAyB,CAAA;UAAG;UAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAiP,cAAc,GAAGnE,GAAG,CAAC;UAAA;UAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAIkP,SAAS,CAACpE,GAAG,CAAC,EAAEqB,iBAAiB;UAAA;UAAA,CAAAtO,aAAA,GAAAmC,CAAA,WAAI,CAAC;UAAC;UAAAnC,aAAA,GAAAyB,CAAA;UACnF8P,YAAY,CAACtE,GAAG,CAAC,GAAGlK,IAAI,CAACC,KAAK,CAACuO,YAAY,CAACtE,GAAG,CAAC,IAAI,CAAC,GAAGoB,UAAU,CAAC,CAAC;QACtE,CAAC,CAAC;;QAEF;QACA,MAAMoD,YAAY;QAAA;QAAA,CAAAzR,aAAA,GAAAyB,CAAA,SAAG,CAAC,CAAC;QACvB,IAAIiQ,YAAY;QAAA;QAAA,CAAA1R,aAAA,GAAAyB,CAAA,SAAG,CAAC;QACpB,MAAM+O,WAAW;QAAA;QAAA,CAAAxQ,aAAA,GAAAyB,CAAA,SAAG,EAAE;QAAC;QAAAzB,aAAA,GAAAyB,CAAA;QAEvBiP,MAAM,CAACc,IAAI,CAAChQ,aAAa,CAAC,CAACgF,OAAO,CAACyG,GAAG,IAAI;UAAA;UAAAjN,aAAA,GAAAsC,CAAA;UACxC,MAAM1B,QAAQ;UAAA;UAAA,CAAAZ,aAAA,GAAAyB,CAAA;UAAG;UAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAoP,YAAY,CAACtE,GAAG,CAAC;UAAA;UAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAI,CAAC;UACvC,MAAM0M,OAAO;UAAA;UAAA,CAAA7O,aAAA,GAAAyB,CAAA,SAAGb,QAAQ,GAAGY,aAAa,CAACyL,GAAG,CAAC,GAAGuD,WAAW;UAAC;UAAAxQ,aAAA,GAAAyB,CAAA;UAC5DgQ,YAAY,CAACxE,GAAG,CAAC,GAAG4B,OAAO;UAAC;UAAA7O,aAAA,GAAAyB,CAAA;UAC5BiQ,YAAY,IAAI7C,OAAO;QACzB,CAAC,CAAC;;QAEF;QACA,MAAMJ,YAAY;QAAA;QAAA,CAAAzO,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC1B,cAAc,GAAG,KAAK,CAAC;QAAC;QAAAjC,aAAA,GAAAyB,CAAA;QACtDgN,YAAY,CAACrJ,QAAQ,CAACqJ,YAAY,CAACpJ,QAAQ,CAAC,CAAC,GAAGoB,KAAK,CAAC;QACtD,MAAMiI,WAAW;QAAA;QAAA,CAAA1O,aAAA,GAAAyB,CAAA,SAAGgN,YAAY,CAAC7C,WAAW,CAAC,CAAC,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAAC;QAAA3O,aAAA,GAAAyB,CAAA;QAE3D0M,gBAAgB,CAACS,IAAI,CAAC;UACpBpJ,MAAM,EAAEkJ,WAAW;UACnBd,YAAY,EAAE;YAAE,GAAG2D;UAAa,CAAC;UACjCI,aAAa,EAAEjB,MAAM,CAAClN,MAAM,CAAC+N,YAAY,CAAC,CAACxK,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;YAAA;YAAAnC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAuF,CAAC,GAAG7E,CAAC;UAAD,CAAC,EAAE,CAAC,CAAC;UACrE0M,OAAO,EAAE;YACP4B,KAAK,EAAEgB,YAAY;YACnBzE,KAAK,EAAE0E;UACT;QACF,CAAC,CAAC;MACJ;;MAEA;MACA,MAAM;QAAEvO,eAAe;QAAEC;MAAqB,CAAC;MAAA;MAAA,CAAApD,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAACmQ,sBAAsB,CAC3Ed,UAAU,EACVO,SACF,CAAC;MAAC;MAAArR,aAAA,GAAAyB,CAAA;MAEF,OAAO;QACLS,YAAY,EAAE,WAAW;QACzB6M,WAAW,EAAE,IAAIpL,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC;QACrC+B,aAAa;QACbqB,mBAAmB;QACnBqC,SAAS;QACTlD,gBAAgB;QAChBgB,OAAO,EAAE;UACPC,qBAAqB,EAAEjB,gBAAgB,CAACpH,MAAM,CAAC,CAAC1F,GAAG,EAAEgO,CAAC,KAAK;YAAA;YAAArP,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGgO,CAAC,CAACR,OAAO,CAAC7B,KAAK;UAAD,CAAC,EAAE,CAAC,CAAC;UACpFsC,qBAAqB,EAAEvM,IAAI,CAACC,KAAK,CAC/BmL,gBAAgB,CAACpH,MAAM,CAAC,CAAC1F,GAAG,EAAEgO,CAAC,KAAK;YAAA;YAAArP,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGgO,CAAC,CAACR,OAAO,CAAC7B,KAAK;UAAD,CAAC,EAAE,CAAC,CAAC,GAAGU,cAClE,CAAC;UACD+D,YAAY,EAAEtD,gBAAgB,CAACpH,MAAM,CAAC,CAAC8K,GAAG,EAAExC,CAAC,KAAK;YAAA;YAAArP,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAChDiP,MAAM,CAACc,IAAI,CAACnC,CAAC,CAACR,OAAO,CAAC4B,KAAK,CAAC,CAACjK,OAAO,CAACyG,GAAG,IAAI;cAAA;cAAAjN,aAAA,GAAAsC,CAAA;cAAAtC,aAAA,GAAAyB,CAAA;cAC1CoQ,GAAG,CAAC5E,GAAG,CAAC,GAAG;cAAC;cAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAA0P,GAAG,CAAC5E,GAAG,CAAC;cAAA;cAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAI,CAAC,KAAIkN,CAAC,CAACR,OAAO,CAAC4B,KAAK,CAACxD,GAAG,CAAC;YACnD,CAAC,CAAC;YAAC;YAAAjN,aAAA,GAAAyB,CAAA;YACH,OAAOoQ,GAAG;UACZ,CAAC,EAAE,CAAC,CAAC;QACP,CAAC;QACDrC,UAAU,EAAE;UACVC,KAAK,EAAEtM,eAAe;UACtBuM,UAAU,EAAEtM;QACd,CAAC;QACDkB,WAAW,EAAE;UACXwN,wBAAwB,EAAErP,gBAAgB;UAC1CiL,cAAc;UACd0D,cAAc;UAAE;UAAA,CAAApR,aAAA,GAAAmC,CAAA,WAAAiP,cAAc;UAAA;UAAA,CAAApR,aAAA,GAAAmC,CAAA,WAAIkP,SAAS;UAC3CpC,YAAY,EAAEzN;QAChB;MACF,CAAC;IACH,CAAC,CAAC,OAAOyD,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MAC5D,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACEqM,gBAAgBA,CAACR,UAAU,EAAE;IAAA;IAAA9Q,aAAA,GAAAsC,CAAA;IAC3B,MAAMyP,MAAM;IAAA;IAAA,CAAA/R,aAAA,GAAAyB,CAAA,SAAG,CAAC,CAAC;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IAElB,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC+E,OAAO,CAACyG,GAAG,IAAI;MAAA;MAAAjN,aAAA,GAAAsC,CAAA;MAC1C,MAAMkB,MAAM;MAAA;MAAA,CAAAxD,aAAA,GAAAyB,CAAA,SAAGqP,UAAU,CAAClK,GAAG,CAACoJ,CAAC,IAAI;QAAA;QAAAhQ,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QAAA,kCAAAzB,aAAA,GAAAmC,CAAA,WAAA6N,CAAC,CAAC/C,GAAG,CAAC;QAAA;QAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAI,CAAC;MAAD,CAAC,CAAC;MAAC;MAAAnC,aAAA,GAAAyB,CAAA;MAEhD,IAAI+B,MAAM,CAACqB,MAAM,GAAG,CAAC,EAAE;QAAA;QAAA7E,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QACrBsQ,MAAM,CAAC9E,GAAG,CAAC,GAAG;UACZ2C,SAAS,EAAE,QAAQ;UACnBtB,iBAAiB,EAAE,CAAC;UACpB0D,OAAO;UAAE;UAAA,CAAAhS,aAAA,GAAAmC,CAAA,WAAAqB,MAAM,CAAC,CAAC,CAAC;UAAA;UAAA,CAAAxD,aAAA,GAAAmC,CAAA,WAAI,CAAC;QACzB,CAAC;QAAC;QAAAnC,aAAA,GAAAyB,CAAA;QACF;MACF,CAAC;MAAA;MAAA;QAAAzB,aAAA,GAAAmC,CAAA;MAAA;MAED,MAAMb,GAAG;MAAA;MAAA,CAAAtB,aAAA,GAAAyB,CAAA,SAAG+B,MAAM,CAACuD,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;QAAA;QAAAnC,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QAAA,OAAAuF,CAAC,GAAG7E,CAAC;MAAD,CAAC,EAAE,CAAC,CAAC,GAAGqB,MAAM,CAACqB,MAAM;MAC7D,MAAMoN,QAAQ;MAAA;MAAA,CAAAjS,aAAA,GAAAyB,CAAA,SAAG+B,MAAM,CAAC,CAAC,CAAC;MAC1B,MAAM0O,OAAO;MAAA;MAAA,CAAAlS,aAAA,GAAAyB,CAAA,SAAG+B,MAAM,CAACA,MAAM,CAACqB,MAAM,GAAG,CAAC,CAAC;MACzC,MAAMwL,WAAW;MAAA;MAAA,CAAArQ,aAAA,GAAAyB,CAAA,SAAGwQ,QAAQ,GAAG,CAAC;MAAA;MAAA,CAAAjS,aAAA,GAAAmC,CAAA,WAAG,CAAC+P,OAAO,GAAGD,QAAQ,IAAIA,QAAQ;MAAA;MAAA,CAAAjS,aAAA,GAAAmC,CAAA,WAAG,CAAC;MACtE,MAAMgQ,aAAa;MAAA;MAAA,CAAAnS,aAAA,GAAAyB,CAAA,SAAG4O,WAAW,IAAI7M,MAAM,CAACqB,MAAM,GAAG,CAAC,CAAC;MAEvD,IAAI+K,SAAS;MAAA;MAAA,CAAA5P,aAAA,GAAAyB,CAAA,SAAG,QAAQ;MAAC;MAAAzB,aAAA,GAAAyB,CAAA;MACzB,IAAI0Q,aAAa,GAAG,IAAI,EAAE;QAAA;QAAAnS,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmO,SAAS,GAAG,SAAS;MAAA,CAAC,MAC3C;QAAA;QAAA5P,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAA,IAAI0Q,aAAa,GAAG,CAAC,IAAI,EAAE;UAAA;UAAAnS,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UAAAmO,SAAS,GAAG,WAAW;QAAA,CAAC;QAAA;QAAA;UAAA5P,aAAA,GAAAmC,CAAA;QAAA;MAAD;MAAC;MAAAnC,aAAA,GAAAyB,CAAA;MAExDsQ,MAAM,CAAC9E,GAAG,CAAC,GAAG;QACZ2C,SAAS;QACTtB,iBAAiB,EAAE6D,aAAa;QAChCH,OAAO,EAAEjP,IAAI,CAACC,KAAK,CAAC1B,GAAG;MACzB,CAAC;IACH,CAAC,CAAC;IAAC;IAAAtB,aAAA,GAAAyB,CAAA;IAEH,OAAOsQ,MAAM;EACf;;EAEA;AACF;AACA;EACEH,sBAAsBA,CAACd,UAAU,EAAEO,SAAS,EAAE;IAAA;IAAArR,aAAA,GAAAsC,CAAA;IAC5C,IAAIsO,KAAK;IAAA;IAAA,CAAA5Q,aAAA,GAAAyB,CAAA,SAAG,EAAE;;IAEd;IAAA;IAAAzB,aAAA,GAAAyB,CAAA;IACA,IAAIqP,UAAU,CAACjM,MAAM,IAAI,EAAE,EAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAAmP,KAAK,IAAI,EAAE;IAAA,CAAC,MACpC;MAAA;MAAA5Q,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAIqP,UAAU,CAACjM,MAAM,IAAI,CAAC,EAAE;QAAA;QAAA7E,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAAmP,KAAK,IAAI,EAAE;MAAA,CAAC,MACxC;QAAA;QAAA5Q,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAA,IAAIqP,UAAU,CAACjM,MAAM,GAAG,CAAC,EAAE;UAAA;UAAA7E,aAAA,GAAAmC,CAAA;UAAAnC,aAAA,GAAAyB,CAAA;UAAAmP,KAAK,IAAI,EAAE;QAAA,CAAC;QAAA;QAAA;UAAA5Q,aAAA,GAAAmC,CAAA;QAAA;MAAD;IAAA;;IAE3C;IACA,MAAMiQ,YAAY;IAAA;IAAA,CAAApS,aAAA,GAAAyB,CAAA,SAAGiP,MAAM,CAAClN,MAAM,CAAC6N,SAAS,CAAC,CAACgB,MAAM,CAACC,CAAC,IAAI;MAAA;MAAAtS,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAA6Q,CAAC,CAAC1C,SAAS,KAAK,QAAQ;IAAD,CAAC,CAAC,CAAC/K,MAAM;IAAC;IAAA7E,aAAA,GAAAyB,CAAA;IAC3FmP,KAAK,IAAIwB,YAAY,GAAG,CAAC;IAEzB,IAAIjP,eAAe;IAAA;IAAA,CAAAnD,aAAA,GAAAyB,CAAA,SAAG,QAAQ;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IAC/B,IAAImP,KAAK,IAAI,EAAE,EAAE;MAAA;MAAA5Q,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA0B,eAAe,GAAG,MAAM;IAAA,CAAC,MACrC;MAAA;MAAAnD,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAAA,IAAImP,KAAK,GAAG,EAAE,EAAE;QAAA;QAAA5Q,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QAAA0B,eAAe,GAAG,KAAK;MAAA,CAAC;MAAA;MAAA;QAAAnD,aAAA,GAAAmC,CAAA;MAAA;IAAD;IAAC;IAAAnC,aAAA,GAAAyB,CAAA;IAE7C,OAAO;MACL0B,eAAe;MACfC,oBAAoB,EAAEL,IAAI,CAAC2H,GAAG,CAAC3H,IAAI,CAAC6H,GAAG,CAACgG,KAAK,GAAG,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI;IAClE,CAAC;EACH;;EAEA;EACA;EACA;;EAEA;AACF;AACA;EACE,MAAM2B,oBAAoBA,CAAC5N,MAAM;EAAA;EAAA,CAAA3E,aAAA,GAAAmC,CAAA,WAAG,EAAE,GAAEC,UAAU;EAAA;EAAA,CAAApC,aAAA,GAAAmC,CAAA,WAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACvD,IAAI;MACF,MAAM;QAAEc,OAAO;QAAEmK;MAAY,CAAC;MAAA;MAAA,CAAA1M,aAAA,GAAAyB,CAAA,SAAGW,UAAU;MAC3C,MAAM8C,OAAO;MAAA;MAAA,CAAAlF,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAC1B,MAAMwB,SAAS;MAAA;MAAA,CAAAnF,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAAC;MAAA3D,aAAA,GAAAyB,CAAA;MAC7B0D,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGV,MAAM,CAAC;MAEjD,MAAM6N,UAAU;MAAA;MAAA,CAAAxS,aAAA,GAAAyB,CAAA,SAAG,CACjBV,GAAG,CAACV,gBAAgB,CAAC6F,iBAAiB,EAAEf,SAAS,CAACyG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAC9E7K,GAAG,CAACX,gBAAgB,CAAC6F,iBAAiB,EAAEhB,OAAO,CAAC0G,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7E;MAAC;MAAA7L,aAAA,GAAAyB,CAAA;MAEF,IAAIc,OAAO,EAAE;QAAA;QAAAvC,aAAA,GAAAmC,CAAA;QAAAnC,aAAA,GAAAyB,CAAA;QACX+Q,UAAU,CAAC5D,IAAI,CAAC/N,EAAE,CAACR,gBAAgB,CAACwD,QAAQ,EAAEtB,OAAO,CAAC,CAAC;MACzD,CAAC;MAAA;MAAA;QAAAvC,aAAA,GAAAmC,CAAA;MAAA;MAED,MAAMsQ,WAAW;MAAA;MAAA,CAAAzS,aAAA,GAAAyB,CAAA,SAAG,MAAMvB,EAAE,CAACqF,MAAM,CAAC;QAClCC,MAAM,EAAEnF,gBAAgB,CAACoF,cAAc;QACvCG,WAAW,EAAE3E,GAAG,OAAOZ,gBAAgB,CAACwF,aAAa,WAAW;QAChEH,cAAc,EAAEzE,GAAG,OAAOZ,gBAAgB,CAACsF,gBAAgB,WAAW;QACtE+M,YAAY,EAAEzR,GAAG,OAAOZ,gBAAgB,CAACsS,cAAc,WAAW;QAClE7M,eAAe,EAAE7E,GAAG,OAAOZ,gBAAgB,CAAC0F,kBAAkB,WAAW;QACzE6M,UAAU,EAAE3R,GAAG,kBAAkBZ,gBAAgB,CAACwS,QAAQ,QAAQ;QAClEjG,YAAY,EAAE3L,GAAG,kBAAkBZ,gBAAgB,CAAC4L,UAAU;MAChE,CAAC,CAAC,CACCjG,IAAI,CAAC3F,gBAAgB,CAAC,CACtB4F,KAAK,CAACnF,GAAG,CAAC,GAAG0R,UAAU,CAAC,CAAC,CACzBrM,OAAO,CAAC9F,gBAAgB,CAACoF,cAAc,CAAC,CACxCY,OAAO,CAAChG,gBAAgB,CAACoF,cAAc,CAAC;MAAC;MAAAzF,aAAA,GAAAyB,CAAA;MAE5C,OAAOgR,WAAW;IACpB,CAAC,CAAC,OAAOxN,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MACzD,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAM6N,6BAA6BA,CAAC7Q,cAAc,EAAEqL,OAAO;EAAA;EAAA,CAAAtN,aAAA,GAAAmC,CAAA,WAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAChE,IAAI;MACF,MAAM;QACJiM,cAAc;QAAA;QAAA,CAAA1N,aAAA,GAAAmC,CAAA,WAAG,CAAC;QAClBM,gBAAgB;QAAA;QAAA,CAAAzC,aAAA,GAAAmC,CAAA,WAAG,EAAE;QACrB4Q,OAAO;QAAA;QAAA,CAAA/S,aAAA,GAAAmC,CAAA,WAAG;UAAEoO,MAAM,EAAE,GAAG;UAAEtD,GAAG,EAAE,GAAG;UAAE+F,UAAU,EAAE;QAAI,CAAC,EAAE;MACxD,CAAC;MAAA;MAAA,CAAAhT,aAAA,GAAAyB,CAAA,SAAG6L,OAAO;;MAEX;MACA,MAAM,CAAC2F,aAAa,EAAEC,WAAW,EAAExQ,cAAc,CAAC;MAAA;MAAA,CAAA1C,aAAA,GAAAyB,CAAA,SAAG,MAAM0R,OAAO,CAACC,GAAG,CAAC,CACrE,IAAI,CAAC/F,2BAA2B,CAACpL,cAAc,EAAE;QAAEyL;MAAe,CAAC,CAAC,EACpE,IAAI,CAACyD,wBAAwB,CAAClP,cAAc,EAAE;QAAEyL,cAAc;QAAEjL;MAAiB,CAAC,CAAC,EACnF,IAAI,CAAC8P,oBAAoB,CAAC9P,gBAAgB,CAAC,CAC5C,CAAC;;MAEF;MACA,MAAM4Q,kBAAkB;MAAA;MAAA,CAAArT,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAAC6R,gCAAgC,CAC9D5Q,cAAc,EACdT,cAAc,EACdyL,cACF,CAAC;;MAED;MACA,MAAM6F,iBAAiB;MAAA;MAAA,CAAAvT,aAAA,GAAAyB,CAAA,SAAG,EAAE;MAAC;MAAAzB,aAAA,GAAAyB,CAAA;MAC7B,KAAK,IAAI+R,CAAC;MAAA;MAAA,CAAAxT,aAAA,GAAAyB,CAAA,SAAG,CAAC,GAAE+R,CAAC,GAAG9F,cAAc,EAAE8F,CAAC,EAAE,EAAE;QACvC,MAAMC,SAAS;QAAA;QAAA,CAAAzT,aAAA,GAAAyB,CAAA;QAAG;QAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAA8Q,aAAa,CAAC9E,gBAAgB,CAACqF,CAAC,CAAC,EAAE3E,OAAO,EAAE7B,KAAK;QAAA;QAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,CAAC;QACxE,MAAMuR,MAAM;QAAA;QAAA,CAAA1T,aAAA,GAAAyB,CAAA;QAAG;QAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAA+Q,WAAW,CAAC/E,gBAAgB,CAACqF,CAAC,CAAC,EAAE3E,OAAO,EAAE7B,KAAK;QAAA;QAAA,CAAAhN,aAAA,GAAAmC,CAAA,WAAI,CAAC;QACnE,MAAMwR,OAAO;QAAA;QAAA,CAAA3T,aAAA,GAAAyB,CAAA;QAAG;QAAA,CAAAzB,aAAA,GAAAmC,CAAA,WAAAkR,kBAAkB,CAAClF,gBAAgB,CAACqF,CAAC,CAAC,EAAEI,gBAAgB;QAAA;QAAA,CAAA5T,aAAA,GAAAmC,CAAA,WAAI,CAAC;QAE7E,MAAM0R,eAAe;QAAA;QAAA,CAAA7T,aAAA,GAAAyB,CAAA,SAAGsB,IAAI,CAACC,KAAK,CAChCyQ,SAAS,GAAGV,OAAO,CAACxC,MAAM,GAC1BmD,MAAM,GAAGX,OAAO,CAAC9F,GAAG,GACpB0G,OAAO,GAAGZ,OAAO,CAACC,UACpB,CAAC;QAED,MAAMvE,YAAY;QAAA;QAAA,CAAAzO,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC1B,cAAc,GAAG,KAAK,CAAC;QAAC;QAAAjC,aAAA,GAAAyB,CAAA;QACtDgN,YAAY,CAACrJ,QAAQ,CAACqJ,YAAY,CAACpJ,QAAQ,CAAC,CAAC,GAAGmO,CAAC,CAAC;QAAC;QAAAxT,aAAA,GAAAyB,CAAA;QAEnD8R,iBAAiB,CAAC3E,IAAI,CAAC;UACrBpJ,MAAM,EAAEiJ,YAAY,CAAC7C,WAAW,CAAC,CAAC,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;UAC9CiF,gBAAgB,EAAEC,eAAe;UACjCC,SAAS,EAAE;YACTC,WAAW,EAAEN,SAAS;YACtBO,QAAQ,EAAEN,MAAM;YAChBO,eAAe,EAAEN;UACnB,CAAC;UACDZ;QACF,CAAC,CAAC;MACJ;;MAEA;MACA,MAAMmB,iBAAiB;MAAA;MAAA,CAAAlU,aAAA,GAAAyB,CAAA,SAAGsB,IAAI,CAACC,KAAK,CAClCiQ,aAAa,CAACzD,UAAU,CAACE,UAAU,GAAGqD,OAAO,CAACxC,MAAM,GACpD2C,WAAW,CAAC1D,UAAU,CAACE,UAAU,GAAGqD,OAAO,CAAC9F,GAAG,GAC/C;MAAC;MAAA,CAAAjN,aAAA,GAAAmC,CAAA,WAAAkR,kBAAkB,CAAC7D,UAAU,EAAEE,UAAU;MAAA;MAAA,CAAA1P,aAAA,GAAAmC,CAAA,WAAI,IAAI,KAAI4Q,OAAO,CAACC,UAChE,CAAC;MAAC;MAAAhT,aAAA,GAAAyB,CAAA;MAEF,OAAO;QACLS,YAAY,EAAE,eAAe;QAC7B6M,WAAW,EAAE,IAAIpL,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC;QACrC3J,cAAc;QACdkS,MAAM,EAAE;UACN5D,MAAM,EAAE;YACN5J,MAAM,EAAEoM,OAAO,CAACxC,MAAM;YACtBf,UAAU,EAAEyD,aAAa,CAACzD;UAC5B,CAAC;UACDvC,GAAG,EAAE;YACHtG,MAAM,EAAEoM,OAAO,CAAC9F,GAAG;YACnBuC,UAAU,EAAE0D,WAAW,CAAC1D;UAC1B,CAAC;UACDwD,UAAU,EAAE;YACVrM,MAAM,EAAEoM,OAAO,CAACC,UAAU;YAC1BxD,UAAU;YAAE;YAAA,CAAAxP,aAAA,GAAAmC,CAAA,WAAAkR,kBAAkB,CAAC7D,UAAU;YAAA;YAAA,CAAAxP,aAAA,GAAAmC,CAAA,WAAI;cAAEsN,KAAK,EAAE,QAAQ;cAAEC,UAAU,EAAE;YAAK,CAAC;UACpF;QACF,CAAC;QACDvB,gBAAgB,EAAEoF,iBAAiB;QACnCpE,OAAO,EAAE;UACPC,qBAAqB,EAAEmE,iBAAiB,CAACxM,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACsR,gBAAgB;UAAD,CAAC,EAAE,CAAC,CAAC;UACxFtE,qBAAqB,EAAEvM,IAAI,CAACC,KAAK,CAC/BuQ,iBAAiB,CAACxM,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACsR,gBAAgB;UAAD,CAAC,EAAE,CAAC,CAAC,GAAGlG,cACtE;QACF,CAAC;QACD8B,UAAU,EAAE;UACVC,KAAK,EAAEyE,iBAAiB,IAAI,IAAI;UAAA;UAAA,CAAAlU,aAAA,GAAAmC,CAAA,WAAG,MAAM;UAAA;UAAA,CAAAnC,aAAA,GAAAmC,CAAA,WAAG+R,iBAAiB,IAAI,IAAI;UAAA;UAAA,CAAAlU,aAAA,GAAAmC,CAAA,WAAG,QAAQ;UAAA;UAAA,CAAAnC,aAAA,GAAAmC,CAAA,WAAG,KAAK;UACxFuN,UAAU,EAAEwE;QACd,CAAC;QACDE,cAAc,EAAE;UACd7D,MAAM,EAAE0C,aAAa;UACrBhG,GAAG,EAAEiG,WAAW;UAChBF,UAAU,EAAEK;QACd;MACF,CAAC;IACH,CAAC,CAAC,OAAOpO,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MAChE,MAAMwD,KAAK;IACb;EACF;;EAEA;AACF;AACA;EACEqO,gCAAgCA,CAAC5Q,cAAc,EAAET,cAAc,EAAEyL,cAAc,EAAE;IAAA;IAAA1N,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC/E;IAAI;IAAA,CAAAzB,aAAA,GAAAmC,CAAA,aAACO,cAAc;IAAA;IAAA,CAAA1C,aAAA,GAAAmC,CAAA,YAAIO,cAAc,CAACmC,MAAM,KAAK,CAAC,GAAE;MAAA;MAAA7E,aAAA,GAAAmC,CAAA;MAAAnC,aAAA,GAAAyB,CAAA;MAClD,OAAO;QACL0M,gBAAgB,EAAEkG,KAAK,CAAC3G,cAAc,CAAC,CAAC4G,IAAI,CAAC;UAAEV,gBAAgB,EAAE;QAAE,CAAC,CAAC;QACrEpE,UAAU,EAAE;UAAEC,KAAK,EAAE,KAAK;UAAEC,UAAU,EAAE;QAAK;MAC/C,CAAC;IACH,CAAC;IAAA;IAAA;MAAA1P,aAAA,GAAAmC,CAAA;IAAA;;IAED;IACA,MAAM0R,eAAe;IAAA;IAAA,CAAA7T,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAACoB,yBAAyB,CAACH,cAAc,CAAC;;IAEtE;IACA,MAAM6R,aAAa;IAAA;IAAA,CAAAvU,aAAA,GAAAyB,CAAA,SAAGiB,cAAc,CAACkE,GAAG,CAACC,CAAC,IAAI;MAAA;MAAA7G,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,kCAAAzB,aAAA,GAAAmC,CAAA,YAAAqS,MAAM,CAAC3N,CAAC,CAACnB,cAAc,CAAC;MAAA;MAAA,CAAA1F,aAAA,GAAAmC,CAAA,YAAI,CAAC;IAAD,CAAC,CAAC;IAC5E,MAAMsS,UAAU;IAAA;IAAA,CAAAzU,aAAA,GAAAyB,CAAA,SAAG8S,aAAa,CAACxN,MAAM,CAAC,CAACC,CAAC,EAAE7E,CAAC,KAAK;MAAA;MAAAnC,aAAA,GAAAsC,CAAA;MAAAtC,aAAA,GAAAyB,CAAA;MAAA,OAAAuF,CAAC,GAAG7E,CAAC;IAAD,CAAC,EAAE,CAAC,CAAC,GAAGoS,aAAa,CAAC1P,MAAM;;IAElF;IACA,IAAIyJ,iBAAiB;IAAA;IAAA,CAAAtO,aAAA,GAAAyB,CAAA,SAAG,CAAC;IAAC;IAAAzB,aAAA,GAAAyB,CAAA;IAC1B;IAAI;IAAA,CAAAzB,aAAA,GAAAmC,CAAA,YAAAoS,aAAa,CAAC1P,MAAM,GAAG,CAAC;IAAA;IAAA,CAAA7E,aAAA,GAAAmC,CAAA,YAAIoS,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,GAAE;MAAA;MAAAvU,aAAA,GAAAmC,CAAA;MACpD,MAAMkO,WAAW;MAAA;MAAA,CAAArQ,aAAA,GAAAyB,CAAA,SAAG,CAAC8S,aAAa,CAACA,aAAa,CAAC1P,MAAM,GAAG,CAAC,CAAC,GAAG0P,aAAa,CAAC,CAAC,CAAC,IAAIA,aAAa,CAAC,CAAC,CAAC;MAAC;MAAAvU,aAAA,GAAAyB,CAAA;MACpG6M,iBAAiB,GAAG+B,WAAW,IAAIkE,aAAa,CAAC1P,MAAM,GAAG,CAAC,CAAC;IAC9D,CAAC;IAAA;IAAA;MAAA7E,aAAA,GAAAmC,CAAA;IAAA;;IAED;IACA,MAAMgM,gBAAgB;IAAA;IAAA,CAAAnO,aAAA,GAAAyB,CAAA,SAAG,EAAE;IAC3B,IAAImS,gBAAgB;IAAA;IAAA,CAAA5T,aAAA,GAAAyB,CAAA,SAAGoS,eAAe;IAAC;IAAA7T,aAAA,GAAAyB,CAAA;IAEvC,KAAK,IAAI+R,CAAC;IAAA;IAAA,CAAAxT,aAAA,GAAAyB,CAAA,SAAG,CAAC,GAAE+R,CAAC,GAAG9F,cAAc,EAAE8F,CAAC,EAAE,EAAE;MAAA;MAAAxT,aAAA,GAAAyB,CAAA;MACvCmS,gBAAgB,GAAG7Q,IAAI,CAACC,KAAK,CAAC4Q,gBAAgB,IAAI,CAAC,GAAGtF,iBAAiB,CAAC,CAAC;MACzE,MAAMG,YAAY;MAAA;MAAA,CAAAzO,aAAA,GAAAyB,CAAA,SAAG,IAAIkC,IAAI,CAAC1B,cAAc,GAAG,KAAK,CAAC;MAAC;MAAAjC,aAAA,GAAAyB,CAAA;MACtDgN,YAAY,CAACrJ,QAAQ,CAACqJ,YAAY,CAACpJ,QAAQ,CAAC,CAAC,GAAGmO,CAAC,CAAC;MAAC;MAAAxT,aAAA,GAAAyB,CAAA;MAEnD0M,gBAAgB,CAACS,IAAI,CAAC;QACpBpJ,MAAM,EAAEiJ,YAAY,CAAC7C,WAAW,CAAC,CAAC,CAAC+C,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9CiF;MACF,CAAC,CAAC;IACJ;;IAEA;IACA,MAAM;MAAEzQ,eAAe;MAAEC;IAAqB,CAAC;IAAA;IAAA,CAAApD,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAAC4B,mBAAmB,CAACX,cAAc,CAAC;IAAC;IAAA1C,aAAA,GAAAyB,CAAA;IAE3F,OAAO;MACLiT,iBAAiB,EAAE;QACjBpF,qBAAqB,EAAEvM,IAAI,CAACC,KAAK,CAACyR,UAAU,CAAC;QAC7CE,sBAAsB,EAAEd,eAAe;QACvCvF,iBAAiB;QACjB1J,UAAU,EAAElC,cAAc,CAACmC;MAC7B,CAAC;MACDsJ,gBAAgB;MAChBqB,UAAU,EAAE;QACVC,KAAK,EAAEtM,eAAe;QACtBuM,UAAU,EAAEtM;MACd;IACF,CAAC;EACH;;EAEA;EACA;EACA;;EAEA;AACF;AACA;EACE,MAAMwR,yBAAyBA,CAAC3S,cAAc,EAAEqL,OAAO;EAAA;EAAA,CAAAtN,aAAA,GAAAmC,CAAA,YAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IAC5D,IAAI;MACF,MAAM;QACJiM,cAAc;QAAA;QAAA,CAAA1N,aAAA,GAAAmC,CAAA,YAAG,CAAC;QAClB0S,SAAS;QAAA;QAAA,CAAA7U,aAAA,GAAAmC,CAAA,YAAG,CAAC,YAAY,EAAE,MAAM,EAAE,aAAa,CAAC;MACnD,CAAC;MAAA;MAAA,CAAAnC,aAAA,GAAAyB,CAAA,SAAG6L,OAAO;MAEX,MAAMwH,YAAY;MAAA;MAAA,CAAA9U,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAACqR,6BAA6B,CAAC7Q,cAAc,EAAE;QAC5EyL;MACF,CAAC,CAAC;MAEF,MAAMqH,iBAAiB;MAAA;MAAA,CAAA/U,aAAA,GAAAyB,CAAA,SAAG,CAAC,CAAC;MAAC;MAAAzB,aAAA,GAAAyB,CAAA;MAE7BoT,SAAS,CAACrO,OAAO,CAACwO,QAAQ,IAAI;QAAA;QAAAhV,aAAA,GAAAsC,CAAA;QAC5B,IAAI2S,gBAAgB;QAAC;QAAAjV,aAAA,GAAAyB,CAAA;QACrB,QAAQuT,QAAQ;UACd,KAAK,YAAY;YAAA;YAAAhV,aAAA,GAAAmC,CAAA;YAAAnC,aAAA,GAAAyB,CAAA;YACfwT,gBAAgB,GAAG,IAAI,CAAC,CAAC;YAAA;YAAAjV,aAAA,GAAAyB,CAAA;YACzB;UACF,KAAK,aAAa;YAAA;YAAAzB,aAAA,GAAAmC,CAAA;YAAAnC,aAAA,GAAAyB,CAAA;YAChBwT,gBAAgB,GAAG,IAAI,CAAC,CAAC;YAAA;YAAAjV,aAAA,GAAAyB,CAAA;YACzB;UACF;YAAA;YAAAzB,aAAA,GAAAmC,CAAA;YAAAnC,aAAA,GAAAyB,CAAA;YACEwT,gBAAgB,GAAG,GAAG;QAC1B;QAAC;QAAAjV,aAAA,GAAAyB,CAAA;QAEDsT,iBAAiB,CAACC,QAAQ,CAAC,GAAG;UAC5BC,gBAAgB;UAChB9G,gBAAgB,EAAE2G,YAAY,CAAC3G,gBAAgB,CAACvH,GAAG,CAACtE,CAAC,IAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA;cACxD,GAAGa,CAAC;cACJsR,gBAAgB,EAAE7Q,IAAI,CAACC,KAAK,CAACV,CAAC,CAACsR,gBAAgB,GAAGqB,gBAAgB;YACpE,CAAC;UAAD,CAAE,CAAC;UACH9F,OAAO,EAAE;YACPC,qBAAqB,EAAErM,IAAI,CAACC,KAAK,CAC/B8R,YAAY,CAAC3F,OAAO,CAACC,qBAAqB,GAAG6F,gBAC/C,CAAC;YACD3F,qBAAqB,EAAEvM,IAAI,CAACC,KAAK,CAC/B8R,YAAY,CAAC3F,OAAO,CAACG,qBAAqB,GAAG2F,gBAC/C;UACF;QACF,CAAC;MACH,CAAC,CAAC;MAAC;MAAAjV,aAAA,GAAAyB,CAAA;MAEH,OAAO;QACLS,YAAY,EAAE,mBAAmB;QACjC6M,WAAW,EAAE,IAAIpL,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC;QACrC3J,cAAc;QACdyL,cAAc;QACdwH,SAAS,EAAEJ,YAAY,CAACtF,UAAU;QAClCqF,SAAS,EAAEE,iBAAiB;QAC5BI,UAAU,EAAE;UACVC,gBAAgB,EAAEP,SAAS,CAACQ,QAAQ,CAAC,YAAY,CAAC;UAAA;UAAA,CAAArV,aAAA,GAAAmC,CAAA,YAC9CY,IAAI,CAACC,KAAK,CAAC,CAAC+R,iBAAiB,CAACO,UAAU,CAACnG,OAAO,CAACC,qBAAqB,GACpE0F,YAAY,CAAC3F,OAAO,CAACC,qBAAqB,IAAI0F,YAAY,CAAC3F,OAAO,CAACC,qBAAqB,GAAG,KAAK,CAAC;UAAA;UAAA,CAAApP,aAAA,GAAAmC,CAAA,YACnG,IAAI;UACRoT,iBAAiB,EAAEV,SAAS,CAACQ,QAAQ,CAAC,aAAa,CAAC;UAAA;UAAA,CAAArV,aAAA,GAAAmC,CAAA,YAChDY,IAAI,CAACC,KAAK,CAAC,CAAC+R,iBAAiB,CAACS,WAAW,CAACrG,OAAO,CAACC,qBAAqB,GACrE0F,YAAY,CAAC3F,OAAO,CAACC,qBAAqB,IAAI0F,YAAY,CAAC3F,OAAO,CAACC,qBAAqB,GAAG,KAAK,CAAC;UAAA;UAAA,CAAApP,aAAA,GAAAmC,CAAA,YACnG,IAAI;QACV;MACF,CAAC;IACH,CAAC,CAAC,OAAO8C,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MAC5D,MAAMwD,KAAK;IACb;EACF;;EAEA;EACA;EACA;;EAEA;AACF;AACA;EACE,MAAMwQ,qBAAqBA,CAAClT,OAAO,EAAEN,cAAc,EAAEqL,OAAO;EAAA;EAAA,CAAAtN,aAAA,GAAAmC,CAAA,YAAG,CAAC,CAAC,GAAE;IAAA;IAAAnC,aAAA,GAAAsC,CAAA;IAAAtC,aAAA,GAAAyB,CAAA;IACjE,IAAI;MACF,MAAM;QAAEiM,cAAc;QAAA;QAAA,CAAA1N,aAAA,GAAAmC,CAAA,YAAG,CAAC;QAAEM,gBAAgB;QAAA;QAAA,CAAAzC,aAAA,GAAAmC,CAAA,YAAG,EAAE;MAAC,CAAC;MAAA;MAAA,CAAAnC,aAAA,GAAAyB,CAAA,SAAG6L,OAAO;;MAE7D;MACA,MAAM5K,cAAc;MAAA;MAAA,CAAA1C,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAAC8Q,oBAAoB,CAAC9P,gBAAgB,EAAE;QAAEF;MAAQ,CAAC,CAAC;;MAErF;MACA,MAAMmT,aAAa;MAAA;MAAA,CAAA1V,aAAA,GAAAyB,CAAA,SAAG,MAAM,IAAI,CAACgH,sBAAsB,CAAClG,OAAO,EAAEE,gBAAgB,CAAC;;MAElF;MACA,MAAM4Q,kBAAkB;MAAA;MAAA,CAAArT,aAAA,GAAAyB,CAAA,SAAG,IAAI,CAAC6R,gCAAgC,CAC9D5Q,cAAc,EACdT,cAAc,EACdyL,cACF,CAAC;;MAED;MACA,MAAMiI,iBAAiB;MAAA;MAAA,CAAA3V,aAAA,GAAAyB,CAAA,SAAG4R,kBAAkB,CAAClF,gBAAgB,CAACvH,GAAG,CAACtE,CAAC,IAAK;QAAA;QAAAtC,aAAA,GAAAsC,CAAA;QAAAtC,aAAA,GAAAyB,CAAA;QAAA;UACtE,GAAGa,CAAC;UACJ;UACAsT,mBAAmB,EAAE7S,IAAI,CAACC,KAAK,CAC7BV,CAAC,CAACsR,gBAAgB;UAAI;UAAA,CAAA5T,aAAA,GAAAmC,CAAA,YAAAuT,aAAa,EAAExL,eAAe;UAAA;UAAA,CAAAlK,aAAA,GAAAmC,CAAA,YAAI,IAAI,EAAC,GAAG,KAClE,CAAC;UACD0T,gBAAgB,EAAE9S,IAAI,CAACC,KAAK,CAC1BV,CAAC,CAACsR,gBAAgB;UAAI;UAAA,CAAA5T,aAAA,GAAAmC,CAAA,YAAAuT,aAAa,EAAEvL,WAAW;UAAA;UAAA,CAAAnK,aAAA,GAAAmC,CAAA,YAAI,GAAG,EAAC,GAAG,KAC7D,CAAC;UACD2T,kBAAkB,EAAE/S,IAAI,CAACC,KAAK,CAACV,CAAC,CAACsR,gBAAgB,GAAG,GAAG,GAAG,KAAK,CAAC,CAAE;QACpE,CAAC;MAAD,CAAE,CAAC;MAAC;MAAA5T,aAAA,GAAAyB,CAAA;MAEJ,OAAO;QACLS,YAAY,EAAE,gBAAgB;QAC9B6M,WAAW,EAAE,IAAIpL,IAAI,CAAC,CAAC,CAACiI,WAAW,CAAC,CAAC;QACrCrJ,OAAO;QACPmT,aAAa,EAAE;UACbtM,cAAc,EAAEsM,aAAa,EAAExL,eAAe;UAC9C1F,UAAU,EAAEkR,aAAa,EAAEvL,WAAW;UACtC4L,SAAS,EAAEL,aAAa,EAAEnL,UAAU;UACpCjB,gBAAgB,EAAEoM,aAAa,EAAEtL;QACnC,CAAC;QACD+D,gBAAgB,EAAEwH,iBAAiB;QACnCxG,OAAO,EAAE;UACP6G,oBAAoB,EAAEL,iBAAiB,CAAC5O,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACsR,gBAAgB;UAAD,CAAC,EAAE,CAAC,CAAC;UACvFqC,wBAAwB,EAAEN,iBAAiB,CAAC5O,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACsT,mBAAmB;UAAD,CAAC,EAAE,CAAC,CAAC;UAC9FM,qBAAqB,EAAEP,iBAAiB,CAAC5O,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAAK;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACuT,gBAAgB;UAAD,CAAC,EAAE,CAAC,CAAC;UACxFM,kBAAkB,EAAER,iBAAiB,CAAC5O,MAAM,CAAC,CAAC1F,GAAG,EAAEiB,CAAC,KAClD;YAAA;YAAAtC,aAAA,GAAAsC,CAAA;YAAAtC,aAAA,GAAAyB,CAAA;YAAA,OAAAJ,GAAG,GAAGiB,CAAC,CAACsT,mBAAmB,GAAGtT,CAAC,CAACwT,kBAAkB;UAAD,CAAC,EAAE,CAAC;QACzD,CAAC;QACDtG,UAAU,EAAE6D,kBAAkB,CAAC7D;MACjC,CAAC;IACH,CAAC,CAAC,OAAOvK,KAAK,EAAE;MAAA;MAAAjF,aAAA,GAAAyB,CAAA;MACdF,MAAM,CAAC0D,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAAC;MAAAjF,aAAA,GAAAyB,CAAA;MACxD,MAAMwD,KAAK;IACb;EACF;AACF;AAEA,eAAe,IAAIlD,yBAAyB,CAAC,CAAC","ignoreList":[]}