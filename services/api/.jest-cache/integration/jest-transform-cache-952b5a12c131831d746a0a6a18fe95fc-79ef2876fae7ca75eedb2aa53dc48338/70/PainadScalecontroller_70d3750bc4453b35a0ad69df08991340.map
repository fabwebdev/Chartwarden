{"version":3,"names":["cov_kebgmsk5e","actualCoverage","db","painad_scales","PAINAD_PAIN_SEVERITY","PAINAD_SCORE_DESCRIPTIONS","PAINAD_DEMENTIA_STAGES","PAINAD_COMMON_CAUSES","PAINAD_NON_PHARM_INTERVENTIONS","patients","eq","and","desc","sql","gte","lte","between","logger","logAudit","PainadScaleController","calculatePainSeverity","totalScore","f","s","b","validateScores","data","errors","components","component","score","undefined","push","includes","parseInt","valid","length","calculateTotalScore","breathing_score","negative_vocalization_score","facial_expression_score","body_language_score","consolability_score","getPatientAssessments","request","reply","patientId","params","limit","offset","from_date","to_date","query","conditions","patient_id","assessment_date","Date","assessments","select","from","where","orderBy","code","status","message","count","error","process","env","NODE_ENV","show","id","result","create","body","validation","painSeverity","painPresent","insert","values","total_score","pain_severity","pain_present","assessed_by_id","user","created_by_id","updated_by_id","createdAt","updatedAt","returning","interpretation","severity_description","label","update","existing","signed_at","hasScoreUpdate","some","key","mergedData","_","updateData","set","delete","sign","signed_by_id","amend","amendment_reason","amended","amended_at","amended_by_id","index","dementia_stage","min_score","max_score","getPatientStats","days","startDate","setDate","getDate","latestAssessment","countResult","avgResult","avg_total","avg_breathing","avg_negative_vocalization","avg_facial_expression","avg_body_language","avg_consolability","max_total","min_total","severityResult","groupBy","severityDistribution","row","total_assessments","latest_assessment","period_days","averages","parseFloat","score_range","max","min","severity_distribution","getPatientTrend","intervention_provided","intervention_effectiveness","reverse","getReference","name","full_name","description","target_populations","reference","scoring","total_range","severity_interpretation","dementia_stages","common_pain_causes","non_pharmacological_interventions","clinical_guidelines","assessment_timing","routine","during_care","post_intervention","reassessment_intervals","NO_PAIN","MILD","MODERATE","SEVERE","intervention_thresholds","non_pharmacological","pharmacological_consideration","urgent_intervention"],"sources":["PainadScale.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport { painad_scales, PAINAD_PAIN_SEVERITY, PAINAD_SCORE_DESCRIPTIONS, PAINAD_DEMENTIA_STAGES, PAINAD_COMMON_CAUSES, PAINAD_NON_PHARM_INTERVENTIONS } from '../db/schemas/painadScale.schema.js';\nimport { patients } from '../db/schemas/index.js';\nimport { eq, and, desc, sql, gte, lte, between } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\nimport { logAudit } from '../middleware/audit.middleware.js';\n\n/**\n * PAINAD Scale Controller\n * Manages PAINAD (Pain Assessment in Advanced Dementia) assessments\n * for dementia patients who cannot self-report pain\n */\nclass PainadScaleController {\n  /**\n   * Calculate pain severity based on total score\n   * @param {number} totalScore - PAINAD total score (0-10)\n   * @returns {string} Pain severity classification\n   */\n  calculatePainSeverity(totalScore) {\n    if (totalScore === 0) return 'NO_PAIN';\n    if (totalScore <= 3) return 'MILD';\n    if (totalScore <= 6) return 'MODERATE';\n    return 'SEVERE';\n  }\n\n  /**\n   * Validate PAINAD component scores (must be 0, 1, or 2)\n   * @param {object} data - Assessment data\n   * @returns {object} Validation result { valid: boolean, errors: string[] }\n   */\n  validateScores(data) {\n    const errors = [];\n    const components = [\n      'breathing_score',\n      'negative_vocalization_score',\n      'facial_expression_score',\n      'body_language_score',\n      'consolability_score'\n    ];\n\n    for (const component of components) {\n      const score = data[component];\n      if (score === undefined || score === null) {\n        errors.push(`${component} is required`);\n      } else if (![0, 1, 2].includes(parseInt(score))) {\n        errors.push(`${component} must be 0, 1, or 2`);\n      }\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  /**\n   * Calculate total PAINAD score from components\n   * @param {object} data - Assessment data with component scores\n   * @returns {number} Total score (0-10)\n   */\n  calculateTotalScore(data) {\n    return (\n      parseInt(data.breathing_score || 0) +\n      parseInt(data.negative_vocalization_score || 0) +\n      parseInt(data.facial_expression_score || 0) +\n      parseInt(data.body_language_score || 0) +\n      parseInt(data.consolability_score || 0)\n    );\n  }\n\n  /**\n   * Get all PAINAD assessments for a patient\n   * GET /patients/:patientId/painad-scales\n   */\n  async getPatientAssessments(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { limit = 50, offset = 0, from_date, to_date } = request.query;\n\n      let conditions = [eq(painad_scales.patient_id, parseInt(patientId))];\n\n      if (from_date) {\n        conditions.push(gte(painad_scales.assessment_date, new Date(from_date)));\n      }\n      if (to_date) {\n        conditions.push(lte(painad_scales.assessment_date, new Date(to_date)));\n      }\n\n      const assessments = await db\n        .select()\n        .from(painad_scales)\n        .where(and(...conditions))\n        .orderBy(desc(painad_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'PAINAD assessments retrieved successfully',\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching patient PAINAD assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single PAINAD assessment by ID\n   * GET /painad-scales/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'PAINAD assessment not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create a new PAINAD assessment\n   * POST /patients/:patientId/painad-scales\n   */\n  async create(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const data = request.body;\n\n      // Validate component scores\n      const validation = this.validateScores(data);\n      if (!validation.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid PAINAD scores',\n          errors: validation.errors\n        };\n      }\n\n      // Calculate total score and pain severity\n      const totalScore = this.calculateTotalScore(data);\n      const painSeverity = this.calculatePainSeverity(totalScore);\n      const painPresent = totalScore > 0;\n\n      const result = await db\n        .insert(painad_scales)\n        .values({\n          patient_id: parseInt(patientId),\n          ...data,\n          breathing_score: parseInt(data.breathing_score),\n          negative_vocalization_score: parseInt(data.negative_vocalization_score),\n          facial_expression_score: parseInt(data.facial_expression_score),\n          body_language_score: parseInt(data.body_language_score),\n          consolability_score: parseInt(data.consolability_score),\n          total_score: totalScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          assessment_date: data.assessment_date ? new Date(data.assessment_date) : new Date(),\n          assessed_by_id: data.assessed_by_id || request.user?.id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        })\n        .returning();\n\n      await logAudit(request, 'CREATE', 'painad_scales', result[0].id);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'PAINAD assessment created successfully',\n        data: result[0],\n        interpretation: {\n          total_score: totalScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: PAINAD_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update a PAINAD assessment\n   * PATCH /painad-scales/:id\n   */\n  async update(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'PAINAD assessment not found'\n        };\n      }\n\n      // Don't allow updates to signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update a signed PAINAD assessment. Use amendment instead.'\n        };\n      }\n\n      // Validate scores if any are being updated\n      const hasScoreUpdate = [\n        'breathing_score',\n        'negative_vocalization_score',\n        'facial_expression_score',\n        'body_language_score',\n        'consolability_score'\n      ].some(key => data[key] !== undefined);\n\n      let totalScore = existing[0].total_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      if (hasScoreUpdate) {\n        // Merge existing scores with updates for validation\n        const mergedData = {\n          breathing_score: data.breathing_score ?? existing[0].breathing_score,\n          negative_vocalization_score: data.negative_vocalization_score ?? existing[0].negative_vocalization_score,\n          facial_expression_score: data.facial_expression_score ?? existing[0].facial_expression_score,\n          body_language_score: data.body_language_score ?? existing[0].body_language_score,\n          consolability_score: data.consolability_score ?? existing[0].consolability_score\n        };\n\n        const validation = this.validateScores(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid PAINAD scores',\n            errors: validation.errors\n          };\n        }\n\n        totalScore = this.calculateTotalScore(mergedData);\n        painSeverity = this.calculatePainSeverity(totalScore);\n        painPresent = totalScore > 0;\n      }\n\n      // Remove fields that shouldn't be updated directly\n      const { id: _, patient_id, created_by_id, createdAt, ...updateData } = data;\n\n      const result = await db\n        .update(painad_scales)\n        .set({\n          ...updateData,\n          total_score: totalScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(painad_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'painad_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'PAINAD assessment updated successfully',\n        data: result[0],\n        interpretation: {\n          total_score: totalScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: PAINAD_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error updating PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete a PAINAD assessment\n   * DELETE /painad-scales/:id\n   */\n  async delete(request, reply) {\n    try {\n      const { id } = request.params;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'PAINAD assessment not found'\n        };\n      }\n\n      // Don't allow deletion of signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete a signed PAINAD assessment'\n        };\n      }\n\n      await db\n        .delete(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)));\n\n      await logAudit(request, 'DELETE', 'painad_scales', parseInt(id));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'PAINAD assessment deleted successfully'\n      };\n    } catch (error) {\n      logger.error('Error deleting PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign a PAINAD assessment (21 CFR Part 11 compliance)\n   * POST /painad-scales/:id/sign\n   */\n  async sign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'PAINAD assessment not found'\n        };\n      }\n\n      if (existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'PAINAD assessment already signed'\n        };\n      }\n\n      const result = await db\n        .update(painad_scales)\n        .set({\n          signed_at: new Date(),\n          signed_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(painad_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'painad_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'PAINAD assessment signed successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error signing PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Amend a signed PAINAD assessment\n   * POST /painad-scales/:id/amend\n   */\n  async amend(request, reply) {\n    try {\n      const { id } = request.params;\n      const { amendment_reason, ...updateData } = request.body;\n\n      if (!amendment_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Amendment reason is required'\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'PAINAD assessment not found'\n        };\n      }\n\n      if (!existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot amend an unsigned assessment. Use update instead.'\n        };\n      }\n\n      // Recalculate scores if any component scores are being amended\n      let totalScore = existing[0].total_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      const hasScoreUpdate = [\n        'breathing_score',\n        'negative_vocalization_score',\n        'facial_expression_score',\n        'body_language_score',\n        'consolability_score'\n      ].some(key => updateData[key] !== undefined);\n\n      if (hasScoreUpdate) {\n        const mergedData = {\n          breathing_score: updateData.breathing_score ?? existing[0].breathing_score,\n          negative_vocalization_score: updateData.negative_vocalization_score ?? existing[0].negative_vocalization_score,\n          facial_expression_score: updateData.facial_expression_score ?? existing[0].facial_expression_score,\n          body_language_score: updateData.body_language_score ?? existing[0].body_language_score,\n          consolability_score: updateData.consolability_score ?? existing[0].consolability_score\n        };\n\n        const validation = this.validateScores(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid PAINAD scores',\n            errors: validation.errors\n          };\n        }\n\n        totalScore = this.calculateTotalScore(mergedData);\n        painSeverity = this.calculatePainSeverity(totalScore);\n        painPresent = totalScore > 0;\n      }\n\n      const result = await db\n        .update(painad_scales)\n        .set({\n          ...updateData,\n          total_score: totalScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          amended: true,\n          amendment_reason,\n          amended_at: new Date(),\n          amended_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(painad_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'AMEND', 'painad_scales', result[0].id, { amendment_reason });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'PAINAD assessment amended successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error amending PAINAD assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error amending PAINAD assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get all PAINAD assessments (with filters)\n   * GET /painad-scales\n   */\n  async index(request, reply) {\n    try {\n      const {\n        patient_id,\n        pain_severity,\n        dementia_stage,\n        min_score,\n        max_score,\n        limit = 50,\n        offset = 0\n      } = request.query;\n\n      const conditions = [];\n\n      if (patient_id) {\n        conditions.push(eq(painad_scales.patient_id, parseInt(patient_id)));\n      }\n      if (pain_severity) {\n        conditions.push(eq(painad_scales.pain_severity, pain_severity));\n      }\n      if (dementia_stage) {\n        conditions.push(eq(painad_scales.dementia_stage, dementia_stage));\n      }\n      if (min_score !== undefined) {\n        conditions.push(gte(painad_scales.total_score, parseInt(min_score)));\n      }\n      if (max_score !== undefined) {\n        conditions.push(lte(painad_scales.total_score, parseInt(max_score)));\n      }\n\n      let query = db.select().from(painad_scales);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const assessments = await query\n        .orderBy(desc(painad_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching PAINAD assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get PAINAD assessment statistics for a patient\n   * GET /patients/:patientId/painad-scales/stats\n   */\n  async getPatientStats(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      // Get the most recent assessment\n      const latestAssessment = await db\n        .select()\n        .from(painad_scales)\n        .where(eq(painad_scales.patient_id, parseInt(patientId)))\n        .orderBy(desc(painad_scales.assessment_date))\n        .limit(1);\n\n      // Get count of assessments\n      const countResult = await db\n        .select({ count: sql`count(*)` })\n        .from(painad_scales)\n        .where(eq(painad_scales.patient_id, parseInt(patientId)));\n\n      // Get average scores for the time period\n      const avgResult = await db\n        .select({\n          avg_total: sql`avg(total_score)`,\n          avg_breathing: sql`avg(breathing_score)`,\n          avg_negative_vocalization: sql`avg(negative_vocalization_score)`,\n          avg_facial_expression: sql`avg(facial_expression_score)`,\n          avg_body_language: sql`avg(body_language_score)`,\n          avg_consolability: sql`avg(consolability_score)`,\n          max_total: sql`max(total_score)`,\n          min_total: sql`min(total_score)`\n        })\n        .from(painad_scales)\n        .where(\n          and(\n            eq(painad_scales.patient_id, parseInt(patientId)),\n            gte(painad_scales.assessment_date, startDate)\n          )\n        );\n\n      // Get severity distribution\n      const severityResult = await db\n        .select({\n          pain_severity: painad_scales.pain_severity,\n          count: sql`count(*)`\n        })\n        .from(painad_scales)\n        .where(eq(painad_scales.patient_id, parseInt(patientId)))\n        .groupBy(painad_scales.pain_severity);\n\n      const severityDistribution = {};\n      for (const row of severityResult) {\n        severityDistribution[row.pain_severity || 'UNKNOWN'] = parseInt(row.count);\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          total_assessments: parseInt(countResult[0]?.count || 0),\n          latest_assessment: latestAssessment[0] || null,\n          period_days: parseInt(days),\n          averages: {\n            total_score: parseFloat(avgResult[0]?.avg_total) || null,\n            breathing_score: parseFloat(avgResult[0]?.avg_breathing) || null,\n            negative_vocalization_score: parseFloat(avgResult[0]?.avg_negative_vocalization) || null,\n            facial_expression_score: parseFloat(avgResult[0]?.avg_facial_expression) || null,\n            body_language_score: parseFloat(avgResult[0]?.avg_body_language) || null,\n            consolability_score: parseFloat(avgResult[0]?.avg_consolability) || null\n          },\n          score_range: {\n            max: parseInt(avgResult[0]?.max_total) || null,\n            min: parseInt(avgResult[0]?.min_total) || null\n          },\n          severity_distribution: severityDistribution\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching PAINAD assessment stats:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD assessment statistics',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get PAINAD score trend for a patient\n   * GET /patients/:patientId/painad-scales/trend\n   */\n  async getPatientTrend(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30, limit = 100 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      const assessments = await db\n        .select({\n          id: painad_scales.id,\n          assessment_date: painad_scales.assessment_date,\n          total_score: painad_scales.total_score,\n          pain_severity: painad_scales.pain_severity,\n          breathing_score: painad_scales.breathing_score,\n          negative_vocalization_score: painad_scales.negative_vocalization_score,\n          facial_expression_score: painad_scales.facial_expression_score,\n          body_language_score: painad_scales.body_language_score,\n          consolability_score: painad_scales.consolability_score,\n          intervention_provided: painad_scales.intervention_provided,\n          intervention_effectiveness: painad_scales.intervention_effectiveness\n        })\n        .from(painad_scales)\n        .where(\n          and(\n            eq(painad_scales.patient_id, parseInt(patientId)),\n            gte(painad_scales.assessment_date, startDate)\n          )\n        )\n        .orderBy(desc(painad_scales.assessment_date))\n        .limit(parseInt(limit));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          period_days: parseInt(days),\n          assessments: assessments.reverse(), // Chronological order for charting\n          count: assessments.length\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching PAINAD trend:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD trend data',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get PAINAD scoring reference\n   * GET /painad-scales/reference\n   */\n  async getReference(request, reply) {\n    try {\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          name: 'PAINAD Scale',\n          full_name: 'Pain Assessment in Advanced Dementia',\n          description: 'Behavioral pain assessment tool for patients with advanced dementia who cannot self-report pain',\n          target_populations: [\n            'Patients with advanced dementia',\n            'Non-verbal patients with cognitive impairment',\n            'Hospice patients with cognitive decline',\n            'Patients unable to self-report pain'\n          ],\n          reference: 'Warden V, Hurley AC, Volicer L. (2003) Development and psychometric evaluation of the Pain Assessment in Advanced Dementia (PAINAD) scale. Journal of the American Medical Directors Association, 4(1), 9-15.',\n          scoring: {\n            components: PAINAD_SCORE_DESCRIPTIONS,\n            total_range: { min: 0, max: 10 },\n            severity_interpretation: PAINAD_PAIN_SEVERITY\n          },\n          dementia_stages: PAINAD_DEMENTIA_STAGES,\n          common_pain_causes: PAINAD_COMMON_CAUSES,\n          non_pharmacological_interventions: PAINAD_NON_PHARM_INTERVENTIONS,\n          clinical_guidelines: {\n            assessment_timing: {\n              routine: 'At minimum every shift or with each visit',\n              during_care: 'During repositioning, transfers, ADLs',\n              post_intervention: '30-60 minutes after intervention'\n            },\n            reassessment_intervals: {\n              NO_PAIN: 'Every shift or visit',\n              MILD: 'Every 4 hours or as indicated',\n              MODERATE: '1-2 hours after intervention',\n              SEVERE: '30-60 minutes after intervention'\n            },\n            intervention_thresholds: {\n              non_pharmacological: 'Score >= 1',\n              pharmacological_consideration: 'Score >= 4',\n              urgent_intervention: 'Score >= 7'\n            }\n          }\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching PAINAD reference:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching PAINAD reference',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new PainadScaleController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}