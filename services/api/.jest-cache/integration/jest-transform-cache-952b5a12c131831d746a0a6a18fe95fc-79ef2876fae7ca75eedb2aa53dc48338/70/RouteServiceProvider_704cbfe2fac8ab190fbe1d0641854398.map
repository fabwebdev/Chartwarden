{"version":3,"names":["cov_2nepq6caw9","actualCoverage","AppServiceProvider","AuthServiceProvider","EventServiceProvider","BroadcastServiceProvider","RouteServiceProvider","HOME","s","boot","app","f","configureRateLimiting","routes","register","max","timeWindow","errorResponseBuilder","request","context","status","message","rateLimitConfig","getApiLimiter"],"sources":["RouteServiceProvider.js"],"sourcesContent":["import AppServiceProvider from \"./AppServiceProvider.js\";\nimport AuthServiceProvider from \"./AuthServiceProvider.js\";\nimport EventServiceProvider from \"./EventServiceProvider.js\";\nimport BroadcastServiceProvider from \"./BroadcastServiceProvider.js\";\n\nclass RouteServiceProvider {\n  /**\n   * The path to the \"home\" route for your application.\n   *\n   * This is used by Laravel authentication to redirect users after login.\n   *\n   * @var string\n   */\n  static HOME = '/home';\n\n  /**\n   * Define your route model bindings, pattern filters, etc.\n   */\n  async boot(app) {\n    // Boot all service providers\n    AppServiceProvider.boot(app);\n    AuthServiceProvider.boot(app);\n    EventServiceProvider.boot(app);\n    BroadcastServiceProvider.boot(app);\n    \n    await this.configureRateLimiting(app);\n    \n    // Register routes\n    this.routes(app);\n  }\n\n  /**\n   * Configure the rate limiters for the application.\n   */\n  async configureRateLimiting(app) {\n    // Register Fastify rate limiting plugin\n    await app.register(import(\"@fastify/rate-limit\"), {\n      max: 60, // limit each IP to 60 requests\n      timeWindow: '15 minutes', // 15 minutes\n      errorResponseBuilder: (request, context) => {\n        return {\n          status: 429,\n          message: \"Too many requests from this IP, please try again later.\",\n        };\n      },\n    });\n\n    // Store rate limit config for reference\n    this.rateLimitConfig = {\n      max: 60,\n      timeWindow: '15 minutes',\n    };\n  }\n\n  /**\n   * Register routes\n   */\n  routes(app) {\n    // In Fastify, routes are registered as plugins\n    // This is a placeholder to match Laravel's structure\n  }\n\n  /**\n   * Get the API rate limiter config.\n   * @return {Object}\n   */\n  getApiLimiter() {\n    return this.rateLimitConfig;\n  }\n}\n\nexport default new RouteServiceProvider();"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,OAAOE,kBAAkB,MAAM,yBAAyB;AACxD,OAAOC,mBAAmB,MAAM,0BAA0B;AAC1D,OAAOC,oBAAoB,MAAM,2BAA2B;AAC5D,OAAOC,wBAAwB,MAAM,+BAA+B;AAEpE,MAAMC,oBAAoB,CAAC;EACzB;AACF;AACA;AACA;AACA;AACA;AACA;EACE,OAAOC,IAAI;EAAA;EAAA,CAAAP,cAAA,GAAAQ,CAAA,OAAG,OAAO;;EAErB;AACF;AACA;EACE,MAAMC,IAAIA,CAACC,GAAG,EAAE;IAAA;IAAAV,cAAA,GAAAW,CAAA;IAAAX,cAAA,GAAAQ,CAAA;IACd;IACAN,kBAAkB,CAACO,IAAI,CAACC,GAAG,CAAC;IAAC;IAAAV,cAAA,GAAAQ,CAAA;IAC7BL,mBAAmB,CAACM,IAAI,CAACC,GAAG,CAAC;IAAC;IAAAV,cAAA,GAAAQ,CAAA;IAC9BJ,oBAAoB,CAACK,IAAI,CAACC,GAAG,CAAC;IAAC;IAAAV,cAAA,GAAAQ,CAAA;IAC/BH,wBAAwB,CAACI,IAAI,CAACC,GAAG,CAAC;IAAC;IAAAV,cAAA,GAAAQ,CAAA;IAEnC,MAAM,IAAI,CAACI,qBAAqB,CAACF,GAAG,CAAC;;IAErC;IAAA;IAAAV,cAAA,GAAAQ,CAAA;IACA,IAAI,CAACK,MAAM,CAACH,GAAG,CAAC;EAClB;;EAEA;AACF;AACA;EACE,MAAME,qBAAqBA,CAACF,GAAG,EAAE;IAAA;IAAAV,cAAA,GAAAW,CAAA;IAAAX,cAAA,GAAAQ,CAAA;IAC/B;IACA,MAAME,GAAG,CAACI,QAAQ,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE;MAChDC,GAAG,EAAE,EAAE;MAAE;MACTC,UAAU,EAAE,YAAY;MAAE;MAC1BC,oBAAoB,EAAEA,CAACC,OAAO,EAAEC,OAAO,KAAK;QAAA;QAAAnB,cAAA,GAAAW,CAAA;QAAAX,cAAA,GAAAQ,CAAA;QAC1C,OAAO;UACLY,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH;IACF,CAAC,CAAC;;IAEF;IAAA;IAAArB,cAAA,GAAAQ,CAAA;IACA,IAAI,CAACc,eAAe,GAAG;MACrBP,GAAG,EAAE,EAAE;MACPC,UAAU,EAAE;IACd,CAAC;EACH;;EAEA;AACF;AACA;EACEH,MAAMA,CAACH,GAAG,EAAE;IAAA;IAAAV,cAAA,GAAAW,CAAA;EAGZ,CAAC,CAFC;EACA;;EAGF;AACF;AACA;AACA;EACEY,aAAaA,CAAA,EAAG;IAAA;IAAAvB,cAAA,GAAAW,CAAA;IAAAX,cAAA,GAAAQ,CAAA;IACd,OAAO,IAAI,CAACc,eAAe;EAC7B;AACF;AAEA,eAAe,IAAIhB,oBAAoB,CAAC,CAAC","ignoreList":[]}