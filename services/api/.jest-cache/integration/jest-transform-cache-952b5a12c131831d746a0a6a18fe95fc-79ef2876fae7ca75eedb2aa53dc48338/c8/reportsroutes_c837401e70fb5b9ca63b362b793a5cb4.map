{"version":3,"names":["cov_1e9asf3e4k","actualCoverage","ReportsController","PERMISSIONS","requireAnyPermission","reportsRoutes","fastify","options","f","s","get","preHandler","VIEW_PATIENT_DETAILS","VIEW_CLINICAL_NOTES","getCurrentCensus","getCensusByLevelOfCare","getAdmissionsDischarges","getAverageLengthOfStay","getRecertificationsDue","getOverdueVisits","getIDGMeetingCompliance","getMedicationReconciliation","getPendingClaims","getARAgingSummary","getRevenueByPayer","getUnbilledPeriods","getIncidentsSummary","getGrievancesSummary","getQualityMeasuresDashboard","getChartAuditScores","getStaffProductivity","getCredentialExpirations","getCaseloadSummary","getActiveBereavementCases","getExecutiveDashboard"],"sources":["reports.routes.js"],"sourcesContent":["import ReportsController from \"../controllers/Reports.controller.js\";\nimport { PERMISSIONS } from \"../config/rbac.js\";\nimport { requireAnyPermission } from \"../middleware/rbac.middleware.js\";\n\n/**\n * Reports Routes\n * Generates various reports by querying existing data\n * No database tables needed - aggregates data from all modules\n *\n * Report Categories:\n * - Census Reports (4 routes)\n * - Clinical Compliance Reports (5 routes)\n * - Billing Reports (4 routes)\n * - QAPI Reports (4 routes)\n * - Staff Reports (3 routes)\n * - Bereavement Reports (1 route)\n * - Executive Dashboard (1 route)\n */\nexport default async function reportsRoutes(fastify, options) {\n  // ==================== CENSUS REPORTS ====================\n\n  // Get current census\n  fastify.get(\"/reports/census/current\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_PATIENT_DETAILS,\n      PERMISSIONS.VIEW_CLINICAL_NOTES\n    )]\n  }, ReportsController.getCurrentCensus);\n\n  // Get census by level of care\n  fastify.get(\"/reports/census/by-level-of-care\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_PATIENT_DETAILS,\n      PERMISSIONS.VIEW_CLINICAL_NOTES\n    )]\n  }, ReportsController.getCensusByLevelOfCare);\n\n  // Get admissions and discharges\n  fastify.get(\"/reports/census/admissions-discharges\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_PATIENT_DETAILS,\n      PERMISSIONS.VIEW_CLINICAL_NOTES\n    )]\n  }, ReportsController.getAdmissionsDischarges);\n\n  // Get average length of stay\n  fastify.get(\"/reports/census/average-los\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_PATIENT_DETAILS,\n      PERMISSIONS.VIEW_CLINICAL_NOTES\n    )]\n  }, ReportsController.getAverageLengthOfStay);\n\n  // ==================== CLINICAL COMPLIANCE REPORTS ====================\n\n  // Get recertifications due\n  fastify.get(\"/reports/compliance/recertifications-due\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getRecertificationsDue);\n\n  // Get overdue visits\n  fastify.get(\"/reports/compliance/overdue-visits\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getOverdueVisits);\n\n  // Get IDG meeting compliance\n  fastify.get(\"/reports/compliance/idg-meetings\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES\n    )]\n  }, ReportsController.getIDGMeetingCompliance);\n\n  // Get medication reconciliation status\n  fastify.get(\"/reports/compliance/medication-reconciliation\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getMedicationReconciliation);\n\n  // ==================== BILLING REPORTS ====================\n\n  // Get pending claims\n  fastify.get(\"/reports/billing/pending-claims\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getPendingClaims);\n\n  // Get AR aging summary\n  fastify.get(\"/reports/billing/ar-aging-summary\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getARAgingSummary);\n\n  // Get revenue by payer\n  fastify.get(\"/reports/billing/revenue-by-payer\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getRevenueByPayer);\n\n  // Get unbilled periods\n  fastify.get(\"/reports/billing/unbilled-periods\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getUnbilledPeriods);\n\n  // ==================== QAPI REPORTS ====================\n\n  // Get incidents summary\n  fastify.get(\"/reports/qapi/incidents-summary\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getIncidentsSummary);\n\n  // Get grievances summary\n  fastify.get(\"/reports/qapi/grievances-summary\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getGrievancesSummary);\n\n  // Get quality measures dashboard\n  fastify.get(\"/reports/qapi/quality-measures-dashboard\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getQualityMeasuresDashboard);\n\n  // Get chart audit scores\n  fastify.get(\"/reports/qapi/chart-audit-scores\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getChartAuditScores);\n\n  // ==================== STAFF REPORTS ====================\n\n  // Get staff productivity\n  fastify.get(\"/reports/staff/productivity\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getStaffProductivity);\n\n  // Get credential expirations\n  fastify.get(\"/reports/staff/credential-expirations\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getCredentialExpirations);\n\n  // Get caseload summary\n  fastify.get(\"/reports/staff/caseload-summary\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getCaseloadSummary);\n\n  // ==================== BEREAVEMENT REPORTS ====================\n\n  // Get active bereavement cases\n  fastify.get(\"/reports/bereavement/active-cases\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getActiveBereavementCases);\n\n  // ==================== EXECUTIVE DASHBOARD ====================\n\n  // Get executive dashboard summary\n  fastify.get(\"/reports/executive/dashboard\", {\n    preHandler: [requireAnyPermission(\n      PERMISSIONS.VIEW_CLINICAL_NOTES,\n      PERMISSIONS.VIEW_PATIENT_DETAILS\n    )]\n  }, ReportsController.getExecutiveDashboard);\n}\n"],"mappings":"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","ignoreList":[]}