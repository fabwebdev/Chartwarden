{"version":3,"names":["cov_qzauskddy","actualCoverage","AuditService","generateRetentionReport","checkRetentionCompliance","logger","AuditActions","s","getComplianceReport","request","reply","f","startDate","endDate","query","b","code","success","status","message","start","Date","end","isNaN","getTime","report","createAuditLog","user_id","user","id","action","COMPLIANCE_AUDIT_EXPORT","resource_type","resource_id","ip_address","ip","user_agent","headers","metadata","JSON","stringify","immediate","data","error","getUserActivityReport","userId","params","COMPLIANCE_HIPAA_REVIEW","getResourceAccessHistory","resourceType","resourceId","history","getRetentionStatus","compliance","Promise","all","getAuditStats","stats","getStats","getArchivalCandidates","retentionYears","years","parseInt","candidates"],"sources":["AuditCompliance.controller.js"],"sourcesContent":["/**\n * Audit Compliance Controller\n *\n * HIPAA-compliant audit reporting endpoints for compliance officers\n * and administrators.\n */\n\nimport AuditService from '../services/AuditService.js';\nimport { generateRetentionReport, checkRetentionCompliance } from '../jobs/auditRetention.job.js';\nimport { logger } from '../utils/logger.js';\nimport { AuditActions } from '../constants/auditActions.js';\n\n/**\n * Get compliance report for a date range\n * GET /api/audit/compliance/report\n */\nexport const getComplianceReport = async (request, reply) => {\n  try {\n    const { startDate, endDate } = request.query;\n\n    if (!startDate || !endDate) {\n      reply.code(400);\n      return {\n        success: false,\n        status: 400,\n        message: 'startDate and endDate query parameters are required',\n      };\n    }\n\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n\n    if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n      reply.code(400);\n      return {\n        success: false,\n        status: 400,\n        message: 'Invalid date format. Use ISO 8601 format (YYYY-MM-DD)',\n      };\n    }\n\n    if (start > end) {\n      reply.code(400);\n      return {\n        success: false,\n        status: 400,\n        message: 'startDate must be before endDate',\n      };\n    }\n\n    const report = await AuditService.getComplianceReport(start, end);\n\n    // Log this access\n    await AuditService.createAuditLog({\n      user_id: request.user?.id,\n      action: AuditActions.COMPLIANCE_AUDIT_EXPORT,\n      resource_type: 'audit_logs',\n      resource_id: null,\n      ip_address: request.ip,\n      user_agent: request.headers['user-agent'],\n      status: 'success',\n      metadata: JSON.stringify({ startDate, endDate }),\n    }, {}, { immediate: true });\n\n    return {\n      success: true,\n      status: 200,\n      data: report,\n    };\n  } catch (error) {\n    logger.error('Get compliance report error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while generating compliance report',\n    };\n  }\n};\n\n/**\n * Get user activity report\n * GET /api/audit/compliance/user/:userId\n */\nexport const getUserActivityReport = async (request, reply) => {\n  try {\n    const { userId } = request.params;\n    const { startDate, endDate } = request.query;\n\n    let start = null;\n    let end = null;\n\n    if (startDate && endDate) {\n      start = new Date(startDate);\n      end = new Date(endDate);\n\n      if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n        reply.code(400);\n        return {\n          success: false,\n          status: 400,\n          message: 'Invalid date format. Use ISO 8601 format (YYYY-MM-DD)',\n        };\n      }\n    }\n\n    const report = await AuditService.getUserActivityReport(userId, start, end);\n\n    // Log this access\n    await AuditService.createAuditLog({\n      user_id: request.user?.id,\n      action: AuditActions.COMPLIANCE_HIPAA_REVIEW,\n      resource_type: 'users',\n      resource_id: userId,\n      ip_address: request.ip,\n      user_agent: request.headers['user-agent'],\n      status: 'success',\n    }, {}, { immediate: true });\n\n    return {\n      success: true,\n      status: 200,\n      data: report,\n    };\n  } catch (error) {\n    logger.error('Get user activity report error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while generating user activity report',\n    };\n  }\n};\n\n/**\n * Get resource access history\n * GET /api/audit/compliance/resource/:resourceType/:resourceId\n */\nexport const getResourceAccessHistory = async (request, reply) => {\n  try {\n    const { resourceType, resourceId } = request.params;\n\n    const history = await AuditService.getResourceAccessHistory(resourceType, resourceId);\n\n    // Log this access\n    await AuditService.createAuditLog({\n      user_id: request.user?.id,\n      action: AuditActions.COMPLIANCE_HIPAA_REVIEW,\n      resource_type: resourceType,\n      resource_id: resourceId,\n      ip_address: request.ip,\n      user_agent: request.headers['user-agent'],\n      status: 'success',\n    }, {}, { immediate: true });\n\n    return {\n      success: true,\n      status: 200,\n      data: history,\n    };\n  } catch (error) {\n    logger.error('Get resource access history error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while fetching resource access history',\n    };\n  }\n};\n\n/**\n * Get retention compliance status\n * GET /api/audit/compliance/retention\n */\nexport const getRetentionStatus = async (request, reply) => {\n  try {\n    const [report, compliance] = await Promise.all([\n      generateRetentionReport(),\n      checkRetentionCompliance(),\n    ]);\n\n    return {\n      success: true,\n      status: 200,\n      data: {\n        report,\n        compliance,\n      },\n    };\n  } catch (error) {\n    logger.error('Get retention status error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while checking retention status',\n    };\n  }\n};\n\n/**\n * Get audit service statistics\n * GET /api/audit/compliance/stats\n */\nexport const getAuditStats = async (request, reply) => {\n  try {\n    const stats = AuditService.getStats();\n\n    return {\n      success: true,\n      status: 200,\n      data: stats,\n    };\n  } catch (error) {\n    logger.error('Get audit stats error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while fetching audit statistics',\n    };\n  }\n};\n\n/**\n * Get archival candidates\n * GET /api/audit/compliance/archival\n */\nexport const getArchivalCandidates = async (request, reply) => {\n  try {\n    const { retentionYears = 6 } = request.query;\n    const years = parseInt(retentionYears, 10);\n\n    if (isNaN(years) || years < 1 || years > 20) {\n      reply.code(400);\n      return {\n        success: false,\n        status: 400,\n        message: 'retentionYears must be between 1 and 20',\n      };\n    }\n\n    const candidates = await AuditService.getArchivalCandidates(years);\n\n    return {\n      success: true,\n      status: 200,\n      data: candidates,\n    };\n  } catch (error) {\n    logger.error('Get archival candidates error:', error);\n    reply.code(500);\n    return {\n      success: false,\n      status: 500,\n      message: 'Server error while checking archival candidates',\n    };\n  }\n};\n\nexport default {\n  getComplianceReport,\n  getUserActivityReport,\n  getResourceAccessHistory,\n  getRetentionStatus,\n  getAuditStats,\n  getArchivalCandidates,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}