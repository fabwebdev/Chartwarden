4e18087429bd7a43134380bdb96e8957
/* istanbul ignore next */
function cov_10blaraer1() {
  var path = "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/controllers/patient/IntegumentaryAssessment.controller.js";
  var hash = "30ef224966af5e5877d5591e0131abbd39ded3ee";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/controllers/patient/IntegumentaryAssessment.controller.js",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "1": {
        start: {
          line: 11,
          column: 45
        },
        end: {
          line: 17,
          column: 45
        }
      },
      "2": {
        start: {
          line: 18,
          column: 12
        },
        end: {
          line: 18,
          column: 28
        }
      },
      "3": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 44
        }
      },
      "4": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 21,
          column: 76
        }
      },
      "5": {
        start: {
          line: 22,
          column: 12
        },
        end: {
          line: 22,
          column: 28
        }
      },
      "6": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 26,
          column: 14
        }
      },
      "7": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 48,
          column: 9
        }
      },
      "8": {
        start: {
          line: 33,
          column: 38
        },
        end: {
          line: 38,
          column: 34
        }
      },
      "9": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 28
        }
      },
      "10": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 40,
          column: 37
        }
      },
      "11": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 69
        }
      },
      "12": {
        start: {
          line: 43,
          column: 12
        },
        end: {
          line: 43,
          column: 28
        }
      },
      "13": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 47,
          column: 14
        }
      },
      "14": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 119,
          column: 9
        }
      },
      "15": {
        start: {
          line: 54,
          column: 54
        },
        end: {
          line: 54,
          column: 66
        }
      },
      "16": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 62,
          column: 13
        }
      },
      "17": {
        start: {
          line: 58,
          column: 16
        },
        end: {
          line: 58,
          column: 32
        }
      },
      "18": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 61,
          column: 18
        }
      },
      "19": {
        start: {
          line: 64,
          column: 12
        },
        end: {
          line: 69,
          column: 13
        }
      },
      "20": {
        start: {
          line: 65,
          column: 16
        },
        end: {
          line: 65,
          column: 32
        }
      },
      "21": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 68,
          column: 18
        }
      },
      "22": {
        start: {
          line: 72,
          column: 40
        },
        end: {
          line: 74,
          column: 25
        }
      },
      "23": {
        start: {
          line: 75,
          column: 39
        },
        end: {
          line: 75,
          column: 61
        }
      },
      "24": {
        start: {
          line: 78,
          column: 43
        },
        end: {
          line: 80,
          column: 35
        }
      },
      "25": {
        start: {
          line: 83,
          column: 24
        },
        end: {
          line: 83,
          column: 34
        }
      },
      "26": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 105,
          column: 13
        }
      },
      "27": {
        start: {
          line: 86,
          column: 16
        },
        end: {
          line: 92,
          column: 33
        }
      },
      "28": {
        start: {
          line: 93,
          column: 16
        },
        end: {
          line: 93,
          column: 35
        }
      },
      "29": {
        start: {
          line: 96,
          column: 16
        },
        end: {
          line: 103,
          column: 33
        }
      },
      "30": {
        start: {
          line: 104,
          column: 16
        },
        end: {
          line: 104,
          column: 35
        }
      },
      "31": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 107,
          column: 28
        }
      },
      "32": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 111,
          column: 14
        }
      },
      "33": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 74
        }
      },
      "34": {
        start: {
          line: 114,
          column: 12
        },
        end: {
          line: 114,
          column: 28
        }
      },
      "35": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 118,
          column: 14
        }
      },
      "36": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 165,
          column: 9
        }
      },
      "37": {
        start: {
          line: 126,
          column: 27
        },
        end: {
          line: 126,
          column: 41
        }
      },
      "38": {
        start: {
          line: 127,
          column: 12
        },
        end: {
          line: 127,
          column: 96
        }
      },
      "39": {
        start: {
          line: 129,
          column: 45
        },
        end: {
          line: 137,
          column: 25
        }
      },
      "40": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 139,
          column: 81
        }
      },
      "41": {
        start: {
          line: 140,
          column: 44
        },
        end: {
          line: 140,
          column: 71
        }
      },
      "42": {
        start: {
          line: 142,
          column: 12
        },
        end: {
          line: 153,
          column: 13
        }
      },
      "43": {
        start: {
          line: 143,
          column: 16
        },
        end: {
          line: 143,
          column: 113
        }
      },
      "44": {
        start: {
          line: 145,
          column: 16
        },
        end: {
          line: 145,
          column: 32
        }
      },
      "45": {
        start: {
          line: 146,
          column: 16
        },
        end: {
          line: 152,
          column: 18
        }
      },
      "46": {
        start: {
          line: 155,
          column: 12
        },
        end: {
          line: 155,
          column: 88
        }
      },
      "47": {
        start: {
          line: 156,
          column: 12
        },
        end: {
          line: 156,
          column: 28
        }
      },
      "48": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 43
        }
      },
      "49": {
        start: {
          line: 159,
          column: 12
        },
        end: {
          line: 159,
          column: 77
        }
      },
      "50": {
        start: {
          line: 160,
          column: 12
        },
        end: {
          line: 160,
          column: 28
        }
      },
      "51": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 164,
          column: 14
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        },
        loc: {
          start: {
            line: 9,
            column: 32
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 44
          },
          end: {
            line: 49,
            column: 5
          }
        },
        line: 31
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 52,
            column: 5
          }
        },
        loc: {
          start: {
            line: 52,
            column: 32
          },
          end: {
            line: 120,
            column: 5
          }
        },
        line: 52
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 124,
            column: 4
          },
          end: {
            line: 124,
            column: 5
          }
        },
        loc: {
          start: {
            line: 124,
            column: 31
          },
          end: {
            line: 166,
            column: 5
          }
        },
        line: 124
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 57,
            column: 12
          },
          end: {
            line: 62,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 12
          },
          end: {
            line: 62,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "1": {
        loc: {
          start: {
            line: 64,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "2": {
        loc: {
          start: {
            line: 78,
            column: 43
          },
          end: {
            line: 80,
            column: 35
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 79,
            column: 18
          },
          end: {
            line: 79,
            column: 45
          }
        }, {
          start: {
            line: 80,
            column: 18
          },
          end: {
            line: 80,
            column: 35
          }
        }],
        line: 78
      },
      "3": {
        loc: {
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 105,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 105,
            column: 13
          }
        }, {
          start: {
            line: 94,
            column: 19
          },
          end: {
            line: 105,
            column: 13
          }
        }],
        line: 84
      },
      "4": {
        loc: {
          start: {
            line: 142,
            column: 12
          },
          end: {
            line: 153,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 142,
            column: 12
          },
          end: {
            line: 153,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 142
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "30ef224966af5e5877d5591e0131abbd39ded3ee"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_10blaraer1 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_10blaraer1();
import { db } from "../../config/db.drizzle.js";
import { integumentary_assessment } from "../../db/schemas/integumentaryAssessment.schema.js";
import { integumentary } from "../../db/schemas/integumentary.schema.js";
import { eq } from "drizzle-orm";
import { logger } from '../../utils/logger.js';
class IntegumentaryAssessmentController {
  // Get all integumentary assessments
  async index(request, reply) {
    /* istanbul ignore next */
    cov_10blaraer1().f[0]++;
    cov_10blaraer1().s[0]++;
    try {
      const integumentaryAssessments =
      /* istanbul ignore next */
      (cov_10blaraer1().s[1]++, await db.select({
        id: integumentary_assessment.id,
        patient_id: integumentary_assessment.patient_id,
        integumentary_ids: integumentary_assessment.integumentary_ids,
        createdAt: integumentary_assessment.createdAt,
        updatedAt: integumentary_assessment.updatedAt
      }).from(integumentary_assessment));
      /* istanbul ignore next */
      cov_10blaraer1().s[2]++;
      reply.code(200);
      /* istanbul ignore next */
      cov_10blaraer1().s[3]++;
      return integumentaryAssessments;
    } catch (error) {
      /* istanbul ignore next */
      cov_10blaraer1().s[4]++;
      logger.error("Error fetching integumentary assessments:", error);
      /* istanbul ignore next */
      cov_10blaraer1().s[5]++;
      reply.code(500);
      /* istanbul ignore next */
      cov_10blaraer1().s[6]++;
      return {
        message: "Internal server error",
        error: error.message
      };
    }
  }

  // Get all integumentary options
  async integumentaryList(request, reply) {
    /* istanbul ignore next */
    cov_10blaraer1().f[1]++;
    cov_10blaraer1().s[7]++;
    try {
      const integumentaryList =
      /* istanbul ignore next */
      (cov_10blaraer1().s[8]++, await db.select({
        id: integumentary.id,
        name: integumentary.name,
        createdAt: integumentary.createdAt,
        updatedAt: integumentary.updatedAt
      }).from(integumentary));
      /* istanbul ignore next */
      cov_10blaraer1().s[9]++;
      reply.code(200);
      /* istanbul ignore next */
      cov_10blaraer1().s[10]++;
      return integumentaryList;
    } catch (error) {
      /* istanbul ignore next */
      cov_10blaraer1().s[11]++;
      logger.error("Error fetching integumentary list:", error);
      /* istanbul ignore next */
      cov_10blaraer1().s[12]++;
      reply.code(500);
      /* istanbul ignore next */
      cov_10blaraer1().s[13]++;
      return {
        message: "Internal server error",
        error: error.message
      };
    }
  }

  // Store or update integumentary assessment
  async store(request, reply) {
    /* istanbul ignore next */
    cov_10blaraer1().f[2]++;
    cov_10blaraer1().s[14]++;
    try {
      const {
        patient_id,
        integumentary_ids
      } =
      /* istanbul ignore next */
      (cov_10blaraer1().s[15]++, request.body);

      // Validate required fields
      /* istanbul ignore next */
      cov_10blaraer1().s[16]++;
      if (!patient_id) {
        /* istanbul ignore next */
        cov_10blaraer1().b[0][0]++;
        cov_10blaraer1().s[17]++;
        reply.code(400);
        /* istanbul ignore next */
        cov_10blaraer1().s[18]++;
        return {
          message: "Patient ID is required"
        };
      } else
      /* istanbul ignore next */
      {
        cov_10blaraer1().b[0][1]++;
      }
      cov_10blaraer1().s[19]++;
      if (!integumentary_ids) {
        /* istanbul ignore next */
        cov_10blaraer1().b[1][0]++;
        cov_10blaraer1().s[20]++;
        reply.code(400);
        /* istanbul ignore next */
        cov_10blaraer1().s[21]++;
        return {
          message: "Integumentary IDs are required"
        };
      } else
      /* istanbul ignore next */
      {
        cov_10blaraer1().b[1][1]++;
      }

      // Check if integumentary assessment already exists for this patient
      const existingAssessments =
      /* istanbul ignore next */
      (cov_10blaraer1().s[22]++, await db.select({
        id: integumentary_assessment.id
      }).from(integumentary_assessment).where(eq(integumentary_assessment.patient_id, patient_id)).limit(1));
      const existingAssessment =
      /* istanbul ignore next */
      (cov_10blaraer1().s[23]++, existingAssessments[0]);

      // Convert integumentary_ids array to comma-separated string
      const integumentaryIdsString =
      /* istanbul ignore next */
      (cov_10blaraer1().s[24]++, Array.isArray(integumentary_ids) ?
      /* istanbul ignore next */
      (cov_10blaraer1().b[2][0]++, integumentary_ids.join(",")) :
      /* istanbul ignore next */
      (cov_10blaraer1().b[2][1]++, integumentary_ids));
      let result;
      const now =
      /* istanbul ignore next */
      (cov_10blaraer1().s[25]++, new Date());
      /* istanbul ignore next */
      cov_10blaraer1().s[26]++;
      if (existingAssessment) {
        /* istanbul ignore next */
        cov_10blaraer1().b[3][0]++;
        cov_10blaraer1().s[27]++;
        // Update existing integumentary assessment
        result = await db.update(integumentary_assessment).set({
          integumentary_ids: integumentaryIdsString,
          updatedAt: now
        }).where(eq(integumentary_assessment.patient_id, patient_id)).returning();
        /* istanbul ignore next */
        cov_10blaraer1().s[28]++;
        result = result[0];
      } else {
        /* istanbul ignore next */
        cov_10blaraer1().b[3][1]++;
        cov_10blaraer1().s[29]++;
        // Create new integumentary assessment
        result = await db.insert(integumentary_assessment).values({
          patient_id: patient_id,
          integumentary_ids: integumentaryIdsString,
          createdAt: now,
          updatedAt: now
        }).returning();
        /* istanbul ignore next */
        cov_10blaraer1().s[30]++;
        result = result[0];
      }
      /* istanbul ignore next */
      cov_10blaraer1().s[31]++;
      reply.code(201);
      /* istanbul ignore next */
      cov_10blaraer1().s[32]++;
      return {
        message: "Integumentary assessment created or updated successfully",
        data: result
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_10blaraer1().s[33]++;
      logger.error("Error storing integumentary assessment:", error);
      /* istanbul ignore next */
      cov_10blaraer1().s[34]++;
      reply.code(500);
      /* istanbul ignore next */
      cov_10blaraer1().s[35]++;
      return {
        message: "Internal server error",
        error: error.message
      };
    }
  }

  // Show integumentary assessment for a specific patient
  // Returns empty data if no assessment exists (to allow frontend to render form)
  async show(request, reply) {
    /* istanbul ignore next */
    cov_10blaraer1().f[3]++;
    cov_10blaraer1().s[36]++;
    try {
      const {
        id
      } =
      /* istanbul ignore next */
      (cov_10blaraer1().s[37]++, request.params);
      /* istanbul ignore next */
      cov_10blaraer1().s[38]++;
      logger.info("üîç IntegumentaryAssessmentController.show called with patient_id:", id);
      const integumentaryAssessments =
      /* istanbul ignore next */
      (cov_10blaraer1().s[39]++, await db.select({
        id: integumentary_assessment.id,
        patient_id: integumentary_assessment.patient_id,
        integumentary_ids: integumentary_assessment.integumentary_ids,
        createdAt: integumentary_assessment.createdAt,
        updatedAt: integumentary_assessment.updatedAt
      }).from(integumentary_assessment).where(eq(integumentary_assessment.patient_id, id)).limit(1));
      /* istanbul ignore next */
      cov_10blaraer1().s[40]++;
      logger.info("üìä Found assessments:", integumentaryAssessments.length);
      const integumentaryAssessment =
      /* istanbul ignore next */
      (cov_10blaraer1().s[41]++, integumentaryAssessments[0]);
      /* istanbul ignore next */
      cov_10blaraer1().s[42]++;
      if (!integumentaryAssessment) {
        /* istanbul ignore next */
        cov_10blaraer1().b[4][0]++;
        cov_10blaraer1().s[43]++;
        logger.info("‚ÑπÔ∏è No integumentary assessment found for patient_id:", id, "- returning empty data");
        // Return 200 with empty data instead of 404, so frontend can render form
        /* istanbul ignore next */
        cov_10blaraer1().s[44]++;
        reply.code(200);
        /* istanbul ignore next */
        cov_10blaraer1().s[45]++;
        return {
          id: null,
          patient_id: parseInt(id),
          integumentary_ids: "",
          createdAt: null,
          updatedAt: null
        };
      } else
      /* istanbul ignore next */
      {
        cov_10blaraer1().b[4][1]++;
      }
      cov_10blaraer1().s[46]++;
      logger.info("‚úÖ Found integumentary assessment:", integumentaryAssessment.id);
      /* istanbul ignore next */
      cov_10blaraer1().s[47]++;
      reply.code(200);
      /* istanbul ignore next */
      cov_10blaraer1().s[48]++;
      return integumentaryAssessment;
    } catch (error) {
      /* istanbul ignore next */
      cov_10blaraer1().s[49]++;
      logger.error("‚ùå Error fetching integumentary assessment:", error);
      /* istanbul ignore next */
      cov_10blaraer1().s[50]++;
      reply.code(500);
      /* istanbul ignore next */
      cov_10blaraer1().s[51]++;
      return {
        message: "Internal server error",
        error: error.message
      };
    }
  }
}
export default new IntegumentaryAssessmentController();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTBibGFyYWVyMSIsImFjdHVhbENvdmVyYWdlIiwiZGIiLCJpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQiLCJpbnRlZ3VtZW50YXJ5IiwiZXEiLCJsb2dnZXIiLCJJbnRlZ3VtZW50YXJ5QXNzZXNzbWVudENvbnRyb2xsZXIiLCJpbmRleCIsInJlcXVlc3QiLCJyZXBseSIsImYiLCJzIiwiaW50ZWd1bWVudGFyeUFzc2Vzc21lbnRzIiwic2VsZWN0IiwiaWQiLCJwYXRpZW50X2lkIiwiaW50ZWd1bWVudGFyeV9pZHMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJmcm9tIiwiY29kZSIsImVycm9yIiwibWVzc2FnZSIsImludGVndW1lbnRhcnlMaXN0IiwibmFtZSIsInN0b3JlIiwiYm9keSIsImIiLCJleGlzdGluZ0Fzc2Vzc21lbnRzIiwid2hlcmUiLCJsaW1pdCIsImV4aXN0aW5nQXNzZXNzbWVudCIsImludGVndW1lbnRhcnlJZHNTdHJpbmciLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwicmVzdWx0Iiwibm93IiwiRGF0ZSIsInVwZGF0ZSIsInNldCIsInJldHVybmluZyIsImluc2VydCIsInZhbHVlcyIsImRhdGEiLCJzaG93IiwicGFyYW1zIiwiaW5mbyIsImxlbmd0aCIsImludGVndW1lbnRhcnlBc3Nlc3NtZW50IiwicGFyc2VJbnQiXSwic291cmNlcyI6WyJJbnRlZ3VtZW50YXJ5QXNzZXNzbWVudC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSBcIi4uLy4uL2NvbmZpZy9kYi5kcml6emxlLmpzXCI7XG5pbXBvcnQgeyBpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQgfSBmcm9tIFwiLi4vLi4vZGIvc2NoZW1hcy9pbnRlZ3VtZW50YXJ5QXNzZXNzbWVudC5zY2hlbWEuanNcIjtcbmltcG9ydCB7IGludGVndW1lbnRhcnkgfSBmcm9tIFwiLi4vLi4vZGIvc2NoZW1hcy9pbnRlZ3VtZW50YXJ5LnNjaGVtYS5qc1wiO1xuaW1wb3J0IHsgZXEgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmNsYXNzIEludGVndW1lbnRhcnlBc3Nlc3NtZW50Q29udHJvbGxlciB7XG4gICAgLy8gR2V0IGFsbCBpbnRlZ3VtZW50YXJ5IGFzc2Vzc21lbnRzXG4gICAgYXN5bmMgaW5kZXgocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVndW1lbnRhcnlBc3Nlc3NtZW50cyA9IGF3YWl0IGRiLnNlbGVjdCh7XG4gICAgICAgICAgICAgICAgaWQ6IGludGVndW1lbnRhcnlfYXNzZXNzbWVudC5pZCxcbiAgICAgICAgICAgICAgICBwYXRpZW50X2lkOiBpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQucGF0aWVudF9pZCxcbiAgICAgICAgICAgICAgICBpbnRlZ3VtZW50YXJ5X2lkczogaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50LmludGVndW1lbnRhcnlfaWRzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50LmNyZWF0ZWRBdCxcbiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IGludGVndW1lbnRhcnlfYXNzZXNzbWVudC51cGRhdGVkQXQsXG4gICAgICAgICAgICB9KS5mcm9tKGludGVndW1lbnRhcnlfYXNzZXNzbWVudCk7XG4gICAgICAgICAgICByZXBseS5jb2RlKDIwMCk7XG4gICAgICAgICAgICByZXR1cm4gaW50ZWd1bWVudGFyeUFzc2Vzc21lbnRzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW50ZWd1bWVudGFyeSBhc3Nlc3NtZW50czpcIiwgZXJyb3IpXG4gICAgICAgICAgICByZXBseS5jb2RlKDUwMCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBpbnRlZ3VtZW50YXJ5IG9wdGlvbnNcbiAgICBhc3luYyBpbnRlZ3VtZW50YXJ5TGlzdChyZXF1ZXN0LCByZXBseSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaW50ZWd1bWVudGFyeUxpc3QgPSBhd2FpdCBkYi5zZWxlY3Qoe1xuICAgICAgICAgICAgICAgIGlkOiBpbnRlZ3VtZW50YXJ5LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGludGVndW1lbnRhcnkubmFtZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGludGVndW1lbnRhcnkuY3JlYXRlZEF0LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogaW50ZWd1bWVudGFyeS51cGRhdGVkQXQsXG4gICAgICAgICAgICB9KS5mcm9tKGludGVndW1lbnRhcnkpO1xuICAgICAgICAgICAgcmVwbHkuY29kZSgyMDApO1xuICAgICAgICAgICAgcmV0dXJuIGludGVndW1lbnRhcnlMaXN0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW50ZWd1bWVudGFyeSBsaXN0OlwiLCBlcnJvcilcbiAgICAgICAgICAgIHJlcGx5LmNvZGUoNTAwKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIixcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdG9yZSBvciB1cGRhdGUgaW50ZWd1bWVudGFyeSBhc3Nlc3NtZW50XG4gICAgYXN5bmMgc3RvcmUocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGF0aWVudF9pZCwgaW50ZWd1bWVudGFyeV9pZHMgfSA9IHJlcXVlc3QuYm9keTtcblxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgICAgICAgICBpZiAoIXBhdGllbnRfaWQpIHtcbiAgICAgICAgICAgICAgICByZXBseS5jb2RlKDQwMCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBhdGllbnQgSUQgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWludGVndW1lbnRhcnlfaWRzKSB7XG4gICAgICAgICAgICAgICAgcmVwbHkuY29kZSg0MDApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnRlZ3VtZW50YXJ5IElEcyBhcmUgcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBpbnRlZ3VtZW50YXJ5IGFzc2Vzc21lbnQgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgcGF0aWVudFxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBc3Nlc3NtZW50cyA9IGF3YWl0IGRiLnNlbGVjdCh7IGlkOiBpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQuaWQgfSkuZnJvbShpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQpXG4gICAgICAgICAgICAgICAgLndoZXJlKGVxKGludGVndW1lbnRhcnlfYXNzZXNzbWVudC5wYXRpZW50X2lkLCBwYXRpZW50X2lkKSlcbiAgICAgICAgICAgICAgICAubGltaXQoMSk7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0Fzc2Vzc21lbnQgPSBleGlzdGluZ0Fzc2Vzc21lbnRzWzBdO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGludGVndW1lbnRhcnlfaWRzIGFycmF5IHRvIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmdcbiAgICAgICAgICAgIGNvbnN0IGludGVndW1lbnRhcnlJZHNTdHJpbmcgPSBBcnJheS5pc0FycmF5KGludGVndW1lbnRhcnlfaWRzKVxuICAgICAgICAgICAgICAgID8gaW50ZWd1bWVudGFyeV9pZHMuam9pbihcIixcIilcbiAgICAgICAgICAgICAgICA6IGludGVndW1lbnRhcnlfaWRzO1xuXG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0Fzc2Vzc21lbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaW50ZWd1bWVudGFyeSBhc3Nlc3NtZW50XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgZGIudXBkYXRlKGludGVndW1lbnRhcnlfYXNzZXNzbWVudClcbiAgICAgICAgICAgICAgICAgICAgLnNldCh7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZWd1bWVudGFyeV9pZHM6IGludGVndW1lbnRhcnlJZHNTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5vd1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAud2hlcmUoZXEoaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50LnBhdGllbnRfaWQsIHBhdGllbnRfaWQpKVxuICAgICAgICAgICAgICAgICAgICAucmV0dXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGludGVndW1lbnRhcnkgYXNzZXNzbWVudFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGRiLmluc2VydChpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQpXG4gICAgICAgICAgICAgICAgICAgIC52YWx1ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aWVudF9pZDogcGF0aWVudF9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVndW1lbnRhcnlfaWRzOiBpbnRlZ3VtZW50YXJ5SWRzU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5vdyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnJldHVybmluZygpO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVwbHkuY29kZSgyMDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkludGVndW1lbnRhcnkgYXNzZXNzbWVudCBjcmVhdGVkIG9yIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIHN0b3JpbmcgaW50ZWd1bWVudGFyeSBhc3Nlc3NtZW50OlwiLCBlcnJvcilcbiAgICAgICAgICAgIHJlcGx5LmNvZGUoNTAwKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIixcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaG93IGludGVndW1lbnRhcnkgYXNzZXNzbWVudCBmb3IgYSBzcGVjaWZpYyBwYXRpZW50XG4gICAgLy8gUmV0dXJucyBlbXB0eSBkYXRhIGlmIG5vIGFzc2Vzc21lbnQgZXhpc3RzICh0byBhbGxvdyBmcm9udGVuZCB0byByZW5kZXIgZm9ybSlcbiAgICBhc3luYyBzaG93KHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwi8J+UjSBJbnRlZ3VtZW50YXJ5QXNzZXNzbWVudENvbnRyb2xsZXIuc2hvdyBjYWxsZWQgd2l0aCBwYXRpZW50X2lkOlwiLCBpZClcblxuICAgICAgICAgICAgY29uc3QgaW50ZWd1bWVudGFyeUFzc2Vzc21lbnRzID0gYXdhaXQgZGIuc2VsZWN0KHtcbiAgICAgICAgICAgICAgICBpZDogaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50LmlkLFxuICAgICAgICAgICAgICAgIHBhdGllbnRfaWQ6IGludGVndW1lbnRhcnlfYXNzZXNzbWVudC5wYXRpZW50X2lkLFxuICAgICAgICAgICAgICAgIGludGVndW1lbnRhcnlfaWRzOiBpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQuaW50ZWd1bWVudGFyeV9pZHMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQuY3JlYXRlZEF0LFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50LnVwZGF0ZWRBdCxcbiAgICAgICAgICAgIH0pLmZyb20oaW50ZWd1bWVudGFyeV9hc3Nlc3NtZW50KVxuICAgICAgICAgICAgICAgIC53aGVyZShlcShpbnRlZ3VtZW50YXJ5X2Fzc2Vzc21lbnQucGF0aWVudF9pZCwgaWQpKVxuICAgICAgICAgICAgICAgIC5saW1pdCgxKTtcblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oXCLwn5OKIEZvdW5kIGFzc2Vzc21lbnRzOlwiLCBpbnRlZ3VtZW50YXJ5QXNzZXNzbWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgY29uc3QgaW50ZWd1bWVudGFyeUFzc2Vzc21lbnQgPSBpbnRlZ3VtZW50YXJ5QXNzZXNzbWVudHNbMF07XG5cbiAgICAgICAgICAgIGlmICghaW50ZWd1bWVudGFyeUFzc2Vzc21lbnQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuaW5mbyhcIuKEue+4jyBObyBpbnRlZ3VtZW50YXJ5IGFzc2Vzc21lbnQgZm91bmQgZm9yIHBhdGllbnRfaWQ6XCIsIGlkLCBcIi0gcmV0dXJuaW5nIGVtcHR5IGRhdGFcIilcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gMjAwIHdpdGggZW1wdHkgZGF0YSBpbnN0ZWFkIG9mIDQwNCwgc28gZnJvbnRlbmQgY2FuIHJlbmRlciBmb3JtXG4gICAgICAgICAgICAgICAgcmVwbHkuY29kZSgyMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwYXRpZW50X2lkOiBwYXJzZUludChpZCksXG4gICAgICAgICAgICAgICAgICAgIGludGVndW1lbnRhcnlfaWRzOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dnZXIuaW5mbyhcIuKchSBGb3VuZCBpbnRlZ3VtZW50YXJ5IGFzc2Vzc21lbnQ6XCIsIGludGVndW1lbnRhcnlBc3Nlc3NtZW50LmlkKVxuICAgICAgICAgICAgcmVwbHkuY29kZSgyMDApO1xuICAgICAgICAgICAgcmV0dXJuIGludGVndW1lbnRhcnlBc3Nlc3NtZW50O1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwi4p2MIEVycm9yIGZldGNoaW5nIGludGVndW1lbnRhcnkgYXNzZXNzbWVudDpcIiwgZXJyb3IpXG4gICAgICAgICAgICByZXBseS5jb2RlKDUwMCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSW50ZXJuYWwgc2VydmVyIGVycm9yXCIsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgSW50ZWd1bWVudGFyeUFzc2Vzc21lbnRDb250cm9sbGVyKCk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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