9493d8b97ffefd1cca2b19d977d5a731
/* istanbul ignore next */
function cov_2gsjpqkllx() {
  var path = "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/controllers/patient/Dnr.controller.js";
  var hash = "884a9052d0f21b5595c37536de9938455e6f5515";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/controllers/patient/Dnr.controller.js",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 21
        },
        end: {
          line: 25,
          column: 1
        }
      },
      "1": {
        start: {
          line: 9,
          column: 2
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "2": {
        start: {
          line: 10,
          column: 23
        },
        end: {
          line: 17,
          column: 16
        }
      },
      "3": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 18,
          column: 20
        }
      },
      "4": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 19,
          column: 22
        }
      },
      "5": {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 21,
          column: 42
        }
      },
      "6": {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 20
        }
      },
      "7": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 23,
          column: 39
        }
      },
      "8": {
        start: {
          line: 28,
          column: 21
        },
        end: {
          line: 122,
          column: 1
        }
      },
      "9": {
        start: {
          line: 29,
          column: 2
        },
        end: {
          line: 121,
          column: 3
        }
      },
      "10": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 64
        }
      },
      "11": {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 34,
          column: 6
        }
      },
      "12": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 45,
          column: 5
        }
      },
      "13": {
        start: {
          line: 42,
          column: 6
        },
        end: {
          line: 44,
          column: 8
        }
      },
      "14": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 54,
          column: 5
        }
      },
      "15": {
        start: {
          line: 49,
          column: 6
        },
        end: {
          line: 49,
          column: 22
        }
      },
      "16": {
        start: {
          line: 50,
          column: 6
        },
        end: {
          line: 53,
          column: 8
        }
      },
      "17": {
        start: {
          line: 57,
          column: 20
        },
        end: {
          line: 61,
          column: 5
        }
      },
      "18": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 68,
          column: 7
        }
      },
      "19": {
        start: {
          line: 65,
          column: 6
        },
        end: {
          line: 67,
          column: 7
        }
      },
      "20": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 28
        }
      },
      "21": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      "22": {
        start: {
          line: 72,
          column: 6
        },
        end: {
          line: 72,
          column: 22
        }
      },
      "23": {
        start: {
          line: 73,
          column: 6
        },
        end: {
          line: 77,
          column: 8
        }
      },
      "24": {
        start: {
          line: 81,
          column: 16
        },
        end: {
          line: 81,
          column: 26
        }
      },
      "25": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 82,
          column: 28
        }
      },
      "26": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 83,
          column: 28
        }
      },
      "27": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 88,
          column: 6
        }
      },
      "28": {
        start: {
          line: 90,
          column: 19
        },
        end: {
          line: 90,
          column: 67
        }
      },
      "29": {
        start: {
          line: 91,
          column: 19
        },
        end: {
          line: 91,
          column: 28
        }
      },
      "30": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 60
        }
      },
      "31": {
        start: {
          line: 95,
          column: 4
        },
        end: {
          line: 95,
          column: 20
        }
      },
      "32": {
        start: {
          line: 96,
          column: 4
        },
        end: {
          line: 99,
          column: 6
        }
      },
      "33": {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 101,
          column: 48
        }
      },
      "34": {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 102,
          column: 47
        }
      },
      "35": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 108,
          column: 7
        }
      },
      "36": {
        start: {
          line: 111,
          column: 20
        },
        end: {
          line: 111,
          column: 40
        }
      },
      "37": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 113,
          column: 20
        }
      },
      "38": {
        start: {
          line: 114,
          column: 4
        },
        end: {
          line: 120,
          column: 6
        }
      },
      "39": {
        start: {
          line: 125,
          column: 20
        },
        end: {
          line: 154,
          column: 1
        }
      },
      "40": {
        start: {
          line: 126,
          column: 2
        },
        end: {
          line: 153,
          column: 3
        }
      },
      "41": {
        start: {
          line: 127,
          column: 19
        },
        end: {
          line: 127,
          column: 33
        }
      },
      "42": {
        start: {
          line: 128,
          column: 23
        },
        end: {
          line: 139,
          column: 15
        }
      },
      "43": {
        start: {
          line: 140,
          column: 22
        },
        end: {
          line: 140,
          column: 35
        }
      },
      "44": {
        start: {
          line: 142,
          column: 4
        },
        end: {
          line: 145,
          column: 5
        }
      },
      "45": {
        start: {
          line: 143,
          column: 6
        },
        end: {
          line: 143,
          column: 22
        }
      },
      "46": {
        start: {
          line: 144,
          column: 6
        },
        end: {
          line: 144,
          column: 47
        }
      },
      "47": {
        start: {
          line: 147,
          column: 4
        },
        end: {
          line: 147,
          column: 20
        }
      },
      "48": {
        start: {
          line: 148,
          column: 4
        },
        end: {
          line: 148,
          column: 21
        }
      },
      "49": {
        start: {
          line: 150,
          column: 4
        },
        end: {
          line: 150,
          column: 41
        }
      },
      "50": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 151,
          column: 20
        }
      },
      "51": {
        start: {
          line: 152,
          column: 4
        },
        end: {
          line: 152,
          column: 39
        }
      },
      "52": {
        start: {
          line: 157,
          column: 22
        },
        end: {
          line: 194,
          column: 1
        }
      },
      "53": {
        start: {
          line: 158,
          column: 2
        },
        end: {
          line: 193,
          column: 3
        }
      },
      "54": {
        start: {
          line: 162,
          column: 19
        },
        end: {
          line: 162,
          column: 33
        }
      },
      "55": {
        start: {
          line: 163,
          column: 20
        },
        end: {
          line: 163,
          column: 32
        }
      },
      "56": {
        start: {
          line: 165,
          column: 23
        },
        end: {
          line: 169,
          column: 15
        }
      },
      "57": {
        start: {
          line: 170,
          column: 22
        },
        end: {
          line: 170,
          column: 35
        }
      },
      "58": {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 175,
          column: 5
        }
      },
      "59": {
        start: {
          line: 173,
          column: 6
        },
        end: {
          line: 173,
          column: 22
        }
      },
      "60": {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 174,
          column: 47
        }
      },
      "61": {
        start: {
          line: 177,
          column: 23
        },
        end: {
          line: 181,
          column: 18
        }
      },
      "62": {
        start: {
          line: 182,
          column: 19
        },
        end: {
          line: 182,
          column: 32
        }
      },
      "63": {
        start: {
          line: 184,
          column: 4
        },
        end: {
          line: 184,
          column: 20
        }
      },
      "64": {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 188,
          column: 6
        }
      },
      "65": {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 190,
          column: 43
        }
      },
      "66": {
        start: {
          line: 191,
          column: 4
        },
        end: {
          line: 191,
          column: 20
        }
      },
      "67": {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 192,
          column: 39
        }
      },
      "68": {
        start: {
          line: 197,
          column: 23
        },
        end: {
          line: 224,
          column: 1
        }
      },
      "69": {
        start: {
          line: 198,
          column: 2
        },
        end: {
          line: 223,
          column: 3
        }
      },
      "70": {
        start: {
          line: 199,
          column: 19
        },
        end: {
          line: 199,
          column: 33
        }
      },
      "71": {
        start: {
          line: 201,
          column: 23
        },
        end: {
          line: 205,
          column: 15
        }
      },
      "72": {
        start: {
          line: 206,
          column: 22
        },
        end: {
          line: 206,
          column: 35
        }
      },
      "73": {
        start: {
          line: 208,
          column: 4
        },
        end: {
          line: 211,
          column: 5
        }
      },
      "74": {
        start: {
          line: 209,
          column: 6
        },
        end: {
          line: 209,
          column: 22
        }
      },
      "75": {
        start: {
          line: 210,
          column: 6
        },
        end: {
          line: 210,
          column: 47
        }
      },
      "76": {
        start: {
          line: 213,
          column: 4
        },
        end: {
          line: 213,
          column: 47
        }
      },
      "77": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 215,
          column: 20
        }
      },
      "78": {
        start: {
          line: 216,
          column: 4
        },
        end: {
          line: 218,
          column: 6
        }
      },
      "79": {
        start: {
          line: 220,
          column: 4
        },
        end: {
          line: 220,
          column: 44
        }
      },
      "80": {
        start: {
          line: 221,
          column: 4
        },
        end: {
          line: 221,
          column: 20
        }
      },
      "81": {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 222,
          column: 39
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 21
          },
          end: {
            line: 8,
            column: 22
          }
        },
        loc: {
          start: {
            line: 8,
            column: 47
          },
          end: {
            line: 25,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 28,
            column: 21
          },
          end: {
            line: 28,
            column: 22
          }
        },
        loc: {
          start: {
            line: 28,
            column: 47
          },
          end: {
            line: 122,
            column: 1
          }
        },
        line: 28
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 64,
            column: 33
          },
          end: {
            line: 64,
            column: 34
          }
        },
        loc: {
          start: {
            line: 64,
            column: 42
          },
          end: {
            line: 68,
            column: 5
          }
        },
        line: 64
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 125,
            column: 20
          },
          end: {
            line: 125,
            column: 21
          }
        },
        loc: {
          start: {
            line: 125,
            column: 46
          },
          end: {
            line: 154,
            column: 1
          }
        },
        line: 125
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 157,
            column: 22
          },
          end: {
            line: 157,
            column: 23
          }
        },
        loc: {
          start: {
            line: 157,
            column: 48
          },
          end: {
            line: 194,
            column: 1
          }
        },
        line: 157
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 197,
            column: 23
          },
          end: {
            line: 197,
            column: 24
          }
        },
        loc: {
          start: {
            line: 197,
            column: 49
          },
          end: {
            line: 224,
            column: 1
          }
        },
        line: 197
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "1": {
        loc: {
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 48,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 48,
            column: 21
          }
        }, {
          start: {
            line: 48,
            column: 25
          },
          end: {
            line: 48,
            column: 63
          }
        }],
        line: 48
      },
      "2": {
        loc: {
          start: {
            line: 58,
            column: 18
          },
          end: {
            line: 58,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 18
          },
          end: {
            line: 58,
            column: 41
          }
        }, {
          start: {
            line: 58,
            column: 45
          },
          end: {
            line: 58,
            column: 67
          }
        }, {
          start: {
            line: 58,
            column: 71
          },
          end: {
            line: 58,
            column: 75
          }
        }],
        line: 58
      },
      "3": {
        loc: {
          start: {
            line: 59,
            column: 16
          },
          end: {
            line: 59,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 16
          },
          end: {
            line: 59,
            column: 37
          }
        }, {
          start: {
            line: 59,
            column: 41
          },
          end: {
            line: 59,
            column: 61
          }
        }, {
          start: {
            line: 59,
            column: 65
          },
          end: {
            line: 59,
            column: 69
          }
        }],
        line: 59
      },
      "4": {
        loc: {
          start: {
            line: 60,
            column: 17
          },
          end: {
            line: 60,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 60,
            column: 17
          },
          end: {
            line: 60,
            column: 39
          }
        }, {
          start: {
            line: 60,
            column: 43
          },
          end: {
            line: 60,
            column: 64
          }
        }, {
          start: {
            line: 60,
            column: 68
          },
          end: {
            line: 60,
            column: 72
          }
        }],
        line: 60
      },
      "5": {
        loc: {
          start: {
            line: 65,
            column: 6
          },
          end: {
            line: 67,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 6
          },
          end: {
            line: 67,
            column: 7
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 65
      },
      "6": {
        loc: {
          start: {
            line: 65,
            column: 10
          },
          end: {
            line: 65,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 65,
            column: 10
          },
          end: {
            line: 65,
            column: 36
          }
        }, {
          start: {
            line: 65,
            column: 40
          },
          end: {
            line: 65,
            column: 61
          }
        }],
        line: 65
      },
      "7": {
        loc: {
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "8": {
        loc: {
          start: {
            line: 111,
            column: 20
          },
          end: {
            line: 111,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 111,
            column: 20
          },
          end: {
            line: 111,
            column: 31
          }
        }, {
          start: {
            line: 111,
            column: 35
          },
          end: {
            line: 111,
            column: 40
          }
        }],
        line: 111
      },
      "9": {
        loc: {
          start: {
            line: 142,
            column: 4
          },
          end: {
            line: 145,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 142,
            column: 4
          },
          end: {
            line: 145,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 142
      },
      "10": {
        loc: {
          start: {
            line: 172,
            column: 4
          },
          end: {
            line: 175,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 172,
            column: 4
          },
          end: {
            line: 175,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 172
      },
      "11": {
        loc: {
          start: {
            line: 208,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 208
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0, 0],
      "3": [0, 0, 0],
      "4": [0, 0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "884a9052d0f21b5595c37536de9938455e6f5515"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2gsjpqkllx = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2gsjpqkllx();
// Note: express-validator replaced with Fastify schema validation
import { db } from "../../config/db.drizzle.js";
import { dnr } from "../../db/schemas/dnr.schema.js";
import { eq } from "drizzle-orm";
import { logger } from '../../utils/logger.js';
// Get all DNR records
/* istanbul ignore next */
cov_2gsjpqkllx().s[0]++;
export const index = async (request, reply) => {
  /* istanbul ignore next */
  cov_2gsjpqkllx().f[0]++;
  cov_2gsjpqkllx().s[1]++;
  try {
    const dnrRecords =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[2]++, await db.select({
      id: dnr.id,
      dnr_status: dnr.dnr_status,
      dnr_date: dnr.dnr_date,
      dnr_notes: dnr.dnr_notes,
      createdAt: dnr.createdAt,
      updatedAt: dnr.updatedAt
    }).from(dnr));
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[3]++;
    reply.code(200);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[4]++;
    return dnrRecords;
  } catch (error) {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[5]++;
    logger.error("Error in index:", error);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[6]++;
    reply.code(500);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[7]++;
    return {
      message: "Server error"
    };
  }
};

// Create a new DNR record
/* istanbul ignore next */
cov_2gsjpqkllx().s[8]++;
export const store = async (request, reply) => {
  /* istanbul ignore next */
  cov_2gsjpqkllx().f[1]++;
  cov_2gsjpqkllx().s[9]++;
  try {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[10]++;
    logger.info("ðŸ” Dnr store called - User:", request.user?.id);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[11]++;
    console.log("ðŸ” Dnr store - Request body:", JSON.stringify(request.body, null, 2));

    // Try to get validation errors (if validation middleware was used)
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[12]++;
    try {
      // Note: Validation should be done in route schema
      // Validation handled in route schema
    } catch (validationError) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[13]++;
      // Validation middleware might not be set up, that's okay
      console.log("âš ï¸  Validation middleware not detected, skipping validation");
    }

    // Check if request body is empty
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[14]++;
    if (
    /* istanbul ignore next */
    (cov_2gsjpqkllx().b[1][0]++, !request.body) ||
    /* istanbul ignore next */
    (cov_2gsjpqkllx().b[1][1]++, Object.keys(request.body).length === 0)) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().b[0][0]++;
      cov_2gsjpqkllx().s[15]++;
      reply.code(400);
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[16]++;
      return {
        message: "Request body is empty",
        error: "No data provided to create DNR record"
      };
    } else
    /* istanbul ignore next */
    {
      cov_2gsjpqkllx().b[0][1]++;
    }

    // Prepare data for insertion - exclude id (auto-generated) and only include valid fields
    const dnrData =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[17]++, {
      dnr_status:
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[2][0]++, request.body.dnr_status) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[2][1]++, request.body.dnrStatus) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[2][2]++, null),
      dnr_date:
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[3][0]++, request.body.dnr_date) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[3][1]++, request.body.dnrDate) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[3][2]++, null),
      dnr_notes:
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[4][0]++, request.body.dnr_notes) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[4][1]++, request.body.dnrNotes) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[4][2]++, null)
    });

    // Remove undefined and null values to avoid default insertion
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[18]++;
    Object.keys(dnrData).forEach(key => {
      /* istanbul ignore next */
      cov_2gsjpqkllx().f[2]++;
      cov_2gsjpqkllx().s[19]++;
      if (
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[6][0]++, dnrData[key] === undefined) ||
      /* istanbul ignore next */
      (cov_2gsjpqkllx().b[6][1]++, dnrData[key] === null)) {
        /* istanbul ignore next */
        cov_2gsjpqkllx().b[5][0]++;
        cov_2gsjpqkllx().s[20]++;
        delete dnrData[key];
      } else
      /* istanbul ignore next */
      {
        cov_2gsjpqkllx().b[5][1]++;
      }
    });

    // If no data fields remain, return error
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[21]++;
    if (Object.keys(dnrData).length === 0) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().b[7][0]++;
      cov_2gsjpqkllx().s[22]++;
      reply.code(400);
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[23]++;
      return {
        message: "No valid data provided",
        error: "At least one field (dnr_status, dnr_date, or dnr_notes) must be provided"
      };
    } else
    /* istanbul ignore next */
    {
      cov_2gsjpqkllx().b[7][1]++;
    }

    // Explicitly set timestamps - Drizzle might not apply defaults correctly
    const now =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[24]++, new Date());
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[25]++;
    dnrData.createdAt = now;
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[26]++;
    dnrData.updatedAt = now;
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[27]++;
    console.log("ðŸ” Dnr store - Prepared data for insert:", JSON.stringify(dnrData, null, 2));
    const newDnr =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[28]++, await db.insert(dnr).values(dnrData).returning());
    const result =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[29]++, newDnr[0]);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[30]++;
    logger.info("âœ… Dnr store - Created record:", result?.id);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[31]++;
    reply.code(201);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[32]++;
    return {
      message: "DNR record created successfully.",
      data: result
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[33]++;
    logger.error("âŒ Error in Dnr store:", error);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[34]++;
    logger.error("âŒ Error stack:", error.stack);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[35]++;
    console.error("âŒ Error details:", {
      message: error.message,
      code: error.code,
      detail: error.detail,
      hint: error.hint
    });

    // Extract database error details from error.cause if available
    const dbError =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[36]++,
    /* istanbul ignore next */
    (cov_2gsjpqkllx().b[8][0]++, error.cause) ||
    /* istanbul ignore next */
    (cov_2gsjpqkllx().b[8][1]++, error));
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[37]++;
    reply.code(500);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[38]++;
    return {
      message: "Server error",
      error: error.message,
      code: dbError.code,
      detail: dbError.detail,
      hint: dbError.hint
    };
  }
};

// Get DNR record by ID
/* istanbul ignore next */
cov_2gsjpqkllx().s[39]++;
export const show = async (request, reply) => {
  /* istanbul ignore next */
  cov_2gsjpqkllx().f[3]++;
  cov_2gsjpqkllx().s[40]++;
  try {
    const {
      id
    } =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[41]++, request.params);
    const dnrRecords =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[42]++, await db.select({
      id: dnr.id,
      dnr_status: dnr.dnr_status,
      dnr_date: dnr.dnr_date,
      dnr_notes: dnr.dnr_notes,
      createdAt: dnr.createdAt,
      updatedAt: dnr.updatedAt
    }).from(dnr).where(eq(dnr.id, id)).limit(1));
    const dnrRecord =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[43]++, dnrRecords[0]);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[44]++;
    if (!dnrRecord) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().b[9][0]++;
      cov_2gsjpqkllx().s[45]++;
      reply.code(404);
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[46]++;
      return {
        error: "DNR record not found"
      };
    } else
    /* istanbul ignore next */
    {
      cov_2gsjpqkllx().b[9][1]++;
    }
    cov_2gsjpqkllx().s[47]++;
    reply.code(200);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[48]++;
    return dnrRecord;
  } catch (error) {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[49]++;
    logger.error("Error in show:", error);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[50]++;
    reply.code(500);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[51]++;
    return {
      message: "Server error"
    };
  }
};

// Update DNR record by ID
/* istanbul ignore next */
cov_2gsjpqkllx().s[52]++;
export const update = async (request, reply) => {
  /* istanbul ignore next */
  cov_2gsjpqkllx().f[4]++;
  cov_2gsjpqkllx().s[53]++;
  try {
    // Note: Validation should be done in route schema
    // Validation handled in route schema

    const {
      id
    } =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[54]++, request.params);
    const dnrData =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[55]++, request.body);
    const dnrRecords =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[56]++, await db.select({
      id: dnr.id
    }).from(dnr).where(eq(dnr.id, id)).limit(1));
    const dnrRecord =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[57]++, dnrRecords[0]);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[58]++;
    if (!dnrRecord) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().b[10][0]++;
      cov_2gsjpqkllx().s[59]++;
      reply.code(404);
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[60]++;
      return {
        error: "DNR record not found"
      };
    } else
    /* istanbul ignore next */
    {
      cov_2gsjpqkllx().b[10][1]++;
    }
    const updatedDnr =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[61]++, await db.update(dnr).set(dnrData).where(eq(dnr.id, id)).returning());
    const result =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[62]++, updatedDnr[0]);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[63]++;
    reply.code(200);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[64]++;
    return {
      message: "DNR record updated successfully.",
      data: result
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[65]++;
    logger.error("Error in update:", error);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[66]++;
    reply.code(500);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[67]++;
    return {
      message: "Server error"
    };
  }
};

// Delete DNR record by ID
/* istanbul ignore next */
cov_2gsjpqkllx().s[68]++;
export const destroy = async (request, reply) => {
  /* istanbul ignore next */
  cov_2gsjpqkllx().f[5]++;
  cov_2gsjpqkllx().s[69]++;
  try {
    const {
      id
    } =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[70]++, request.params);
    const dnrRecords =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[71]++, await db.select({
      id: dnr.id
    }).from(dnr).where(eq(dnr.id, id)).limit(1));
    const dnrRecord =
    /* istanbul ignore next */
    (cov_2gsjpqkllx().s[72]++, dnrRecords[0]);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[73]++;
    if (!dnrRecord) {
      /* istanbul ignore next */
      cov_2gsjpqkllx().b[11][0]++;
      cov_2gsjpqkllx().s[74]++;
      reply.code(404);
      /* istanbul ignore next */
      cov_2gsjpqkllx().s[75]++;
      return {
        error: "DNR record not found"
      };
    } else
    /* istanbul ignore next */
    {
      cov_2gsjpqkllx().b[11][1]++;
    }
    cov_2gsjpqkllx().s[76]++;
    await db.delete(dnr).where(eq(dnr.id, id));
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[77]++;
    reply.code(200);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[78]++;
    return {
      message: "DNR record deleted successfully."
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[79]++;
    logger.error("Error in destroy:", error);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[80]++;
    reply.code(500);
    /* istanbul ignore next */
    cov_2gsjpqkllx().s[81]++;
    return {
      message: "Server error"
    };
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmdzanBxa2xseCIsImFjdHVhbENvdmVyYWdlIiwiZGIiLCJkbnIiLCJlcSIsImxvZ2dlciIsInMiLCJpbmRleCIsInJlcXVlc3QiLCJyZXBseSIsImYiLCJkbnJSZWNvcmRzIiwic2VsZWN0IiwiaWQiLCJkbnJfc3RhdHVzIiwiZG5yX2RhdGUiLCJkbnJfbm90ZXMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJmcm9tIiwiY29kZSIsImVycm9yIiwibWVzc2FnZSIsInN0b3JlIiwiaW5mbyIsInVzZXIiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImJvZHkiLCJ2YWxpZGF0aW9uRXJyb3IiLCJiIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImRuckRhdGEiLCJkbnJTdGF0dXMiLCJkbnJEYXRlIiwiZG5yTm90ZXMiLCJmb3JFYWNoIiwia2V5IiwidW5kZWZpbmVkIiwibm93IiwiRGF0ZSIsIm5ld0RuciIsImluc2VydCIsInZhbHVlcyIsInJldHVybmluZyIsInJlc3VsdCIsImRhdGEiLCJzdGFjayIsImRldGFpbCIsImhpbnQiLCJkYkVycm9yIiwiY2F1c2UiLCJzaG93IiwicGFyYW1zIiwid2hlcmUiLCJsaW1pdCIsImRuclJlY29yZCIsInVwZGF0ZSIsInVwZGF0ZWREbnIiLCJzZXQiLCJkZXN0cm95IiwiZGVsZXRlIl0sInNvdXJjZXMiOlsiRG5yLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTm90ZTogZXhwcmVzcy12YWxpZGF0b3IgcmVwbGFjZWQgd2l0aCBGYXN0aWZ5IHNjaGVtYSB2YWxpZGF0aW9uXG5pbXBvcnQgeyBkYiB9IGZyb20gXCIuLi8uLi9jb25maWcvZGIuZHJpenpsZS5qc1wiO1xuaW1wb3J0IHsgZG5yIH0gZnJvbSBcIi4uLy4uL2RiL3NjaGVtYXMvZG5yLnNjaGVtYS5qc1wiO1xuaW1wb3J0IHsgZXEgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2VyLmpzJztcbi8vIEdldCBhbGwgRE5SIHJlY29yZHNcbmV4cG9ydCBjb25zdCBpbmRleCA9IGFzeW5jIChyZXF1ZXN0LCByZXBseSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRuclJlY29yZHMgPSBhd2FpdCBkYi5zZWxlY3Qoe1xuICAgICAgaWQ6IGRuci5pZCxcbiAgICAgIGRucl9zdGF0dXM6IGRuci5kbnJfc3RhdHVzLFxuICAgICAgZG5yX2RhdGU6IGRuci5kbnJfZGF0ZSxcbiAgICAgIGRucl9ub3RlczogZG5yLmRucl9ub3RlcyxcbiAgICAgIGNyZWF0ZWRBdDogZG5yLmNyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRBdDogZG5yLnVwZGF0ZWRBdCxcbiAgICB9KS5mcm9tKGRucik7XG4gICAgcmVwbHkuY29kZSgyMDApO1xuICAgIHJldHVybiBkbnJSZWNvcmRzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGluIGluZGV4OlwiLCBlcnJvcilcbiAgICByZXBseS5jb2RlKDUwMCk7XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9O1xuICB9XG59O1xuXG4vLyBDcmVhdGUgYSBuZXcgRE5SIHJlY29yZFxuZXhwb3J0IGNvbnN0IHN0b3JlID0gYXN5bmMgKHJlcXVlc3QsIHJlcGx5KSA9PiB7XG4gIHRyeSB7XG4gICAgbG9nZ2VyLmluZm8oXCLwn5SNIERuciBzdG9yZSBjYWxsZWQgLSBVc2VyOlwiLCByZXF1ZXN0LnVzZXI/LmlkKVxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCLwn5SNIERuciBzdG9yZSAtIFJlcXVlc3QgYm9keTpcIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KHJlcXVlc3QuYm9keSwgbnVsbCwgMilcbiAgICApO1xuXG4gICAgLy8gVHJ5IHRvIGdldCB2YWxpZGF0aW9uIGVycm9ycyAoaWYgdmFsaWRhdGlvbiBtaWRkbGV3YXJlIHdhcyB1c2VkKVxuICAgIHRyeSB7XG4gICAgICAvLyBOb3RlOiBWYWxpZGF0aW9uIHNob3VsZCBiZSBkb25lIGluIHJvdXRlIHNjaGVtYVxuICAgICAgLy8gVmFsaWRhdGlvbiBoYW5kbGVkIGluIHJvdXRlIHNjaGVtYVxuICAgIH0gY2F0Y2ggKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgLy8gVmFsaWRhdGlvbiBtaWRkbGV3YXJlIG1pZ2h0IG5vdCBiZSBzZXQgdXAsIHRoYXQncyBva2F5XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCLimqDvuI8gIFZhbGlkYXRpb24gbWlkZGxld2FyZSBub3QgZGV0ZWN0ZWQsIHNraXBwaW5nIHZhbGlkYXRpb25cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiByZXF1ZXN0IGJvZHkgaXMgZW1wdHlcbiAgICBpZiAoIXJlcXVlc3QuYm9keSB8fCBPYmplY3Qua2V5cyhyZXF1ZXN0LmJvZHkpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVwbHkuY29kZSg0MDApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogXCJSZXF1ZXN0IGJvZHkgaXMgZW1wdHlcIixcbiAgICAgICAgZXJyb3I6IFwiTm8gZGF0YSBwcm92aWRlZCB0byBjcmVhdGUgRE5SIHJlY29yZFwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIGluc2VydGlvbiAtIGV4Y2x1ZGUgaWQgKGF1dG8tZ2VuZXJhdGVkKSBhbmQgb25seSBpbmNsdWRlIHZhbGlkIGZpZWxkc1xuICAgIGNvbnN0IGRuckRhdGEgPSB7XG4gICAgICBkbnJfc3RhdHVzOiByZXF1ZXN0LmJvZHkuZG5yX3N0YXR1cyB8fCByZXF1ZXN0LmJvZHkuZG5yU3RhdHVzIHx8IG51bGwsXG4gICAgICBkbnJfZGF0ZTogcmVxdWVzdC5ib2R5LmRucl9kYXRlIHx8IHJlcXVlc3QuYm9keS5kbnJEYXRlIHx8IG51bGwsXG4gICAgICBkbnJfbm90ZXM6IHJlcXVlc3QuYm9keS5kbnJfbm90ZXMgfHwgcmVxdWVzdC5ib2R5LmRuck5vdGVzIHx8IG51bGwsXG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIGF2b2lkIGRlZmF1bHQgaW5zZXJ0aW9uXG4gICAgT2JqZWN0LmtleXMoZG5yRGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoZG5yRGF0YVtrZXldID09PSB1bmRlZmluZWQgfHwgZG5yRGF0YVtrZXldID09PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSBkbnJEYXRhW2tleV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJZiBubyBkYXRhIGZpZWxkcyByZW1haW4sIHJldHVybiBlcnJvclxuICAgIGlmIChPYmplY3Qua2V5cyhkbnJEYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlcGx5LmNvZGUoNDAwKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IFwiTm8gdmFsaWQgZGF0YSBwcm92aWRlZFwiLFxuICAgICAgICBlcnJvcjpcbiAgICAgICAgICBcIkF0IGxlYXN0IG9uZSBmaWVsZCAoZG5yX3N0YXR1cywgZG5yX2RhdGUsIG9yIGRucl9ub3RlcykgbXVzdCBiZSBwcm92aWRlZFwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBFeHBsaWNpdGx5IHNldCB0aW1lc3RhbXBzIC0gRHJpenpsZSBtaWdodCBub3QgYXBwbHkgZGVmYXVsdHMgY29ycmVjdGx5XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBkbnJEYXRhLmNyZWF0ZWRBdCA9IG5vdztcbiAgICBkbnJEYXRhLnVwZGF0ZWRBdCA9IG5vdztcblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCLwn5SNIERuciBzdG9yZSAtIFByZXBhcmVkIGRhdGEgZm9yIGluc2VydDpcIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KGRuckRhdGEsIG51bGwsIDIpXG4gICAgKTtcblxuICAgIGNvbnN0IG5ld0RuciA9IGF3YWl0IGRiLmluc2VydChkbnIpLnZhbHVlcyhkbnJEYXRhKS5yZXR1cm5pbmcoKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXdEbnJbMF07XG5cbiAgICBsb2dnZXIuaW5mbyhcIuKchSBEbnIgc3RvcmUgLSBDcmVhdGVkIHJlY29yZDpcIiwgcmVzdWx0Py5pZClcblxuICAgIHJlcGx5LmNvZGUoMjAxKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogXCJETlIgcmVjb3JkIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LlwiLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKFwi4p2MIEVycm9yIGluIERuciBzdG9yZTpcIiwgZXJyb3IpXG4gICAgbG9nZ2VyLmVycm9yKFwi4p2MIEVycm9yIHN0YWNrOlwiLCBlcnJvci5zdGFjaylcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycm9yIGRldGFpbHM6XCIsIHtcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgZGV0YWlsOiBlcnJvci5kZXRhaWwsXG4gICAgICBoaW50OiBlcnJvci5oaW50LFxuICAgIH0pO1xuXG4gICAgLy8gRXh0cmFjdCBkYXRhYmFzZSBlcnJvciBkZXRhaWxzIGZyb20gZXJyb3IuY2F1c2UgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgZGJFcnJvciA9IGVycm9yLmNhdXNlIHx8IGVycm9yO1xuXG4gICAgcmVwbHkuY29kZSg1MDApO1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiBcIlNlcnZlciBlcnJvclwiLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBjb2RlOiBkYkVycm9yLmNvZGUsXG4gICAgICBkZXRhaWw6IGRiRXJyb3IuZGV0YWlsLFxuICAgICAgaGludDogZGJFcnJvci5oaW50LFxuICAgIH07XG4gIH1cbn07XG5cbi8vIEdldCBETlIgcmVjb3JkIGJ5IElEXG5leHBvcnQgY29uc3Qgc2hvdyA9IGFzeW5jIChyZXF1ZXN0LCByZXBseSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcXVlc3QucGFyYW1zO1xuICAgIGNvbnN0IGRuclJlY29yZHMgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7XG4gICAgICAgIGlkOiBkbnIuaWQsXG4gICAgICAgIGRucl9zdGF0dXM6IGRuci5kbnJfc3RhdHVzLFxuICAgICAgICBkbnJfZGF0ZTogZG5yLmRucl9kYXRlLFxuICAgICAgICBkbnJfbm90ZXM6IGRuci5kbnJfbm90ZXMsXG4gICAgICAgIGNyZWF0ZWRBdDogZG5yLmNyZWF0ZWRBdCxcbiAgICAgICAgdXBkYXRlZEF0OiBkbnIudXBkYXRlZEF0LFxuICAgICAgfSlcbiAgICAgIC5mcm9tKGRucilcbiAgICAgIC53aGVyZShlcShkbnIuaWQsIGlkKSlcbiAgICAgIC5saW1pdCgxKTtcbiAgICBjb25zdCBkbnJSZWNvcmQgPSBkbnJSZWNvcmRzWzBdO1xuXG4gICAgaWYgKCFkbnJSZWNvcmQpIHtcbiAgICAgIHJlcGx5LmNvZGUoNDA0KTtcbiAgICAgIHJldHVybiB7IGVycm9yOiBcIkROUiByZWNvcmQgbm90IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICByZXBseS5jb2RlKDIwMCk7XG4gICAgcmV0dXJuIGRuclJlY29yZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBpbiBzaG93OlwiLCBlcnJvcilcbiAgICByZXBseS5jb2RlKDUwMCk7XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9O1xuICB9XG59O1xuXG4vLyBVcGRhdGUgRE5SIHJlY29yZCBieSBJRFxuZXhwb3J0IGNvbnN0IHVwZGF0ZSA9IGFzeW5jIChyZXF1ZXN0LCByZXBseSkgPT4ge1xuICB0cnkge1xuICAgIC8vIE5vdGU6IFZhbGlkYXRpb24gc2hvdWxkIGJlIGRvbmUgaW4gcm91dGUgc2NoZW1hXG4gICAgLy8gVmFsaWRhdGlvbiBoYW5kbGVkIGluIHJvdXRlIHNjaGVtYVxuXG4gICAgY29uc3QgeyBpZCB9ID0gcmVxdWVzdC5wYXJhbXM7XG4gICAgY29uc3QgZG5yRGF0YSA9IHJlcXVlc3QuYm9keTtcblxuICAgIGNvbnN0IGRuclJlY29yZHMgPSBhd2FpdCBkYlxuICAgICAgLnNlbGVjdCh7IGlkOiBkbnIuaWQgfSlcbiAgICAgIC5mcm9tKGRucilcbiAgICAgIC53aGVyZShlcShkbnIuaWQsIGlkKSlcbiAgICAgIC5saW1pdCgxKTtcbiAgICBjb25zdCBkbnJSZWNvcmQgPSBkbnJSZWNvcmRzWzBdO1xuXG4gICAgaWYgKCFkbnJSZWNvcmQpIHtcbiAgICAgIHJlcGx5LmNvZGUoNDA0KTtcbiAgICAgIHJldHVybiB7IGVycm9yOiBcIkROUiByZWNvcmQgbm90IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkRG5yID0gYXdhaXQgZGJcbiAgICAgIC51cGRhdGUoZG5yKVxuICAgICAgLnNldChkbnJEYXRhKVxuICAgICAgLndoZXJlKGVxKGRuci5pZCwgaWQpKVxuICAgICAgLnJldHVybmluZygpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVwZGF0ZWREbnJbMF07XG5cbiAgICByZXBseS5jb2RlKDIwMCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IFwiRE5SIHJlY29yZCB1cGRhdGVkIHN1Y2Nlc3NmdWxseS5cIixcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGluIHVwZGF0ZTpcIiwgZXJyb3IpXG4gICAgcmVwbHkuY29kZSg1MDApO1xuICAgIHJldHVybiB7IG1lc3NhZ2U6IFwiU2VydmVyIGVycm9yXCIgfTtcbiAgfVxufTtcblxuLy8gRGVsZXRlIEROUiByZWNvcmQgYnkgSURcbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gYXN5bmMgKHJlcXVlc3QsIHJlcGx5KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxdWVzdC5wYXJhbXM7XG5cbiAgICBjb25zdCBkbnJSZWNvcmRzID0gYXdhaXQgZGJcbiAgICAgIC5zZWxlY3QoeyBpZDogZG5yLmlkIH0pXG4gICAgICAuZnJvbShkbnIpXG4gICAgICAud2hlcmUoZXEoZG5yLmlkLCBpZCkpXG4gICAgICAubGltaXQoMSk7XG4gICAgY29uc3QgZG5yUmVjb3JkID0gZG5yUmVjb3Jkc1swXTtcblxuICAgIGlmICghZG5yUmVjb3JkKSB7XG4gICAgICByZXBseS5jb2RlKDQwNCk7XG4gICAgICByZXR1cm4geyBlcnJvcjogXCJETlIgcmVjb3JkIG5vdCBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgYXdhaXQgZGIuZGVsZXRlKGRucikud2hlcmUoZXEoZG5yLmlkLCBpZCkpO1xuXG4gICAgcmVwbHkuY29kZSgyMDApO1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiBcIkROUiByZWNvcmQgZGVsZXRlZCBzdWNjZXNzZnVsbHkuXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBpbiBkZXN0cm95OlwiLCBlcnJvcilcbiAgICByZXBseS5jb2RlKDUwMCk7XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogXCJTZXJ2ZXIgZXJyb3JcIiB9O1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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