{"version":3,"names":["cov_7j73wuimq","actualCoverage","controller","PERMISSIONS","requireAnyPermission","encounterRoutes","fastify","options","f","s","get","preHandler","VIEW_CLINICAL_NOTES","index","post","CREATE_CLINICAL_NOTES","store","show","patch","UPDATE_CLINICAL_NOTES","update","delete","DELETE_CLINICAL_NOTES","destroy","sign","cosign","addAddendum","addAmendment","getUnsigned","getByDiscipline","VIEW_PATIENT","getPatientEncounters"],"sources":["encounter.routes.js"],"sourcesContent":["import controller from '../controllers/Encounter.controller.js';\nimport { PERMISSIONS } from '../config/rbac.js';\nimport { requireAnyPermission } from '../middleware/rbac.middleware.js';\n\n/**\n * Encounter Routes\n * Clinical encounter documentation - Required for billing\n */\nexport default async function encounterRoutes(fastify, options) {\n  // Main encounter CRUD routes\n  fastify.get('/encounters', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.index);\n\n  fastify.post('/encounters', {\n    preHandler: [requireAnyPermission(PERMISSIONS.CREATE_CLINICAL_NOTES)]\n  }, controller.store);\n\n  fastify.get('/encounters/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.show);\n\n  fastify.patch('/encounters/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.update);\n\n  fastify.delete('/encounters/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.DELETE_CLINICAL_NOTES)]\n  }, controller.destroy);\n\n  // Signature routes\n  fastify.post('/encounters/:id/sign', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.sign);\n\n  fastify.post('/encounters/:id/cosign', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.cosign);\n\n  // Addendum and amendment routes\n  fastify.post('/encounters/:id/addendum', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.addAddendum);\n\n  fastify.post('/encounters/:id/amendments', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.addAmendment);\n\n  // Query routes\n  fastify.get('/encounters/unsigned', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getUnsigned);\n\n  fastify.get('/encounters/by-discipline', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getByDiscipline);\n\n  // Patient encounters\n  fastify.get('/patients/:id/encounters', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_PATIENT, PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getPatientEncounters);\n}\n"],"mappings":"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","ignoreList":[]}