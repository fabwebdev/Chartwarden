{"version":3,"names":["cov_2qnx9foqgg","actualCoverage","encryptionService","tlsServerConfig","encryptionConfig","tlsConfig","logger","securityRoutes","fastify","options","f","s","get","schema","description","tags","response","type","properties","status","encryption","enabled","algorithm","keyVersion","testPassed","tls","database","redis","https","timestamp","request","reply","testValue","Date","now","encrypted","encrypt","decrypted","decrypt","encryptionTestPassed","tlsStatus","postgres","minVersion","b","rejectUnauthorized","httpRedirect","redirect","toISOString","error","message","code","send","post","body","required","value","deterministic","process","env","NODE_ENV","encryptDeterministic","original","matches","encryptedLength","length","isDeterministic","connectionInfo","protocol","secure","socket","remoteAddress","ip","tlsDetails","getPeerCertificate","peerCert","tlsVersion","getProtocol","cipher","getCipher","peerCertificate","subject","issuer","validFrom","valid_from","validTo","valid_to","connection","config","httpsEnabled","ciphers","split","slice","securityHeaders","expectedHeaders","note"],"sources":["security.routes.js"],"sourcesContent":["import encryptionService from \"../services/EncryptionService.js\";\nimport { tlsServerConfig } from \"../config/tls.config.js\";\nimport { encryptionConfig, tlsConfig } from \"../config/encryption.config.js\";\nimport { logger } from \"../utils/logger.js\";\n\n/**\n * Security Routes\n *\n * Provides endpoints for security health checks and encryption verification.\n * These endpoints help verify that security configurations are working correctly.\n *\n * SECURITY TICKET: encryption-implementation\n */\n\n/**\n * Register security routes\n *\n * @param {object} fastify - Fastify instance\n * @param {object} options - Route options\n */\nasync function securityRoutes(fastify, options) {\n  /**\n   * GET /api/security/health\n   *\n   * Returns security health status including encryption and TLS configuration.\n   * Requires admin authentication in production.\n   */\n  fastify.get(\"/health\", {\n    schema: {\n      description: \"Get security health status\",\n      tags: [\"Security\"],\n      response: {\n        200: {\n          type: \"object\",\n          properties: {\n            status: { type: \"string\" },\n            encryption: {\n              type: \"object\",\n              properties: {\n                enabled: { type: \"boolean\" },\n                algorithm: { type: \"string\" },\n                keyVersion: { type: \"number\" },\n                testPassed: { type: \"boolean\" },\n              },\n            },\n            tls: {\n              type: \"object\",\n              properties: {\n                database: { type: \"object\" },\n                redis: { type: \"object\" },\n                https: { type: \"object\" },\n              },\n            },\n            timestamp: { type: \"string\" },\n          },\n        },\n      },\n    },\n  }, async (request, reply) => {\n    try {\n      // Test encryption/decryption\n      const testValue = \"test-encryption-value-\" + Date.now();\n      const encrypted = encryptionService.encrypt(testValue);\n      const decrypted = encryptionService.decrypt(encrypted);\n      const encryptionTestPassed = decrypted === testValue;\n\n      // Get TLS configuration status\n      const tlsStatus = {\n        database: {\n          enabled: tlsConfig.postgres.enabled,\n          minVersion: tlsConfig.postgres.options?.minVersion || \"N/A\",\n          rejectUnauthorized: tlsConfig.postgres.options?.rejectUnauthorized ?? \"N/A\",\n        },\n        redis: {\n          enabled: tlsConfig.redis.enabled,\n          minVersion: tlsConfig.redis.options?.minVersion || \"N/A\",\n        },\n        https: {\n          enabled: tlsServerConfig.enabled,\n          httpRedirect: tlsServerConfig.redirect.enabled,\n        },\n      };\n\n      return {\n        status: encryptionTestPassed ? \"healthy\" : \"degraded\",\n        encryption: {\n          enabled: true,\n          algorithm: encryptionConfig.algorithm,\n          keyVersion: encryptionConfig.keyVersion,\n          testPassed: encryptionTestPassed,\n        },\n        tls: tlsStatus,\n        timestamp: new Date().toISOString(),\n      };\n    } catch (error) {\n      logger.error(\"Security health check failed\", { error: error.message });\n\n      return reply.code(500).send({\n        status: \"unhealthy\",\n        error: \"Security health check failed\",\n        timestamp: new Date().toISOString(),\n      });\n    }\n  });\n\n  /**\n   * POST /api/security/encryption/test\n   *\n   * Test encryption with a provided value (development only).\n   * This endpoint is disabled in production.\n   */\n  fastify.post(\"/encryption/test\", {\n    schema: {\n      description: \"Test encryption with a value (development only)\",\n      tags: [\"Security\"],\n      body: {\n        type: \"object\",\n        required: [\"value\"],\n        properties: {\n          value: { type: \"string\", description: \"Value to encrypt\" },\n          deterministic: { type: \"boolean\", description: \"Use deterministic encryption\" },\n        },\n      },\n    },\n  }, async (request, reply) => {\n    // Disable in production\n    if (process.env.NODE_ENV === \"production\") {\n      return reply.code(403).send({\n        error: \"This endpoint is disabled in production\",\n      });\n    }\n\n    try {\n      const { value, deterministic } = request.body;\n\n      const encrypted = deterministic\n        ? encryptionService.encryptDeterministic(value, \"test:field\")\n        : encryptionService.encrypt(value);\n\n      const decrypted = encryptionService.decrypt(encrypted);\n\n      return {\n        original: value,\n        encrypted,\n        decrypted,\n        matches: value === decrypted,\n        encryptedLength: encrypted.length,\n        isDeterministic: !!deterministic,\n      };\n    } catch (error) {\n      logger.error(\"Encryption test failed\", { error: error.message });\n\n      return reply.code(500).send({\n        error: \"Encryption test failed\",\n        message: error.message,\n      });\n    }\n  });\n\n  /**\n   * GET /api/security/tls/info\n   *\n   * Returns detailed TLS configuration information.\n   * Useful for verifying TLS setup.\n   */\n  fastify.get(\"/tls/info\", {\n    schema: {\n      description: \"Get TLS configuration information\",\n      tags: [\"Security\"],\n    },\n  }, async (request, reply) => {\n    // Get connection info\n    const connectionInfo = {\n      protocol: request.protocol,\n      secure: request.socket?.encrypted || false,\n      remoteAddress: request.ip,\n    };\n\n    // Get TLS details if available\n    let tlsDetails = null;\n    if (request.socket?.encrypted && request.socket?.getPeerCertificate) {\n      try {\n        const peerCert = request.socket.getPeerCertificate();\n        tlsDetails = {\n          tlsVersion: request.socket.getProtocol?.() || \"unknown\",\n          cipher: request.socket.getCipher?.() || \"unknown\",\n          peerCertificate: peerCert ? {\n            subject: peerCert.subject,\n            issuer: peerCert.issuer,\n            validFrom: peerCert.valid_from,\n            validTo: peerCert.valid_to,\n          } : null,\n        };\n      } catch {\n        // TLS info not available\n      }\n    }\n\n    return {\n      connection: connectionInfo,\n      tls: tlsDetails,\n      config: {\n        httpsEnabled: tlsServerConfig.enabled,\n        ciphers: tlsServerConfig.ciphers.split(\":\").slice(0, 5), // First 5 ciphers\n      },\n      timestamp: new Date().toISOString(),\n    };\n  });\n\n  /**\n   * GET /api/security/headers\n   *\n   * Returns security headers that are set on responses.\n   * Useful for verifying security header configuration.\n   */\n  fastify.get(\"/headers\", {\n    schema: {\n      description: \"Get security headers information\",\n      tags: [\"Security\"],\n    },\n  }, async (request, reply) => {\n    // These headers should be set by Helmet\n    const securityHeaders = [\n      \"Content-Security-Policy\",\n      \"Strict-Transport-Security\",\n      \"X-Content-Type-Options\",\n      \"X-Frame-Options\",\n      \"X-XSS-Protection\",\n      \"Referrer-Policy\",\n      \"Permissions-Policy\",\n      \"Cache-Control\",\n      \"Cross-Origin-Resource-Policy\",\n      \"Cross-Origin-Opener-Policy\",\n    ];\n\n    // Return info about expected headers\n    return {\n      message: \"Security headers are configured via Helmet middleware\",\n      expectedHeaders: securityHeaders,\n      note: \"Check response headers on any endpoint to verify these are set\",\n      timestamp: new Date().toISOString(),\n    };\n  });\n}\n\nexport default securityRoutes;\n"],"mappings":"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","ignoreList":[]}