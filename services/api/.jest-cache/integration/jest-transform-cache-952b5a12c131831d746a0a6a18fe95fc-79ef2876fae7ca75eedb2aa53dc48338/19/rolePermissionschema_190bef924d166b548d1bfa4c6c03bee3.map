{"version":3,"names":["cov_1yh61xn7e9","actualCoverage","pgTable","primaryKey","bigint","timestamp","text","index","roles","permissions","users","role_has_permissions","s","permission_id","mode","notNull","references","f","id","onDelete","role_id","assigned_at","defaultNow","assigned_by","table","pk","columns","permission_id_idx","on","role_id_idx"],"sources":["rolePermission.schema.js"],"sourcesContent":["import { pgTable, primaryKey, bigint, timestamp, text, index } from \"drizzle-orm/pg-core\";\nimport { roles } from './role.schema.js';\nimport { permissions } from './permission.schema.js';\nimport { users } from './user.schema.js';\n\nexport const role_has_permissions = pgTable(\n  \"role_has_permissions\",\n  {\n    permission_id: bigint(\"permission_id\", { mode: \"number\" })\n      .notNull()\n      .references(() => permissions.id, { onDelete: 'cascade' }),\n    role_id: bigint(\"role_id\", { mode: \"number\" })\n      .notNull()\n      .references(() => roles.id, { onDelete: 'cascade' }),\n    assigned_at: timestamp('assigned_at').defaultNow().notNull(),\n    assigned_by: text('assigned_by').references(() => users.id, { onDelete: 'set null' }),\n  },\n  (table) => ({\n    pk: primaryKey({ columns: [table.permission_id, table.role_id] }),\n    permission_id_idx: index('role_has_permissions_permission_id_idx').on(table.permission_id),\n    role_id_idx: index('role_has_permissions_role_id_idx').on(table.role_id),\n  })\n);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,SAASE,OAAO,EAAEC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,KAAK,QAAQ,qBAAqB;AACzF,SAASC,KAAK,QAAQ,kBAAkB;AACxC,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,KAAK,QAAQ,kBAAkB;AAExC,OAAO,MAAMC,oBAAoB;AAAA;AAAA,CAAAX,cAAA,GAAAY,CAAA,OAAGV,OAAO,CACzC,sBAAsB,EACtB;EACEW,aAAa,EAAET,MAAM,CAAC,eAAe,EAAE;IAAEU,IAAI,EAAE;EAAS,CAAC,CAAC,CACvDC,OAAO,CAAC,CAAC,CACTC,UAAU,CAAC,MAAM;IAAA;IAAAhB,cAAA,GAAAiB,CAAA;IAAAjB,cAAA,GAAAY,CAAA;IAAA,OAAAH,WAAW,CAACS,EAAE;EAAD,CAAC,EAAE;IAAEC,QAAQ,EAAE;EAAU,CAAC,CAAC;EAC5DC,OAAO,EAAEhB,MAAM,CAAC,SAAS,EAAE;IAAEU,IAAI,EAAE;EAAS,CAAC,CAAC,CAC3CC,OAAO,CAAC,CAAC,CACTC,UAAU,CAAC,MAAM;IAAA;IAAAhB,cAAA,GAAAiB,CAAA;IAAAjB,cAAA,GAAAY,CAAA;IAAA,OAAAJ,KAAK,CAACU,EAAE;EAAD,CAAC,EAAE;IAAEC,QAAQ,EAAE;EAAU,CAAC,CAAC;EACtDE,WAAW,EAAEhB,SAAS,CAAC,aAAa,CAAC,CAACiB,UAAU,CAAC,CAAC,CAACP,OAAO,CAAC,CAAC;EAC5DQ,WAAW,EAAEjB,IAAI,CAAC,aAAa,CAAC,CAACU,UAAU,CAAC,MAAM;IAAA;IAAAhB,cAAA,GAAAiB,CAAA;IAAAjB,cAAA,GAAAY,CAAA;IAAA,OAAAF,KAAK,CAACQ,EAAE;EAAD,CAAC,EAAE;IAAEC,QAAQ,EAAE;EAAW,CAAC;AACtF,CAAC,EACAK,KAAK,IAAM;EAAA;EAAAxB,cAAA,GAAAiB,CAAA;EAAAjB,cAAA,GAAAY,CAAA;EAAA;IACVa,EAAE,EAAEtB,UAAU,CAAC;MAAEuB,OAAO,EAAE,CAACF,KAAK,CAACX,aAAa,EAAEW,KAAK,CAACJ,OAAO;IAAE,CAAC,CAAC;IACjEO,iBAAiB,EAAEpB,KAAK,CAAC,wCAAwC,CAAC,CAACqB,EAAE,CAACJ,KAAK,CAACX,aAAa,CAAC;IAC1FgB,WAAW,EAAEtB,KAAK,CAAC,kCAAkC,CAAC,CAACqB,EAAE,CAACJ,KAAK,CAACJ,OAAO;EACzE,CAAC;AAAD,CACF,CAAC","ignoreList":[]}