{"version":3,"names":["cov_wfkuzjvm4","actualCoverage","pgTable","bigint","varchar","timestamp","text","boolean","index","uniqueIndex","permissions","s","id","mode","primaryKey","generatedByDefaultAsIdentity","name","length","notNull","unique","resource","action","description","guard_name","default","is_active","createdAt","defaultNow","updatedAt","table","f","name_idx","on","resource_idx","action_idx","resource_action_idx"],"sources":["permission.schema.js"],"sourcesContent":["import { pgTable, bigint, varchar, timestamp, text, boolean, index, uniqueIndex } from 'drizzle-orm/pg-core';\n\nexport const permissions = pgTable('permissions', {\n  id: bigint('id', { mode: 'number' }).primaryKey().generatedByDefaultAsIdentity(),\n  name: varchar('name', { length: 255 }).notNull().unique(),\n  // Resource-based permissions (e.g., resource='patients', action='read')\n  resource: varchar('resource', { length: 100 }).notNull(),\n  action: varchar('action', { length: 50 }).notNull(), // create, read, update, delete, manage\n  description: text('description'),\n  guard_name: varchar('guard_name', { length: 255 }).notNull().default('web'),\n  is_active: boolean('is_active').default(true).notNull(),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull(),\n}, (table) => ({\n  name_idx: index('permissions_name_idx').on(table.name),\n  resource_idx: index('permissions_resource_idx').on(table.resource),\n  action_idx: index('permissions_action_idx').on(table.action),\n  resource_action_idx: uniqueIndex('permissions_resource_action_idx').on(table.resource, table.action),\n}));"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAfZ,SAASE,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAEC,OAAO,EAAEC,KAAK,EAAEC,WAAW,QAAQ,qBAAqB;AAE5G,OAAO,MAAMC,WAAW;AAAA;AAAA,CAAAV,aAAA,GAAAW,CAAA,OAAGT,OAAO,CAAC,aAAa,EAAE;EAChDU,EAAE,EAAET,MAAM,CAAC,IAAI,EAAE;IAAEU,IAAI,EAAE;EAAS,CAAC,CAAC,CAACC,UAAU,CAAC,CAAC,CAACC,4BAA4B,CAAC,CAAC;EAChFC,IAAI,EAAEZ,OAAO,CAAC,MAAM,EAAE;IAAEa,MAAM,EAAE;EAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;EACzD;EACAC,QAAQ,EAAEhB,OAAO,CAAC,UAAU,EAAE;IAAEa,MAAM,EAAE;EAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;EACxDG,MAAM,EAAEjB,OAAO,CAAC,QAAQ,EAAE;IAAEa,MAAM,EAAE;EAAG,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;EAAE;EACrDI,WAAW,EAAEhB,IAAI,CAAC,aAAa,CAAC;EAChCiB,UAAU,EAAEnB,OAAO,CAAC,YAAY,EAAE;IAAEa,MAAM,EAAE;EAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACM,OAAO,CAAC,KAAK,CAAC;EAC3EC,SAAS,EAAElB,OAAO,CAAC,WAAW,CAAC,CAACiB,OAAO,CAAC,IAAI,CAAC,CAACN,OAAO,CAAC,CAAC;EACvDQ,SAAS,EAAErB,SAAS,CAAC,YAAY,CAAC,CAACsB,UAAU,CAAC,CAAC,CAACT,OAAO,CAAC,CAAC;EACzDU,SAAS,EAAEvB,SAAS,CAAC,YAAY,CAAC,CAACsB,UAAU,CAAC,CAAC,CAACT,OAAO,CAAC;AAC1D,CAAC,EAAGW,KAAK,IAAM;EAAA;EAAA7B,aAAA,GAAA8B,CAAA;EAAA9B,aAAA,GAAAW,CAAA;EAAA;IACboB,QAAQ,EAAEvB,KAAK,CAAC,sBAAsB,CAAC,CAACwB,EAAE,CAACH,KAAK,CAACb,IAAI,CAAC;IACtDiB,YAAY,EAAEzB,KAAK,CAAC,0BAA0B,CAAC,CAACwB,EAAE,CAACH,KAAK,CAACT,QAAQ,CAAC;IAClEc,UAAU,EAAE1B,KAAK,CAAC,wBAAwB,CAAC,CAACwB,EAAE,CAACH,KAAK,CAACR,MAAM,CAAC;IAC5Dc,mBAAmB,EAAE1B,WAAW,CAAC,iCAAiC,CAAC,CAACuB,EAAE,CAACH,KAAK,CAACT,QAAQ,EAAES,KAAK,CAACR,MAAM;EACrG,CAAC;AAAD,CAAE,CAAC","ignoreList":[]}