{"version":3,"names":["cov_i5yqxpa5o","actualCoverage","db","permissions","sql","logger","UserSeeder","run","f","s","categories","category","execute","info","error"],"sources":["UserSeeder.js"],"sourcesContent":["import { db } from \"../../config/db.drizzle.js\";\nimport { permissions } from \"../../db/schemas/permission.schema.js\";\nimport { sql } from \"drizzle-orm\";\n\nimport { logger } from '../../utils/logger.js';\nclass UserSeeder {\n  /**\n   * Run the database seeds.\n   *\n   * @return {Promise<void>}\n   */\n  async run() {\n    try {\n      // Create user permissions\n      const categories = [\n        // Menus principaux\n        'permissions_principal_menu',\n        'roles_principal_menu',\n        'users_principal_menu',\n        'patients_principal_menu',\n\n        'patients_principal_menu_create',\n        'patients_principal_menu_edit',\n        'patients_principal_menu_delete',\n\n        'users_principal_menu_create',\n        'users_principal_menu_edit',\n        'users_principal_menu_delete',\n\n        // Menus secondaires\n        'team_comm_secondary_menu',\n        'trends_secondary_menu',\n        'his_secondary_menu',\n        'encounters_secondary_menu',\n        'care_plan_secondary_menu',\n        'patient_info_secondary_menu',\n        'idg_team_secondary_menu',\n        'documents_secondary_menu',\n        'library_secondary_menu',\n        'certifications_secondary_menu',\n        'med_list_secondary_menu',\n        'dose_spot_secondary_menu',\n        'patient_charts_secondary_menu',\n\n        // Menus tertiaires (HIS)\n        'administrative_information_his_tertiary_menu',\n        'discharge_his_tertiary_menu',\n        'patient_history_diagnoses_his_tertiary_menu',\n        'advance_exitential_his_tertiary_menu',\n        'spiritual_existential_his_tertiary_menu',\n        'neuro_behavioral_his_tertiary_menu',\n        'sensory_his_tertiary_menu',\n        'pain_his_tertiary_menu',\n        'respiratory_his_tertiary_menu',\n        'cardiac_his_tertiary_menu',\n        'elimination_his_tertiary_menu',\n        'functional_his_tertiary_menu',\n        'endocrine_his_tertiary_menu',\n        'hematological_his_tertiary_menu',\n        'integumentary_his_tertiary_menu',\n        'nutrition_his_tertiary_menu',\n        'medications_his_tertiary_menu',\n        'summary_his_tertiary_menu',\n\n        // Menus tertiaires (Patient Info)\n        'general_patient_info_tertiary_menu',\n        'coverage_patient_info_tertiary_menu',\n        'location_information_patient_info_tertiary_menu',\n        'idg_team_patient_info_tertiary_menu',\n        'care_periods_patient_info_tertiary_menu',\n        'dose_spot_account_patient_info_tertiary_menu',\n        'patient_history_patient_info_tertiary_menu',\n        'support_information_patient_info_tertiary_menu',\n        'demographics_choices_patient_info_tertiary_menu',\n        'alert_tags_patient_info_tertiary_menu',\n        'patient_forms_patient_info_tertiary_menu',\n        'patient_portal_patient_info_tertiary_menu',\n\n        // Sections administratives HIS\n        'visit_information_section_administrative_information_his_views',\n        'visit_information_section_administrative_information_his_edit',\n        'demographics_section_administrative_information_his_views',\n        'demographics_section_administrative_information_his_edit',\n        'admission_information_section_administrative_information_his_views',\n        'admission_information_section_administrative_information_his_edit',\n        'payer_information_section_administrative_information_his_views',\n        'payer_information_section_administrative_information_his_edit',\n\n        'administrative_information_section_discharge_his_views',\n        'administrative_information_section_discharge_his_edit',\n        'record_administrative_section_discharge_his_views',\n        'record_administrative_section_discharge_his_edit',\n\n        'vital_signs_section_patient_history_diagnoses_his_views',\n        'vital_signs_section_patient_history_diagnoses_his_edit',\n        'dignosis_section_patient_history_diagnoses_his_views',\n        'dignosis_section_patient_history_diagnoses_his_edit',\n        'prognosis_section_patient_history_diagnoses_his_views',\n        'prognosis_section_patient_history_diagnoses_his_edit',\n        'plan_of_care_orders_section_patient_history_diagnoses_his_views',\n        'plan_of_care_orders_section_patient_history_diagnoses_his_edit',\n\n        'hospitalization_preference_section_advance_care_his_views',\n        'hospitalization_preference_section_advance_care_his_edit',\n        'plan_of_care_orders_section_advance_care_his_views',\n        'plan_of_care_orders_section_advance_care_his_edit',\n\n        'spiritual_existential_assessment_section_spiritual_existential_his_views',\n        'spiritual_existential_assessment_section_spiritual_existential_his_edit',\n        'spiritual_preferences_section_spiritual_existential_his_views',\n        'spiritual_preferences_assessment_section_spiritual_existential_his_edit',\n        'plan_of_care_orders_section_spiritual_existential_his_views',\n        'plan_of_care_orders_section_spiritual_existential_his_edit',\n\n        'living_arrangements_section_supportive_assistance_his_views',\n        'living_arrangements_section_supportive_assistance_his_edit',\n        'diagnosis_section_supportive_assistance_his_views',\n        'diagnosis_section_supportive_assistance_his_edit',\n        'Prognosis_section_supportive_assistance_his_views',\n        'Prognosis_section_supportive_assistance_his_edit',\n        'plan_of_care_orders_section_supportive_assistance_his_views',\n        'plan_of_care_orders_section_supportive_assistance_his_edit',\n\n        'neurological_assessment_assessment_section_neuro_behavioral_his_views',\n        'neurological_assessment_assessment_section_neuro_behavioral_his_edit',\n        'plan_of_care_orders_section_neuro_behavioral_his_views',\n        'plan_of_care_orders_section_neuro_behavioral_his_edit',\n\n        'sensory_ssessment_assessment_section_sensory_his_views',\n        'sensory_ssessment_assessment_section_sensory_his_edit',\n        'plan_of_care_orders_section_sensory_his_views',\n        'plan_of_care_orders_section_sensory_his_edit',\n\n        'pain_screening_assessment_section_pain_his_views',\n        'pain_screening_assessment_section_pain_his_edit',\n        'plan_of_care_orders_section_pain_his_views',\n        'plan_of_care_orders_section_pain_his_edit',\n\n        'respiratory_assessment_section_respiratory_his_views',\n        'respiratory_assessment_section_respiratory_his_edit',\n        'screening_for_shortness_of_breath_section_respiratory_his_views',\n        'screening_for_shortness_of_breath_section_respiratory_his_edit',\n        'plan_of_care_orders_section_respiratory_his_views',\n        'plan_of_care_orders_section_respiratory_his_edit',\n\n        'cardiac_assessment_section_cardiac_his_views',\n        'cardiac_assessment_section_cardiac_his_edit',\n        'plan_of_care_orders_section_cardiac_his_views',\n        'plan_of_care_orders_section_cardiac_his_edit',\n\n        'genitourinary_assessment_section_elimination_his_views',\n        'genitourinary_assessment_section_elimination_his_edit',\n        'gastrointestinal_assessment_section_elimination_his_views',\n        'gastrointestinal_assessment_section_elimination_his_edit',\n        'narrative_template_section_elimination_his_views',\n        'narrative_template_section_elimination_his_edit',\n        'plan_of_care_orders_section_elimination_his_views',\n        'plan_of_care_orders_section_elimination_his_edit',\n\n        'functional_assessment_section_functional_his_views',\n        'functional_assessment_section_functional_his_edit',\n        'fall_risk_assessment_tool_section_functional_his_views',\n        'fall_risk_assessment_tool_section_functional_his_edit',\n        'plan_of_care_orders_section_functional_his_views',\n        'plan_of_care_orders_section_functional_his_edit',\n\n        'endocrine_assessment_section_endocrine_his_views',\n        'endocrine_assessment_section_endocrine_his_edit',\n\n        'hematological_assessment_section_hematological_his_views',\n        'hematological_assessment_section_hematological_his_edit',\n\n        'integumentary_assessment_section_integumentary_his_views',\n        'integumentaryl_assessment_section_integumentary_his_edit',\n\n        'nutritionk_assessment_section_nutrition_his_views',\n        'nutrition_assessment_section_nutrition_his_edit',\n        'nutritional_health_screen_section_nutrition_his_views',\n        'nutritional_health_screen_section_nutrition_his_edit',\n        'plan_of_care_orders_section_nutrition_his_views',\n        'plan_of_care_orders_section_nutrition_his_edit',\n\n        'medictions_assessment_section_medictions_his_views',\n        'medictions_assessment_section_medictions_his_edit',\n        'scheduled_opioid_section_medictions_his_views',\n        'scheduled_opioid_section_medictions_his_edit',\n        'PRN_opioid_section_medictions_his_views',\n        'PRN_opioid_section_medictions_his_edit',\n        'allergies_section_medictions_his_views',\n        'allergies_section_medictions_his_edit',\n        'bowel_regimen_section_medictions_his_views',\n        'bowel_regimen_section_medictions_his_edit',\n        'plan_of_care_orders_section_medictions_his_views',\n        'plan_of_care_orders_section_medictions_his_edit',\n\n        'physician_orders_section_Genitourinary_his_views',\n        'physician_orders_section_genitourinary_his_edit'\n      ];\n\n      // Create permissions\n      for (const category of categories) {\n        await db.execute(sql`\n          INSERT INTO ${permissions} (name, guard_name)\n          VALUES (${category}, 'web')\n          ON CONFLICT (name) DO NOTHING\n        `);\n      }\n\n      logger.info('User permissions seeded successfully.')\n    } catch (error) {\n      logger.error('Error seeding user permissions:', error)\n    }\n  }\n}\n\nexport default new UserSeeder();"],"mappings":"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","ignoreList":[]}