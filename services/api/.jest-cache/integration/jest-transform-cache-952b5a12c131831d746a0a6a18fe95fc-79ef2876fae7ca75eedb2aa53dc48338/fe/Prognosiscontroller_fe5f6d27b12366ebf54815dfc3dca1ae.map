{"version":3,"names":["cov_z4tvlhw66","actualCoverage","db","prognosis","prognosis_patient","prognosis_caregiver","prognosis_imminence_of_death","eq","logger","PrognosisController","index","request","reply","f","s","prognoses","select","id","patient_id","prognosis_patient_is_imminent","prognosis_patient_id","prognosis_caregiver_id","prognosis_imminence_id","createdAt","updatedAt","from","code","error","message","store","body","b","patientIdNum","parseInt","isNaN","existingPrognoses","where","limit","existingPrognosis","prognosisPatientIdString","Array","isArray","join","prognosisCaregiverIdString","prognosisImminenceIdString","result","now","Date","update","set","returning","insert","values","data","show","params","patientId","prognosisRecords","prognosisRecord"],"sources":["Prognosis.controller.js"],"sourcesContent":["import { db } from \"../../config/db.drizzle.js\";\nimport { prognosis } from \"../../db/schemas/prognosis.schema.js\";\nimport { prognosis_patient } from \"../../db/schemas/prognosisPatient.schema.js\";\nimport { prognosis_caregiver } from \"../../db/schemas/prognosisCaregiver.schema.js\";\nimport { prognosis_imminence_of_death } from \"../../db/schemas/prognosisImminence.schema.js\";\nimport { eq } from \"drizzle-orm\";\n\nimport { logger } from '../../utils/logger.js';\nclass PrognosisController {\n    // Get all prognoses\n    async index(request, reply) {\n        try {\n            const prognoses = await db.select({\n                id: prognosis.id,\n                patient_id: prognosis.patient_id,\n                prognosis_patient_is_imminent: prognosis.prognosis_patient_is_imminent,\n                prognosis_patient_id: prognosis.prognosis_patient_id,\n                prognosis_caregiver_id: prognosis.prognosis_caregiver_id,\n                prognosis_imminence_id: prognosis.prognosis_imminence_id,\n                createdAt: prognosis.createdAt,\n                updatedAt: prognosis.updatedAt\n            }).from(prognosis);\n            reply.code(200);\n            return prognoses;\n        } catch (error) {\n            logger.error(\"Error fetching prognoses:\", error)\n            reply.code(500);\n            return {\n                message: \"Internal server error\",\n                error: error.message,\n            };\n        }\n    }\n\n    // Store or update prognosis\n    async store(request, reply) {\n        try {\n            const {\n                patient_id,\n                prognosis_patient_is_imminent,\n                prognosis_patient_id,\n                prognosis_caregiver_id,\n                prognosis_imminence_id,\n            } = request.body;\n\n            // Validate required fields\n            if (!patient_id) {\n                reply.code(400);\n                return {\n                    message: \"Patient ID is required\",\n                };\n            }\n\n            // Convert patient_id to number\n            const patientIdNum = typeof patient_id === 'string' ? parseInt(patient_id) : patient_id;\n            if (isNaN(patientIdNum)) {\n                reply.code(400);\n                return {\n                    message: \"Invalid patient ID\",\n                };\n            }\n\n            // Check if prognosis already exists for this patient\n            const existingPrognoses = await db.select({\n                id: prognosis.id\n            }).from(prognosis).where(eq(prognosis.patient_id, patientIdNum)).limit(1);\n            const existingPrognosis = existingPrognoses[0];\n\n            // Convert arrays to comma-separated strings if they are arrays\n            const prognosisPatientIdString = Array.isArray(prognosis_patient_id)\n                ? prognosis_patient_id.join(\",\")\n                : prognosis_patient_id;\n\n            const prognosisCaregiverIdString = Array.isArray(\n                prognosis_caregiver_id\n            )\n                ? prognosis_caregiver_id.join(\",\")\n                : prognosis_caregiver_id;\n\n            const prognosisImminenceIdString = Array.isArray(\n                prognosis_imminence_id\n            )\n                ? prognosis_imminence_id.join(\",\")\n                : prognosis_imminence_id;\n\n            let result;\n            const now = new Date();\n            \n            if (existingPrognosis) {\n                // Update existing prognosis\n                result = await db.update(prognosis)\n                    .set({\n                        patient_id: patientIdNum,\n                        prognosis_patient_is_imminent: prognosis_patient_is_imminent || null,\n                        prognosis_patient_id: prognosisPatientIdString || null,\n                        prognosis_caregiver_id: prognosisCaregiverIdString || null,\n                        prognosis_imminence_id: prognosisImminenceIdString || null,\n                        updatedAt: now,\n                    })\n                    .where(eq(prognosis.patient_id, patientIdNum))\n                    .returning();\n                result = result[0];\n            } else {\n                // Create new prognosis\n                result = await db.insert(prognosis)\n                    .values({\n                        patient_id: patientIdNum,\n                        prognosis_patient_is_imminent: prognosis_patient_is_imminent || null,\n                        prognosis_patient_id: prognosisPatientIdString || null,\n                        prognosis_caregiver_id: prognosisCaregiverIdString || null,\n                        prognosis_imminence_id: prognosisImminenceIdString || null,\n                        createdAt: now,\n                        updatedAt: now,\n                    })\n                    .returning();\n                result = result[0];\n            }\n\n            reply.code(201);\n            return {\n                message: \"Prognosis créé ou mis à jour avec succès.\",\n                data: result,\n            };\n        } catch (error) {\n            logger.error(\"Error saving prognosis:\", error)\n            reply.code(500);\n            return {\n                message: \"Internal server error\",\n                error: error.message,\n            };\n        }\n    }\n\n    // Show prognosis for a specific patient\n    // Returns empty data if no prognosis exists (to allow frontend to render form)\n    async show(request, reply) {\n        try {\n            const { id } = request.params;\n            const patientId = parseInt(id);\n\n            if (isNaN(patientId)) {\n                reply.code(400);\n                return {\n                    error: \"Invalid patient ID\",\n                };\n            }\n\n            const prognosisRecords = await db.select({\n                id: prognosis.id,\n                patient_id: prognosis.patient_id,\n                prognosis_patient_is_imminent: prognosis.prognosis_patient_is_imminent,\n                prognosis_patient_id: prognosis.prognosis_patient_id,\n                prognosis_caregiver_id: prognosis.prognosis_caregiver_id,\n                prognosis_imminence_id: prognosis.prognosis_imminence_id,\n                createdAt: prognosis.createdAt,\n                updatedAt: prognosis.updatedAt\n            }).from(prognosis).where(eq(prognosis.patient_id, patientId)).limit(1);\n            const prognosisRecord = prognosisRecords[0];\n\n            if (!prognosisRecord) {\n                // Return 200 with empty data instead of 404, so frontend can render form\n                reply.code(200);\n                return {\n                    id: null,\n                    patient_id: parseInt(id),\n                    prognosis_patient_is_imminent: null,\n                    prognosis_patient_id: null,\n                    prognosis_caregiver_id: null,\n                    prognosis_imminence_id: null,\n                    createdAt: null,\n                    updatedAt: null,\n                };\n            }\n\n            reply.code(200);\n            return prognosisRecord;\n        } catch (error) {\n            logger.error(\"Error fetching prognosis:\", error)\n            reply.code(500);\n            return {\n                message: \"Internal server error\",\n                error: error.message,\n            };\n        }\n    }\n}\n\nexport default new PrognosisController();"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}