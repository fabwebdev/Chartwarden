{"version":3,"names":["cov_1ig34y7ft1","actualCoverage","db","scheduled_visits","recurring_visits","on_call_schedule","on_call_logs","visit_compliance","scheduling_conflicts","patients","staff_profiles","staff_schedule","eq","and","gte","lte","desc","sql","or","isNull","between","ne","inArray","logger","MIN_VISIT_DURATION_MINUTES","s","MAX_VISIT_DURATION_MINUTES","MIN_ADVANCE_BOOKING_HOURS","MAX_ADVANCE_BOOKING_DAYS","DEFAULT_VISIT_DURATION_MINUTES","SchedulingController","getAllVisits","request","reply","f","limit","b","offset","staff_id","patient_id","visit_status","start_date","end_date","query","select","visit","patient","id","first_name","last_name","medical_record_number","staff","job_title","from","leftJoin","where","deleted_at","filters","push","parseInt","scheduled_date","length","results","orderBy","scheduled_start_time","code","status","data","count","error","message","process","env","NODE_ENV","undefined","createVisit","body","visit_type","validationResult","_validateVisitBusinessRules","valid","staffMember","employment_status","availabilityCheck","_checkStaffAvailability","scheduled_end_time","_addMinutesToTime","estimated_duration_minutes","available","reason","staff_name","requested_date","requested_time","unavailability_details","details","conflicts","_checkVisitConflicts","result","transaction","tx","newVisit","insert","values","created_by_id","user","updated_by_id","returning","conflict","visit_id_1","visit_id_2","conflicting_visit_id","conflict_type","type","conflict_severity","severity","conflict_status","conflict_date","conflict_start_time","overlap_start","conflict_end_time","overlap_end","overlap_minutes","conflict_description","description","detected_by","detection_rule","warnings","conflict_count","map","c","getVisitById","params","updateVisit","update","set","updatedAt","Date","checkIn","latitude","longitude","accuracy","actual_check_in_time","check_in_location","checkOut","actualDuration","checkInTime","checkOutTime","Math","round","actual_check_out_time","actual_duration_minutes","check_out_location","duration_minutes","cancelVisit","cancellation_reason","cancelled_at","cancelled_by_id","rescheduleVisit","new_date","new_time","originalVisit","visit_purpose","recurring_visit_id","rescheduled_to_visit_id","original_visit_id","new_visit","confirmVisit","patient_confirmed","patient_confirmed_at","getRecurringVisits","is_active","recurring","createRecurringVisit","recurrence_pattern","updateRecurringVisit","deactivateRecurringVisit","getOnCallSchedules","on_call_type","schedule","phone","mobile","start_datetime","end_datetime","createOnCallSchedule","getCurrentOnCall","now","schedule_status","current_datetime","getOnCallLogs","call_priority","log","call_datetime","createOnCallLog","on_call_schedule_id","call_reason","getVisitCompliance","is_compliant","compliance","period_start_date","getNonCompliantPatients","compliance_percentage","getOverdueRNVisits","rn_visit_overdue","days_since_last_rn_visit","getConflicts","visit1","createdAt","detectConflicts","date","visits","i","j","visit2","start1","end1","start2","end2","overlapStart","overlapEnd","overlapMinutes","_calculateMinutesBetweenTimes","patientIds","Set","v","patientId","otherStaffVisits","patientVisit","find","otherVisit","createConflict","resolveConflict","resolution_type","resolution_notes","resolved_by_id","resolved_at","acknowledgeConflict","getUnresolvedConflictsCount","unresolved_count","timeStr","minutes","hours","mins","split","Number","totalMinutes","newHours","floor","newMins","String","padStart","time1","time2","h1","m1","h2","m2","abs","duration","scheduledDate","today","setHours","maxBookingDate","setDate","getDate","timeRegex","test","validVisitTypes","includes","toUpperCase","join","staffId","startTime","endTime","schedules","shift_date","timeOffSchedules","filter","schedule_type","time_off_status","timeOff","time_off_type","unavailableSchedules","start_time","end_time","schedStartTime","schedEndTime","schedStartStr","getHours","getMinutes","schedEndStr","_timesOverlap","toLowerCase","notes","shiftSchedules","shift","shiftStartTime","shiftEndTime","shiftStartStr","shiftEndStr","_timeWithinRange","shift_start","shift_end","requested_start","requested_end","excludeVisitId","conditions","existingVisits","existingVisit","existingStart","existingEnd","existing_visit","normalize","time","substring","s1","e1","s2","e2","rangeStart","rangeEnd","t","start","end","getAvailableSlots","slots","workStart","workEnd","shiftStart","shiftEnd","blockedTimes","visit_id","sort","a","localeCompare","_generateAvailableSlots","working_hours","requested_duration_minutes","blocked_times","slotDuration","currentTime","timeToMinutes","h","m","minutesToTime","workStartMins","workEndMins","currentMins","mergedBlocked","_mergeOverlappingRanges","blockedIndex","slotEnd","isBlocked","block","ranges","sorted","merged","last","current","max","scheduleVisitStrict","Error","existingConflict","startsWith","checkStaffAvailability","actualEndTime","requested_slot","is_available","schedule_available","schedule_unavailability_reason","schedule_unavailability_details","has_conflicts"],"sources":["Scheduling.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  scheduled_visits,\n  recurring_visits,\n  on_call_schedule,\n  on_call_logs,\n  visit_compliance,\n  scheduling_conflicts,\n  patients,\n  staff_profiles,\n  staff_schedule\n} from '../db/schemas/index.js';\nimport { eq, and, gte, lte, desc, sql, or, isNull, between, ne, inArray } from 'drizzle-orm';\n\nimport { logger } from '../utils/logger.js';\n\n// Business rule constants\nconst MIN_VISIT_DURATION_MINUTES = 15;\nconst MAX_VISIT_DURATION_MINUTES = 480; // 8 hours\nconst MIN_ADVANCE_BOOKING_HOURS = 0; // Allow same-day booking\nconst MAX_ADVANCE_BOOKING_DAYS = 365; // Max 1 year ahead\nconst DEFAULT_VISIT_DURATION_MINUTES = 60;\n/**\n * Scheduling Controller\n * Module J - MEDIUM Priority\n *\n * Purpose: Calendar management, GPS check-in/out, on-call rotations\n * Compliance: Visit frequency requirements, on-call coverage, timeliness tracking\n *\n * Endpoints:\n * - Scheduled visits management (create, update, cancel, reschedule)\n * - GPS check-in/check-out\n * - Recurring visit templates\n * - On-call schedule management\n * - On-call log tracking\n * - Visit compliance monitoring\n */\nclass SchedulingController {\n  // ============================================\n  // SCHEDULED VISITS\n  // ============================================\n\n  /**\n   * Get scheduled visits with filters\n   * GET /visits\n   */\n  async getAllVisits(request, reply) {\n    try {\n      const {\n        limit = 50,\n        offset = 0,\n        staff_id,\n        patient_id,\n        visit_status,\n        start_date,\n        end_date\n      } = request.query;\n\n      let query = db\n        .select({\n          visit: scheduled_visits,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          },\n          staff: {\n            id: staff_profiles.id,\n            first_name: staff_profiles.first_name,\n            last_name: staff_profiles.last_name,\n            job_title: staff_profiles.job_title\n          }\n        })\n        .from(scheduled_visits)\n        .leftJoin(patients, eq(scheduled_visits.patient_id, patients.id))\n        .leftJoin(staff_profiles, eq(scheduled_visits.staff_id, staff_profiles.id))\n        .where(isNull(scheduled_visits.deleted_at));\n\n      const filters = [];\n      if (staff_id) {\n        filters.push(eq(scheduled_visits.staff_id, parseInt(staff_id)));\n      }\n      if (patient_id) {\n        filters.push(eq(scheduled_visits.patient_id, parseInt(patient_id)));\n      }\n      if (visit_status) {\n        filters.push(eq(scheduled_visits.visit_status, visit_status));\n      }\n      if (start_date) {\n        filters.push(gte(scheduled_visits.scheduled_date, start_date));\n      }\n      if (end_date) {\n        filters.push(lte(scheduled_visits.scheduled_date, end_date));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query\n        .orderBy(scheduled_visits.scheduled_date, scheduled_visits.scheduled_start_time)\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching visits:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching visits',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create scheduled visit with conflict detection and staff availability validation\n   * POST /visits\n   *\n   * Features:\n   * - Validates required fields and business rules\n   * - Checks staff availability against staff_schedule\n   * - Detects time conflicts with existing visits\n   * - Uses database transaction for atomicity\n   * - Records any detected conflicts\n   */\n  async createVisit(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.patient_id || !data.staff_id || !data.scheduled_date || !data.visit_type) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: patient_id, staff_id, scheduled_date, visit_type'\n        };\n      }\n\n      // Validate scheduled_start_time is provided\n      if (!data.scheduled_start_time) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required field: scheduled_start_time'\n        };\n      }\n\n      // Business rule validations\n      const validationResult = this._validateVisitBusinessRules(data);\n      if (!validationResult.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: validationResult.message\n        };\n      }\n\n      // Check if staff exists and is active\n      const staffMember = await db\n        .select()\n        .from(staff_profiles)\n        .where(and(\n          eq(staff_profiles.id, parseInt(data.staff_id)),\n          eq(staff_profiles.employment_status, 'ACTIVE'),\n          isNull(staff_profiles.deleted_at)\n        ))\n        .limit(1);\n\n      if (!staffMember[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Staff member not found or is not active'\n        };\n      }\n\n      // Check if patient exists\n      const patient = await db\n        .select()\n        .from(patients)\n        .where(and(\n          eq(patients.id, parseInt(data.patient_id)),\n          isNull(patients.deleted_at)\n        ))\n        .limit(1);\n\n      if (!patient[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Patient not found'\n        };\n      }\n\n      // Check staff availability\n      const availabilityCheck = await this._checkStaffAvailability(\n        parseInt(data.staff_id),\n        data.scheduled_date,\n        data.scheduled_start_time,\n        data.scheduled_end_time || this._addMinutesToTime(data.scheduled_start_time, data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES)\n      );\n\n      if (!availabilityCheck.available) {\n        reply.code(409);\n        return {\n          status: 409,\n          message: availabilityCheck.reason,\n          data: {\n            staff_id: parseInt(data.staff_id),\n            staff_name: `${staffMember[0].first_name} ${staffMember[0].last_name}`,\n            requested_date: data.scheduled_date,\n            requested_time: data.scheduled_start_time,\n            unavailability_details: availabilityCheck.details\n          }\n        };\n      }\n\n      // Check for conflicts with existing visits\n      const conflicts = await this._checkVisitConflicts(\n        parseInt(data.staff_id),\n        data.scheduled_date,\n        data.scheduled_start_time,\n        data.scheduled_end_time || this._addMinutesToTime(data.scheduled_start_time, data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES),\n        null // No existing visit ID since this is a new visit\n      );\n\n      // Use transaction for atomic operation\n      const result = await db.transaction(async (tx) => {\n        // Insert the visit\n        const [newVisit] = await tx\n          .insert(scheduled_visits)\n          .values({\n            ...data,\n            estimated_duration_minutes: data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES,\n            created_by_id: request.user?.id,\n            updated_by_id: request.user?.id\n          })\n          .returning();\n\n        // If there are conflicts, record them but allow the visit (with warning)\n        if (conflicts.length > 0) {\n          for (const conflict of conflicts) {\n            await tx\n              .insert(scheduling_conflicts)\n              .values({\n                visit_id_1: newVisit.id,\n                visit_id_2: conflict.conflicting_visit_id,\n                staff_id: parseInt(data.staff_id),\n                patient_id: parseInt(data.patient_id),\n                conflict_type: conflict.type,\n                conflict_severity: conflict.severity,\n                conflict_status: 'DETECTED',\n                conflict_date: data.scheduled_date,\n                conflict_start_time: conflict.overlap_start,\n                conflict_end_time: conflict.overlap_end,\n                overlap_minutes: conflict.overlap_minutes,\n                conflict_description: conflict.description,\n                detected_by: 'SYSTEM',\n                detection_rule: 'CREATE_VISIT_CONFLICT_CHECK',\n                created_by_id: request.user?.id,\n                updated_by_id: request.user?.id\n              });\n          }\n        }\n\n        return newVisit;\n      });\n\n      // Determine response based on conflicts\n      if (conflicts.length > 0) {\n        reply.code(201);\n        return {\n          status: 201,\n          message: 'Visit scheduled with warnings - conflicts detected',\n          data: result,\n          warnings: {\n            conflict_count: conflicts.length,\n            conflicts: conflicts.map(c => ({\n              type: c.type,\n              severity: c.severity,\n              description: c.description,\n              conflicting_visit_id: c.conflicting_visit_id,\n              overlap_minutes: c.overlap_minutes\n            }))\n          }\n        };\n      }\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Visit scheduled successfully',\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error creating visit:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get visit by ID\n   * GET /visits/:id\n   */\n  async getVisitById(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select({\n          visit: scheduled_visits,\n          patient: patients,\n          staff: staff_profiles\n        })\n        .from(scheduled_visits)\n        .leftJoin(patients, eq(scheduled_visits.patient_id, patients.id))\n        .leftJoin(staff_profiles, eq(scheduled_visits.staff_id, staff_profiles.id))\n        .where(and(\n          eq(scheduled_visits.id, parseInt(id)),\n          isNull(scheduled_visits.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update visit\n   * PATCH /visits/:id\n   */\n  async updateVisit(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      const result = await db\n        .update(scheduled_visits)\n        .set({\n          ...data,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Visit updated successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error updating visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Check in to visit (GPS tracking)\n   * POST /visits/:id/checkin\n   */\n  async checkIn(request, reply) {\n    try {\n      const { id } = request.params;\n      const { latitude, longitude, accuracy } = request.body;\n\n      if (!latitude || !longitude) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required GPS coordinates: latitude, longitude'\n        };\n      }\n\n      const result = await db\n        .update(scheduled_visits)\n        .set({\n          visit_status: 'IN_PROGRESS',\n          actual_check_in_time: new Date(),\n          check_in_location: {\n            latitude,\n            longitude,\n            accuracy: accuracy || null\n          },\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Checked in successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error checking in:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error checking in',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Check out from visit (GPS tracking)\n   * POST /visits/:id/checkout\n   */\n  async checkOut(request, reply) {\n    try {\n      const { id } = request.params;\n      const { latitude, longitude, accuracy } = request.body;\n\n      if (!latitude || !longitude) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required GPS coordinates: latitude, longitude'\n        };\n      }\n\n      // Get the visit to calculate duration\n      const visit = await db\n        .select()\n        .from(scheduled_visits)\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .limit(1);\n\n      if (!visit[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      // Calculate duration\n      let actualDuration = null;\n      if (visit[0].actual_check_in_time) {\n        const checkInTime = new Date(visit[0].actual_check_in_time);\n        const checkOutTime = new Date();\n        actualDuration = Math.round((checkOutTime - checkInTime) / 1000 / 60); // minutes\n      }\n\n      const result = await db\n        .update(scheduled_visits)\n        .set({\n          visit_status: 'COMPLETED',\n          actual_check_out_time: new Date(),\n          actual_duration_minutes: actualDuration,\n          check_out_location: {\n            latitude,\n            longitude,\n            accuracy: accuracy || null\n          },\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Checked out successfully',\n        data: result[0],\n        duration_minutes: actualDuration\n      };\n    } catch (error) {\n      logger.error('Error checking out:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error checking out',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Cancel visit\n   * POST /visits/:id/cancel\n   */\n  async cancelVisit(request, reply) {\n    try {\n      const { id } = request.params;\n      const { cancellation_reason } = request.body;\n\n      const result = await db\n        .update(scheduled_visits)\n        .set({\n          visit_status: 'CANCELLED',\n          cancelled_at: new Date(),\n          cancelled_by_id: request.user?.id,\n          cancellation_reason: cancellation_reason,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Visit cancelled successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error cancelling visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error cancelling visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Reschedule visit\n   * POST /visits/:id/reschedule\n   */\n  async rescheduleVisit(request, reply) {\n    try {\n      const { id } = request.params;\n      const { new_date, new_time, reason } = request.body;\n\n      if (!new_date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required field: new_date'\n        };\n      }\n\n      // Get original visit\n      const originalVisit = await db\n        .select()\n        .from(scheduled_visits)\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .limit(1);\n\n      if (!originalVisit[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      // Create new visit with new date/time\n      const newVisit = await db\n        .insert(scheduled_visits)\n        .values({\n          patient_id: originalVisit[0].patient_id,\n          staff_id: originalVisit[0].staff_id,\n          visit_type: originalVisit[0].visit_type,\n          visit_purpose: originalVisit[0].visit_purpose,\n          scheduled_date: new_date,\n          scheduled_start_time: new_time || originalVisit[0].scheduled_start_time,\n          scheduled_end_time: originalVisit[0].scheduled_end_time,\n          estimated_duration_minutes: originalVisit[0].estimated_duration_minutes,\n          visit_status: 'SCHEDULED',\n          recurring_visit_id: originalVisit[0].recurring_visit_id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      // Update original visit\n      await db\n        .update(scheduled_visits)\n        .set({\n          visit_status: 'RESCHEDULED',\n          rescheduled_to_visit_id: newVisit[0].id,\n          cancellation_reason: reason || 'Rescheduled',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)));\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Visit rescheduled successfully',\n        original_visit_id: parseInt(id),\n        new_visit: newVisit[0]\n      };\n    } catch (error) {\n      logger.error('Error rescheduling visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error rescheduling visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Confirm visit\n   * POST /visits/:id/confirm\n   */\n  async confirmVisit(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .update(scheduled_visits)\n        .set({\n          visit_status: 'CONFIRMED',\n          patient_confirmed: true,\n          patient_confirmed_at: new Date(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduled_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Visit confirmed successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error confirming visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error confirming visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // RECURRING VISITS\n  // ============================================\n\n  /**\n   * Get recurring visit templates\n   * GET /recurring-visits\n   */\n  async getRecurringVisits(request, reply) {\n    try {\n      const { patient_id, is_active } = request.query;\n\n      let query = db\n        .select({\n          recurring: recurring_visits,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name\n          },\n          staff: {\n            id: staff_profiles.id,\n            first_name: staff_profiles.first_name,\n            last_name: staff_profiles.last_name\n          }\n        })\n        .from(recurring_visits)\n        .leftJoin(patients, eq(recurring_visits.patient_id, patients.id))\n        .leftJoin(staff_profiles, eq(recurring_visits.staff_id, staff_profiles.id))\n        .where(isNull(recurring_visits.deleted_at));\n\n      const filters = [];\n      if (patient_id) {\n        filters.push(eq(recurring_visits.patient_id, parseInt(patient_id)));\n      }\n      if (is_active !== undefined) {\n        filters.push(eq(recurring_visits.is_active, is_active === 'true'));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query.orderBy(recurring_visits.start_date);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching recurring visits:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching recurring visits',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create recurring visit template\n   * POST /recurring-visits\n   */\n  async createRecurringVisit(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.patient_id || !data.recurrence_pattern || !data.start_date || !data.visit_type) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: patient_id, recurrence_pattern, start_date, visit_type'\n        };\n      }\n\n      const result = await db\n        .insert(recurring_visits)\n        .values({\n          ...data,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Recurring visit created successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating recurring visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating recurring visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update recurring visit template\n   * PATCH /recurring-visits/:id\n   */\n  async updateRecurringVisit(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      const result = await db\n        .update(recurring_visits)\n        .set({\n          ...data,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(recurring_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Recurring visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Recurring visit updated successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error updating recurring visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating recurring visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Deactivate recurring visit\n   * POST /recurring-visits/:id/deactivate\n   */\n  async deactivateRecurringVisit(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .update(recurring_visits)\n        .set({\n          is_active: false,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(recurring_visits.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Recurring visit not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Recurring visit deactivated successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error deactivating recurring visit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deactivating recurring visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // ON-CALL SCHEDULES\n  // ============================================\n\n  /**\n   * Get on-call schedules\n   * GET /on-call\n   */\n  async getOnCallSchedules(request, reply) {\n    try {\n      const { staff_id, start_date, end_date, on_call_type } = request.query;\n\n      let query = db\n        .select({\n          schedule: on_call_schedule,\n          staff: {\n            id: staff_profiles.id,\n            first_name: staff_profiles.first_name,\n            last_name: staff_profiles.last_name,\n            job_title: staff_profiles.job_title,\n            phone: staff_profiles.phone,\n            mobile: staff_profiles.mobile\n          }\n        })\n        .from(on_call_schedule)\n        .leftJoin(staff_profiles, eq(on_call_schedule.staff_id, staff_profiles.id))\n        .where(isNull(on_call_schedule.deleted_at));\n\n      const filters = [];\n      if (staff_id) {\n        filters.push(eq(on_call_schedule.staff_id, parseInt(staff_id)));\n      }\n      if (start_date) {\n        filters.push(gte(on_call_schedule.start_datetime, new Date(start_date)));\n      }\n      if (end_date) {\n        filters.push(lte(on_call_schedule.end_datetime, new Date(end_date)));\n      }\n      if (on_call_type) {\n        filters.push(eq(on_call_schedule.on_call_type, on_call_type));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query.orderBy(on_call_schedule.start_datetime);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching on-call schedules:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching on-call schedules',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create on-call schedule\n   * POST /on-call\n   */\n  async createOnCallSchedule(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.staff_id || !data.start_datetime || !data.end_datetime || !data.on_call_type) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: staff_id, start_datetime, end_datetime, on_call_type'\n        };\n      }\n\n      const result = await db\n        .insert(on_call_schedule)\n        .values({\n          ...data,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'On-call schedule created successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating on-call schedule:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating on-call schedule',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get current on-call staff\n   * GET /on-call/current\n   */\n  async getCurrentOnCall(request, reply) {\n    try {\n      const now = new Date();\n\n      const results = await db\n        .select({\n          schedule: on_call_schedule,\n          staff: staff_profiles\n        })\n        .from(on_call_schedule)\n        .leftJoin(staff_profiles, eq(on_call_schedule.staff_id, staff_profiles.id))\n        .where(and(\n          lte(on_call_schedule.start_datetime, now),\n          gte(on_call_schedule.end_datetime, now),\n          eq(on_call_schedule.schedule_status, 'ACTIVE'),\n          isNull(on_call_schedule.deleted_at)\n        ))\n        .orderBy(on_call_schedule.on_call_type);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        current_datetime: now\n      };\n    } catch (error) {\n      logger.error('Error fetching current on-call:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching current on-call',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // ON-CALL LOGS\n  // ============================================\n\n  /**\n   * Get on-call logs\n   * GET /on-call/logs\n   */\n  async getOnCallLogs(request, reply) {\n    try {\n      const { staff_id, patient_id, start_date, end_date, call_priority } = request.query;\n\n      let query = db\n        .select({\n          log: on_call_logs,\n          staff: {\n            id: staff_profiles.id,\n            first_name: staff_profiles.first_name,\n            last_name: staff_profiles.last_name\n          },\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name\n          }\n        })\n        .from(on_call_logs)\n        .leftJoin(staff_profiles, eq(on_call_logs.staff_id, staff_profiles.id))\n        .leftJoin(patients, eq(on_call_logs.patient_id, patients.id))\n        .where(isNull(on_call_logs.deleted_at));\n\n      const filters = [];\n      if (staff_id) {\n        filters.push(eq(on_call_logs.staff_id, parseInt(staff_id)));\n      }\n      if (patient_id) {\n        filters.push(eq(on_call_logs.patient_id, parseInt(patient_id)));\n      }\n      if (start_date) {\n        filters.push(gte(on_call_logs.call_datetime, new Date(start_date)));\n      }\n      if (end_date) {\n        filters.push(lte(on_call_logs.call_datetime, new Date(end_date)));\n      }\n      if (call_priority) {\n        filters.push(eq(on_call_logs.call_priority, call_priority));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query.orderBy(desc(on_call_logs.call_datetime));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching on-call logs:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching on-call logs',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create on-call log entry\n   * POST /on-call/logs\n   */\n  async createOnCallLog(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.on_call_schedule_id || !data.staff_id || !data.call_reason || !data.call_priority) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: on_call_schedule_id, staff_id, call_reason, call_priority'\n        };\n      }\n\n      const result = await db\n        .insert(on_call_logs)\n        .values({\n          call_datetime: new Date(),\n          ...data,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'On-call log created successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating on-call log:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating on-call log',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // VISIT COMPLIANCE\n  // ============================================\n\n  /**\n   * Get visit compliance reports\n   * GET /compliance/visits\n   */\n  async getVisitCompliance(request, reply) {\n    try {\n      const { patient_id, is_compliant } = request.query;\n\n      let query = db\n        .select({\n          compliance: visit_compliance,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(visit_compliance)\n        .leftJoin(patients, eq(visit_compliance.patient_id, patients.id));\n\n      const filters = [];\n      if (patient_id) {\n        filters.push(eq(visit_compliance.patient_id, parseInt(patient_id)));\n      }\n      if (is_compliant !== undefined) {\n        filters.push(eq(visit_compliance.is_compliant, is_compliant === 'true'));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query.orderBy(visit_compliance.period_start_date);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching visit compliance:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching visit compliance',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get non-compliant patients\n   * GET /compliance/visits/non-compliant\n   */\n  async getNonCompliantPatients(request, reply) {\n    try {\n      const results = await db\n        .select({\n          compliance: visit_compliance,\n          patient: patients\n        })\n        .from(visit_compliance)\n        .leftJoin(patients, eq(visit_compliance.patient_id, patients.id))\n        .where(eq(visit_compliance.is_compliant, false))\n        .orderBy(visit_compliance.compliance_percentage);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching non-compliant patients:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching non-compliant patients',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get overdue RN visits\n   * GET /compliance/visits/rn-overdue\n   */\n  async getOverdueRNVisits(request, reply) {\n    try {\n      const results = await db\n        .select({\n          compliance: visit_compliance,\n          patient: patients\n        })\n        .from(visit_compliance)\n        .leftJoin(patients, eq(visit_compliance.patient_id, patients.id))\n        .where(eq(visit_compliance.rn_visit_overdue, true))\n        .orderBy(desc(visit_compliance.days_since_last_rn_visit));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        message: results.length > 0 ? 'RN visits overdue (>14 days)' : 'All RN visits compliant'\n      };\n    } catch (error) {\n      logger.error('Error fetching overdue RN visits:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching overdue RN visits',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // SCHEDULING CONFLICTS\n  // ============================================\n\n  /**\n   * Get scheduling conflicts\n   * GET /conflicts\n   */\n  async getConflicts(request, reply) {\n    try {\n      const {\n        limit = 50,\n        offset = 0,\n        staff_id,\n        conflict_status,\n        conflict_type,\n        conflict_severity,\n        start_date,\n        end_date\n      } = request.query;\n\n      let query = db\n        .select({\n          conflict: scheduling_conflicts,\n          visit1: {\n            id: scheduled_visits.id,\n            scheduled_date: scheduled_visits.scheduled_date,\n            scheduled_start_time: scheduled_visits.scheduled_start_time,\n            scheduled_end_time: scheduled_visits.scheduled_end_time,\n            visit_type: scheduled_visits.visit_type\n          },\n          staff: {\n            id: staff_profiles.id,\n            first_name: staff_profiles.first_name,\n            last_name: staff_profiles.last_name,\n            job_title: staff_profiles.job_title\n          },\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name\n          }\n        })\n        .from(scheduling_conflicts)\n        .leftJoin(scheduled_visits, eq(scheduling_conflicts.visit_id_1, scheduled_visits.id))\n        .leftJoin(staff_profiles, eq(scheduling_conflicts.staff_id, staff_profiles.id))\n        .leftJoin(patients, eq(scheduling_conflicts.patient_id, patients.id))\n        .where(isNull(scheduling_conflicts.deleted_at));\n\n      const filters = [];\n      if (staff_id) {\n        filters.push(eq(scheduling_conflicts.staff_id, parseInt(staff_id)));\n      }\n      if (conflict_status) {\n        filters.push(eq(scheduling_conflicts.conflict_status, conflict_status));\n      }\n      if (conflict_type) {\n        filters.push(eq(scheduling_conflicts.conflict_type, conflict_type));\n      }\n      if (conflict_severity) {\n        filters.push(eq(scheduling_conflicts.conflict_severity, conflict_severity));\n      }\n      if (start_date) {\n        filters.push(gte(scheduling_conflicts.conflict_date, start_date));\n      }\n      if (end_date) {\n        filters.push(lte(scheduling_conflicts.conflict_date, end_date));\n      }\n\n      if (filters.length > 0) {\n        query = query.where(and(...filters));\n      }\n\n      const results = await query\n        .orderBy(desc(scheduling_conflicts.createdAt))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching conflicts:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching conflicts',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Detect conflicts for a staff member on a given date\n   * GET /conflicts/detect\n   */\n  async detectConflicts(request, reply) {\n    try {\n      const { staff_id, date } = request.query;\n\n      if (!staff_id || !date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: staff_id, date'\n        };\n      }\n\n      // Get all visits for the staff member on this date\n      const visits = await db\n        .select()\n        .from(scheduled_visits)\n        .where(and(\n          eq(scheduled_visits.staff_id, parseInt(staff_id)),\n          eq(scheduled_visits.scheduled_date, date),\n          isNull(scheduled_visits.deleted_at),\n          or(\n            eq(scheduled_visits.visit_status, 'SCHEDULED'),\n            eq(scheduled_visits.visit_status, 'CONFIRMED')\n          )\n        ))\n        .orderBy(scheduled_visits.scheduled_start_time);\n\n      const conflicts = [];\n\n      // Check for overlapping visits\n      for (let i = 0; i < visits.length; i++) {\n        for (let j = i + 1; j < visits.length; j++) {\n          const visit1 = visits[i];\n          const visit2 = visits[j];\n\n          // Convert times to comparable format\n          const start1 = visit1.scheduled_start_time;\n          const end1 = visit1.scheduled_end_time || this._addMinutesToTime(start1, visit1.estimated_duration_minutes || 60);\n          const start2 = visit2.scheduled_start_time;\n          const end2 = visit2.scheduled_end_time || this._addMinutesToTime(start2, visit2.estimated_duration_minutes || 60);\n\n          // Check for time overlap\n          if (start1 < end2 && start2 < end1) {\n            // Calculate overlap duration\n            const overlapStart = start1 > start2 ? start1 : start2;\n            const overlapEnd = end1 < end2 ? end1 : end2;\n            const overlapMinutes = this._calculateMinutesBetweenTimes(overlapStart, overlapEnd);\n\n            conflicts.push({\n              visit_id_1: visit1.id,\n              visit_id_2: visit2.id,\n              staff_id: parseInt(staff_id),\n              patient_id: visit1.patient_id,\n              conflict_type: 'TIME_OVERLAP',\n              conflict_severity: overlapMinutes > 30 ? 'HIGH' : 'MEDIUM',\n              conflict_date: date,\n              conflict_start_time: overlapStart,\n              conflict_end_time: overlapEnd,\n              overlap_minutes: overlapMinutes,\n              conflict_description: `Visits ${visit1.id} and ${visit2.id} overlap by ${overlapMinutes} minutes`,\n              detected_by: 'SYSTEM',\n              detection_rule: 'TIME_OVERLAP_CHECK'\n            });\n          }\n        }\n      }\n\n      // Check for same patient double-booking (same patient, same date, different staff)\n      const patientIds = [...new Set(visits.map(v => v.patient_id))];\n      for (const patientId of patientIds) {\n        const otherStaffVisits = await db\n          .select()\n          .from(scheduled_visits)\n          .where(and(\n            eq(scheduled_visits.patient_id, patientId),\n            eq(scheduled_visits.scheduled_date, date),\n            sql`${scheduled_visits.staff_id} != ${parseInt(staff_id)}`,\n            isNull(scheduled_visits.deleted_at),\n            or(\n              eq(scheduled_visits.visit_status, 'SCHEDULED'),\n              eq(scheduled_visits.visit_status, 'CONFIRMED')\n            )\n          ));\n\n        if (otherStaffVisits.length > 0) {\n          const patientVisit = visits.find(v => v.patient_id === patientId);\n          for (const otherVisit of otherStaffVisits) {\n            conflicts.push({\n              visit_id_1: patientVisit.id,\n              visit_id_2: otherVisit.id,\n              staff_id: parseInt(staff_id),\n              patient_id: patientId,\n              conflict_type: 'DOUBLE_BOOKING',\n              conflict_severity: 'MEDIUM',\n              conflict_date: date,\n              conflict_description: `Patient has multiple visits scheduled on ${date}`,\n              detected_by: 'SYSTEM',\n              detection_rule: 'PATIENT_DOUBLE_BOOKING_CHECK'\n            });\n          }\n        }\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: conflicts,\n        count: conflicts.length,\n        message: conflicts.length > 0 ? `Found ${conflicts.length} potential conflict(s)` : 'No conflicts detected'\n      };\n    } catch (error) {\n      logger.error('Error detecting conflicts:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error detecting conflicts',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create/record a scheduling conflict\n   * POST /conflicts\n   */\n  async createConflict(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.visit_id_1 || !data.visit_id_2 || !data.conflict_type || !data.conflict_date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: visit_id_1, visit_id_2, conflict_type, conflict_date'\n        };\n      }\n\n      const result = await db\n        .insert(scheduling_conflicts)\n        .values({\n          ...data,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Conflict recorded successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating conflict:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating conflict',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Resolve a scheduling conflict\n   * POST /conflicts/:id/resolve\n   */\n  async resolveConflict(request, reply) {\n    try {\n      const { id } = request.params;\n      const { resolution_type, resolution_notes } = request.body;\n\n      if (!resolution_type) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required field: resolution_type'\n        };\n      }\n\n      const result = await db\n        .update(scheduling_conflicts)\n        .set({\n          conflict_status: 'RESOLVED',\n          resolution_type,\n          resolution_notes,\n          resolved_by_id: request.user?.id,\n          resolved_at: new Date(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduling_conflicts.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Conflict not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Conflict resolved successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error resolving conflict:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error resolving conflict',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Acknowledge a scheduling conflict\n   * POST /conflicts/:id/acknowledge\n   */\n  async acknowledgeConflict(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .update(scheduling_conflicts)\n        .set({\n          conflict_status: 'ACKNOWLEDGED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(scheduling_conflicts.id, parseInt(id)))\n        .returning();\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Conflict not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Conflict acknowledged',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error acknowledging conflict:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error acknowledging conflict',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get unresolved conflicts count (for dashboard/alerts)\n   * GET /conflicts/unresolved-count\n   */\n  async getUnresolvedConflictsCount(request, reply) {\n    try {\n      const { staff_id } = request.query;\n\n      const filters = [\n        isNull(scheduling_conflicts.deleted_at),\n        or(\n          eq(scheduling_conflicts.conflict_status, 'DETECTED'),\n          eq(scheduling_conflicts.conflict_status, 'FLAGGED'),\n          eq(scheduling_conflicts.conflict_status, 'ACKNOWLEDGED')\n        )\n      ];\n\n      if (staff_id) {\n        filters.push(eq(scheduling_conflicts.staff_id, parseInt(staff_id)));\n      }\n\n      const result = await db\n        .select({ count: sql`count(*)::int` })\n        .from(scheduling_conflicts)\n        .where(and(...filters));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          unresolved_count: result[0]?.count || 0\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching unresolved conflicts count:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching unresolved conflicts count',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================\n  // HELPER METHODS\n  // ============================================\n\n  /**\n   * Add minutes to a time string (HH:MM:SS)\n   */\n  _addMinutesToTime(timeStr, minutes) {\n    const [hours, mins] = timeStr.split(':').map(Number);\n    const totalMinutes = hours * 60 + mins + minutes;\n    const newHours = Math.floor(totalMinutes / 60) % 24;\n    const newMins = totalMinutes % 60;\n    return `${String(newHours).padStart(2, '0')}:${String(newMins).padStart(2, '0')}:00`;\n  }\n\n  /**\n   * Calculate minutes between two time strings\n   */\n  _calculateMinutesBetweenTimes(time1, time2) {\n    const [h1, m1] = time1.split(':').map(Number);\n    const [h2, m2] = time2.split(':').map(Number);\n    return Math.abs((h2 * 60 + m2) - (h1 * 60 + m1));\n  }\n\n  /**\n   * Validate visit business rules\n   * @param {Object} data - Visit data\n   * @returns {Object} - { valid: boolean, message: string }\n   */\n  _validateVisitBusinessRules(data) {\n    // Check duration\n    const duration = data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES;\n    if (duration < MIN_VISIT_DURATION_MINUTES) {\n      return {\n        valid: false,\n        message: `Visit duration must be at least ${MIN_VISIT_DURATION_MINUTES} minutes`\n      };\n    }\n    if (duration > MAX_VISIT_DURATION_MINUTES) {\n      return {\n        valid: false,\n        message: `Visit duration cannot exceed ${MAX_VISIT_DURATION_MINUTES} minutes (${MAX_VISIT_DURATION_MINUTES / 60} hours)`\n      };\n    }\n\n    // Check scheduled date is not in the past (with tolerance for same-day)\n    const scheduledDate = new Date(data.scheduled_date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    if (scheduledDate < today) {\n      return {\n        valid: false,\n        message: 'Cannot schedule visits in the past'\n      };\n    }\n\n    // Check advance booking limit\n    const maxBookingDate = new Date();\n    maxBookingDate.setDate(maxBookingDate.getDate() + MAX_ADVANCE_BOOKING_DAYS);\n    if (scheduledDate > maxBookingDate) {\n      return {\n        valid: false,\n        message: `Cannot schedule visits more than ${MAX_ADVANCE_BOOKING_DAYS} days in advance`\n      };\n    }\n\n    // Validate time format (HH:MM:SS or HH:MM)\n    const timeRegex = /^([01]\\d|2[0-3]):([0-5]\\d)(:[0-5]\\d)?$/;\n    if (!timeRegex.test(data.scheduled_start_time)) {\n      return {\n        valid: false,\n        message: 'Invalid start time format. Use HH:MM or HH:MM:SS'\n      };\n    }\n\n    // Validate visit type\n    const validVisitTypes = ['RN', 'LPN', 'CNA', 'SOCIAL_WORKER', 'CHAPLAIN', 'VOLUNTEER', 'PHYSICIAN', 'MSW', 'HOSPICE_AIDE'];\n    if (!validVisitTypes.includes(data.visit_type.toUpperCase())) {\n      return {\n        valid: false,\n        message: `Invalid visit type. Valid types: ${validVisitTypes.join(', ')}`\n      };\n    }\n\n    return { valid: true };\n  }\n\n  /**\n   * Check staff availability against staff_schedule\n   * @param {number} staffId - Staff ID\n   * @param {string} date - Date (YYYY-MM-DD)\n   * @param {string} startTime - Start time (HH:MM:SS)\n   * @param {string} endTime - End time (HH:MM:SS)\n   * @returns {Object} - { available: boolean, reason: string, details: Object }\n   */\n  async _checkStaffAvailability(staffId, date, startTime, endTime) {\n    try {\n      // Get staff schedule entries for the date\n      const schedules = await db\n        .select()\n        .from(staff_schedule)\n        .where(and(\n          eq(staff_schedule.staff_id, staffId),\n          eq(staff_schedule.shift_date, date),\n          isNull(staff_schedule.deleted_at)\n        ));\n\n      // Check for time-off on this date\n      const timeOffSchedules = schedules.filter(s =>\n        s.schedule_type === 'TIME_OFF' &&\n        (s.time_off_status === 'APPROVED' || s.time_off_status === 'REQUESTED')\n      );\n\n      if (timeOffSchedules.length > 0) {\n        const timeOff = timeOffSchedules[0];\n        return {\n          available: false,\n          reason: 'Staff member has approved time-off on this date',\n          details: {\n            type: 'TIME_OFF',\n            time_off_type: timeOff.time_off_type,\n            status: timeOff.time_off_status\n          }\n        };\n      }\n\n      // Check for training or meeting on this date that overlaps with requested time\n      const unavailableSchedules = schedules.filter(s =>\n        s.schedule_type === 'TRAINING' || s.schedule_type === 'MEETING'\n      );\n\n      for (const schedule of unavailableSchedules) {\n        if (schedule.start_time && schedule.end_time) {\n          // Convert timestamps to time strings for comparison\n          const schedStartTime = new Date(schedule.start_time);\n          const schedEndTime = new Date(schedule.end_time);\n          const schedStartStr = `${String(schedStartTime.getHours()).padStart(2, '0')}:${String(schedStartTime.getMinutes()).padStart(2, '0')}:00`;\n          const schedEndStr = `${String(schedEndTime.getHours()).padStart(2, '0')}:${String(schedEndTime.getMinutes()).padStart(2, '0')}:00`;\n\n          if (this._timesOverlap(startTime, endTime, schedStartStr, schedEndStr)) {\n            return {\n              available: false,\n              reason: `Staff member has ${schedule.schedule_type.toLowerCase()} scheduled during this time`,\n              details: {\n                type: schedule.schedule_type,\n                start_time: schedStartStr,\n                end_time: schedEndStr,\n                notes: schedule.notes\n              }\n            };\n          }\n        }\n      }\n\n      // Check if there's a shift defined for this day\n      const shiftSchedules = schedules.filter(s => s.schedule_type === 'SHIFT');\n\n      if (shiftSchedules.length > 0) {\n        // Staff has defined working hours - check if visit falls within them\n        const shift = shiftSchedules[0];\n        if (shift.start_time && shift.end_time) {\n          const shiftStartTime = new Date(shift.start_time);\n          const shiftEndTime = new Date(shift.end_time);\n          const shiftStartStr = `${String(shiftStartTime.getHours()).padStart(2, '0')}:${String(shiftStartTime.getMinutes()).padStart(2, '0')}:00`;\n          const shiftEndStr = `${String(shiftEndTime.getHours()).padStart(2, '0')}:${String(shiftEndTime.getMinutes()).padStart(2, '0')}:00`;\n\n          // Visit must be within shift hours\n          if (!this._timeWithinRange(startTime, shiftStartStr, shiftEndStr) ||\n              !this._timeWithinRange(endTime, shiftStartStr, shiftEndStr)) {\n            return {\n              available: false,\n              reason: 'Requested time is outside staff working hours',\n              details: {\n                type: 'OUTSIDE_SHIFT',\n                shift_start: shiftStartStr,\n                shift_end: shiftEndStr,\n                requested_start: startTime,\n                requested_end: endTime\n              }\n            };\n          }\n        }\n      }\n\n      // No blockers found - staff is available\n      return { available: true };\n    } catch (error) {\n      logger.error('Error checking staff availability:', error);\n      // If we can't check availability, allow the booking but log the error\n      return { available: true };\n    }\n  }\n\n  /**\n   * Check for visit conflicts with existing visits for a staff member\n   * @param {number} staffId - Staff ID\n   * @param {string} date - Date (YYYY-MM-DD)\n   * @param {string} startTime - Start time (HH:MM:SS)\n   * @param {string} endTime - End time (HH:MM:SS)\n   * @param {number|null} excludeVisitId - Visit ID to exclude (for updates)\n   * @returns {Array} - Array of conflict objects\n   */\n  async _checkVisitConflicts(staffId, date, startTime, endTime, excludeVisitId = null) {\n    try {\n      // Build query for existing visits\n      const conditions = [\n        eq(scheduled_visits.staff_id, staffId),\n        eq(scheduled_visits.scheduled_date, date),\n        isNull(scheduled_visits.deleted_at),\n        or(\n          eq(scheduled_visits.visit_status, 'SCHEDULED'),\n          eq(scheduled_visits.visit_status, 'CONFIRMED'),\n          eq(scheduled_visits.visit_status, 'IN_PROGRESS')\n        )\n      ];\n\n      // Exclude specific visit if provided (for updates)\n      if (excludeVisitId) {\n        conditions.push(ne(scheduled_visits.id, excludeVisitId));\n      }\n\n      const existingVisits = await db\n        .select({\n          id: scheduled_visits.id,\n          patient_id: scheduled_visits.patient_id,\n          scheduled_start_time: scheduled_visits.scheduled_start_time,\n          scheduled_end_time: scheduled_visits.scheduled_end_time,\n          estimated_duration_minutes: scheduled_visits.estimated_duration_minutes,\n          visit_type: scheduled_visits.visit_type,\n          visit_status: scheduled_visits.visit_status\n        })\n        .from(scheduled_visits)\n        .where(and(...conditions))\n        .orderBy(scheduled_visits.scheduled_start_time);\n\n      const conflicts = [];\n\n      for (const existingVisit of existingVisits) {\n        const existingStart = existingVisit.scheduled_start_time;\n        const existingEnd = existingVisit.scheduled_end_time ||\n          this._addMinutesToTime(existingStart, existingVisit.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES);\n\n        if (this._timesOverlap(startTime, endTime, existingStart, existingEnd)) {\n          // Calculate overlap details\n          const overlapStart = startTime > existingStart ? startTime : existingStart;\n          const overlapEnd = endTime < existingEnd ? endTime : existingEnd;\n          const overlapMinutes = this._calculateMinutesBetweenTimes(overlapStart, overlapEnd);\n\n          conflicts.push({\n            conflicting_visit_id: existingVisit.id,\n            type: 'TIME_OVERLAP',\n            severity: overlapMinutes > 30 ? 'HIGH' : 'MEDIUM',\n            description: `Time overlap with visit #${existingVisit.id} (${existingVisit.visit_type}) by ${overlapMinutes} minutes`,\n            overlap_start: overlapStart,\n            overlap_end: overlapEnd,\n            overlap_minutes: overlapMinutes,\n            existing_visit: {\n              id: existingVisit.id,\n              start_time: existingStart,\n              end_time: existingEnd,\n              visit_type: existingVisit.visit_type,\n              status: existingVisit.visit_status\n            }\n          });\n        }\n      }\n\n      return conflicts;\n    } catch (error) {\n      logger.error('Error checking visit conflicts:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Check if two time ranges overlap\n   * @param {string} start1 - First range start (HH:MM:SS)\n   * @param {string} end1 - First range end (HH:MM:SS)\n   * @param {string} start2 - Second range start (HH:MM:SS)\n   * @param {string} end2 - Second range end (HH:MM:SS)\n   * @returns {boolean}\n   */\n  _timesOverlap(start1, end1, start2, end2) {\n    // Normalize to HH:MM format for comparison\n    const normalize = (time) => time.substring(0, 5);\n    const s1 = normalize(start1);\n    const e1 = normalize(end1);\n    const s2 = normalize(start2);\n    const e2 = normalize(end2);\n\n    return s1 < e2 && s2 < e1;\n  }\n\n  /**\n   * Check if a time is within a range\n   * @param {string} time - Time to check (HH:MM:SS)\n   * @param {string} rangeStart - Range start (HH:MM:SS)\n   * @param {string} rangeEnd - Range end (HH:MM:SS)\n   * @returns {boolean}\n   */\n  _timeWithinRange(time, rangeStart, rangeEnd) {\n    const normalize = (t) => t.substring(0, 5);\n    const t = normalize(time);\n    const start = normalize(rangeStart);\n    const end = normalize(rangeEnd);\n\n    return t >= start && t <= end;\n  }\n\n  // ============================================\n  // AVAILABLE TIME SLOTS\n  // ============================================\n\n  /**\n   * Get available time slots for a staff member on a given date\n   * GET /staff/:staff_id/available-slots\n   */\n  async getAvailableSlots(request, reply) {\n    try {\n      const { staff_id } = request.params;\n      const { date, duration_minutes = 60 } = request.query;\n\n      if (!date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required query parameter: date'\n        };\n      }\n\n      const staffId = parseInt(staff_id);\n      const duration = parseInt(duration_minutes);\n\n      // Check if staff exists\n      const staffMember = await db\n        .select()\n        .from(staff_profiles)\n        .where(and(\n          eq(staff_profiles.id, staffId),\n          eq(staff_profiles.employment_status, 'ACTIVE'),\n          isNull(staff_profiles.deleted_at)\n        ))\n        .limit(1);\n\n      if (!staffMember[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Staff member not found or is not active'\n        };\n      }\n\n      // Get staff schedule for the date to determine working hours\n      const schedules = await db\n        .select()\n        .from(staff_schedule)\n        .where(and(\n          eq(staff_schedule.staff_id, staffId),\n          eq(staff_schedule.shift_date, date),\n          isNull(staff_schedule.deleted_at)\n        ));\n\n      // Check for time-off\n      const timeOffSchedules = schedules.filter(s =>\n        s.schedule_type === 'TIME_OFF' &&\n        (s.time_off_status === 'APPROVED' || s.time_off_status === 'REQUESTED')\n      );\n\n      if (timeOffSchedules.length > 0) {\n        reply.code(200);\n        return {\n          status: 200,\n          data: {\n            staff_id: staffId,\n            staff_name: `${staffMember[0].first_name} ${staffMember[0].last_name}`,\n            date: date,\n            available: false,\n            reason: 'Staff has time-off on this date',\n            slots: []\n          }\n        };\n      }\n\n      // Determine working hours (default 8 AM - 6 PM if no shift defined)\n      let workStart = '08:00:00';\n      let workEnd = '18:00:00';\n\n      const shiftSchedules = schedules.filter(s => s.schedule_type === 'SHIFT');\n      if (shiftSchedules.length > 0 && shiftSchedules[0].start_time && shiftSchedules[0].end_time) {\n        const shiftStart = new Date(shiftSchedules[0].start_time);\n        const shiftEnd = new Date(shiftSchedules[0].end_time);\n        workStart = `${String(shiftStart.getHours()).padStart(2, '0')}:${String(shiftStart.getMinutes()).padStart(2, '0')}:00`;\n        workEnd = `${String(shiftEnd.getHours()).padStart(2, '0')}:${String(shiftEnd.getMinutes()).padStart(2, '0')}:00`;\n      }\n\n      // Get blocked times (training, meetings)\n      const blockedTimes = [];\n      const unavailableSchedules = schedules.filter(s =>\n        s.schedule_type === 'TRAINING' || s.schedule_type === 'MEETING'\n      );\n\n      for (const schedule of unavailableSchedules) {\n        if (schedule.start_time && schedule.end_time) {\n          const startTime = new Date(schedule.start_time);\n          const endTime = new Date(schedule.end_time);\n          blockedTimes.push({\n            start: `${String(startTime.getHours()).padStart(2, '0')}:${String(startTime.getMinutes()).padStart(2, '0')}:00`,\n            end: `${String(endTime.getHours()).padStart(2, '0')}:${String(endTime.getMinutes()).padStart(2, '0')}:00`,\n            reason: schedule.schedule_type\n          });\n        }\n      }\n\n      // Get existing visits for the date\n      const existingVisits = await db\n        .select({\n          id: scheduled_visits.id,\n          scheduled_start_time: scheduled_visits.scheduled_start_time,\n          scheduled_end_time: scheduled_visits.scheduled_end_time,\n          estimated_duration_minutes: scheduled_visits.estimated_duration_minutes\n        })\n        .from(scheduled_visits)\n        .where(and(\n          eq(scheduled_visits.staff_id, staffId),\n          eq(scheduled_visits.scheduled_date, date),\n          isNull(scheduled_visits.deleted_at),\n          or(\n            eq(scheduled_visits.visit_status, 'SCHEDULED'),\n            eq(scheduled_visits.visit_status, 'CONFIRMED'),\n            eq(scheduled_visits.visit_status, 'IN_PROGRESS')\n          )\n        ))\n        .orderBy(scheduled_visits.scheduled_start_time);\n\n      // Add existing visits to blocked times\n      for (const visit of existingVisits) {\n        const endTime = visit.scheduled_end_time ||\n          this._addMinutesToTime(visit.scheduled_start_time, visit.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES);\n        blockedTimes.push({\n          start: visit.scheduled_start_time,\n          end: endTime,\n          reason: 'EXISTING_VISIT',\n          visit_id: visit.id\n        });\n      }\n\n      // Sort blocked times by start time\n      blockedTimes.sort((a, b) => a.start.localeCompare(b.start));\n\n      // Generate available slots\n      const slots = this._generateAvailableSlots(workStart, workEnd, blockedTimes, duration);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          staff_id: staffId,\n          staff_name: `${staffMember[0].first_name} ${staffMember[0].last_name}`,\n          date: date,\n          available: slots.length > 0,\n          working_hours: {\n            start: workStart,\n            end: workEnd\n          },\n          requested_duration_minutes: duration,\n          slots: slots,\n          blocked_times: blockedTimes\n        }\n      };\n    } catch (error) {\n      logger.error('Error getting available slots:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error getting available slots',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Generate available time slots given working hours and blocked times\n   * @param {string} workStart - Working hours start (HH:MM:SS)\n   * @param {string} workEnd - Working hours end (HH:MM:SS)\n   * @param {Array} blockedTimes - Array of { start, end } blocked time ranges\n   * @param {number} slotDuration - Required slot duration in minutes\n   * @returns {Array} - Array of available slot objects\n   */\n  _generateAvailableSlots(workStart, workEnd, blockedTimes, slotDuration) {\n    const slots = [];\n    let currentTime = workStart;\n\n    // Convert time string to minutes from midnight for easier calculation\n    const timeToMinutes = (time) => {\n      const [h, m] = time.split(':').map(Number);\n      return h * 60 + m;\n    };\n\n    // Convert minutes back to time string\n    const minutesToTime = (minutes) => {\n      const h = Math.floor(minutes / 60) % 24;\n      const m = minutes % 60;\n      return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}:00`;\n    };\n\n    const workStartMins = timeToMinutes(workStart);\n    const workEndMins = timeToMinutes(workEnd);\n    let currentMins = workStartMins;\n\n    // Merge overlapping blocked times\n    const mergedBlocked = this._mergeOverlappingRanges(blockedTimes.map(b => ({\n      start: timeToMinutes(b.start),\n      end: timeToMinutes(b.end)\n    })));\n\n    let blockedIndex = 0;\n\n    // Iterate through the work day in 15-minute increments\n    while (currentMins + slotDuration <= workEndMins) {\n      const slotEnd = currentMins + slotDuration;\n\n      // Skip past any blocked times that end before current time\n      while (blockedIndex < mergedBlocked.length && mergedBlocked[blockedIndex].end <= currentMins) {\n        blockedIndex++;\n      }\n\n      // Check if current slot overlaps with any blocked time\n      let isBlocked = false;\n      if (blockedIndex < mergedBlocked.length) {\n        const block = mergedBlocked[blockedIndex];\n        // Overlap if slot starts before block ends AND slot ends after block starts\n        if (currentMins < block.end && slotEnd > block.start) {\n          isBlocked = true;\n          // Jump to end of this blocked time\n          currentMins = block.end;\n          continue;\n        }\n      }\n\n      if (!isBlocked) {\n        slots.push({\n          start_time: minutesToTime(currentMins),\n          end_time: minutesToTime(slotEnd),\n          duration_minutes: slotDuration\n        });\n      }\n\n      // Move to next 15-minute slot\n      currentMins += 15;\n    }\n\n    return slots;\n  }\n\n  /**\n   * Merge overlapping time ranges\n   * @param {Array} ranges - Array of { start, end } in minutes\n   * @returns {Array} - Merged ranges\n   */\n  _mergeOverlappingRanges(ranges) {\n    if (ranges.length === 0) return [];\n\n    // Sort by start time\n    const sorted = [...ranges].sort((a, b) => a.start - b.start);\n    const merged = [sorted[0]];\n\n    for (let i = 1; i < sorted.length; i++) {\n      const last = merged[merged.length - 1];\n      const current = sorted[i];\n\n      if (current.start <= last.end) {\n        // Overlapping - merge\n        last.end = Math.max(last.end, current.end);\n      } else {\n        merged.push(current);\n      }\n    }\n\n    return merged;\n  }\n\n  // ============================================\n  // SCHEDULE A VISIT WITH STRICT CONFLICT CHECK\n  // ============================================\n\n  /**\n   * Schedule a visit with strict conflict prevention (atomic)\n   * POST /visits/schedule-strict\n   *\n   * This endpoint will REJECT the request if any conflicts are found,\n   * unlike the regular createVisit which allows with warnings.\n   */\n  async scheduleVisitStrict(request, reply) {\n    try {\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.patient_id || !data.staff_id || !data.scheduled_date || !data.visit_type || !data.scheduled_start_time) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: patient_id, staff_id, scheduled_date, visit_type, scheduled_start_time'\n        };\n      }\n\n      // Business rule validations\n      const validationResult = this._validateVisitBusinessRules(data);\n      if (!validationResult.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: validationResult.message\n        };\n      }\n\n      // Use transaction with serializable isolation to prevent race conditions\n      const result = await db.transaction(async (tx) => {\n        // Check if staff exists and is active\n        const [staffMember] = await tx\n          .select()\n          .from(staff_profiles)\n          .where(and(\n            eq(staff_profiles.id, parseInt(data.staff_id)),\n            eq(staff_profiles.employment_status, 'ACTIVE'),\n            isNull(staff_profiles.deleted_at)\n          ))\n          .limit(1);\n\n        if (!staffMember) {\n          throw new Error('STAFF_NOT_FOUND');\n        }\n\n        // Check if patient exists\n        const [patient] = await tx\n          .select()\n          .from(patients)\n          .where(and(\n            eq(patients.id, parseInt(data.patient_id)),\n            isNull(patients.deleted_at)\n          ))\n          .limit(1);\n\n        if (!patient) {\n          throw new Error('PATIENT_NOT_FOUND');\n        }\n\n        // Calculate end time\n        const endTime = data.scheduled_end_time ||\n          this._addMinutesToTime(data.scheduled_start_time, data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES);\n\n        // Check staff availability within transaction\n        const schedules = await tx\n          .select()\n          .from(staff_schedule)\n          .where(and(\n            eq(staff_schedule.staff_id, parseInt(data.staff_id)),\n            eq(staff_schedule.shift_date, data.scheduled_date),\n            isNull(staff_schedule.deleted_at)\n          ));\n\n        // Check for time-off\n        const timeOff = schedules.find(s =>\n          s.schedule_type === 'TIME_OFF' &&\n          (s.time_off_status === 'APPROVED' || s.time_off_status === 'REQUESTED')\n        );\n\n        if (timeOff) {\n          throw new Error('STAFF_UNAVAILABLE:Staff has time-off on this date');\n        }\n\n        // Check for existing overlapping visits (with FOR UPDATE lock)\n        const [existingConflict] = await tx\n          .select()\n          .from(scheduled_visits)\n          .where(and(\n            eq(scheduled_visits.staff_id, parseInt(data.staff_id)),\n            eq(scheduled_visits.scheduled_date, data.scheduled_date),\n            isNull(scheduled_visits.deleted_at),\n            or(\n              eq(scheduled_visits.visit_status, 'SCHEDULED'),\n              eq(scheduled_visits.visit_status, 'CONFIRMED'),\n              eq(scheduled_visits.visit_status, 'IN_PROGRESS')\n            ),\n            // Check time overlap using SQL\n            sql`(${scheduled_visits.scheduled_start_time} < ${endTime}::time AND\n                 COALESCE(${scheduled_visits.scheduled_end_time},\n                   ${scheduled_visits.scheduled_start_time}::time + (${scheduled_visits.estimated_duration_minutes} || ' minutes')::interval\n                 )::time > ${data.scheduled_start_time}::time)`\n          ))\n          .limit(1);\n\n        if (existingConflict) {\n          throw new Error(`CONFLICT:Time conflict with existing visit #${existingConflict.id}`);\n        }\n\n        // All checks passed - create the visit\n        const [newVisit] = await tx\n          .insert(scheduled_visits)\n          .values({\n            ...data,\n            estimated_duration_minutes: data.estimated_duration_minutes || DEFAULT_VISIT_DURATION_MINUTES,\n            scheduled_end_time: endTime,\n            created_by_id: request.user?.id,\n            updated_by_id: request.user?.id\n          })\n          .returning();\n\n        return { visit: newVisit, staff: staffMember };\n      });\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Visit scheduled successfully (conflict-free)',\n        data: result.visit\n      };\n    } catch (error) {\n      // Handle specific errors\n      if (error.message === 'STAFF_NOT_FOUND') {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Staff member not found or is not active'\n        };\n      }\n\n      if (error.message === 'PATIENT_NOT_FOUND') {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Patient not found'\n        };\n      }\n\n      if (error.message.startsWith('STAFF_UNAVAILABLE:')) {\n        reply.code(409);\n        return {\n          status: 409,\n          message: error.message.substring('STAFF_UNAVAILABLE:'.length)\n        };\n      }\n\n      if (error.message.startsWith('CONFLICT:')) {\n        reply.code(409);\n        return {\n          status: 409,\n          message: error.message.substring('CONFLICT:'.length)\n        };\n      }\n\n      logger.error('Error scheduling visit (strict):', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error scheduling visit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Check staff availability for a specific time range\n   * GET /staff/:staff_id/check-availability\n   */\n  async checkStaffAvailability(request, reply) {\n    try {\n      const { staff_id } = request.params;\n      const { date, start_time, end_time, duration_minutes = 60 } = request.query;\n\n      if (!date || !start_time) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required query parameters: date, start_time'\n        };\n      }\n\n      const staffId = parseInt(staff_id);\n      const actualEndTime = end_time || this._addMinutesToTime(start_time, parseInt(duration_minutes));\n\n      // Check if staff exists\n      const [staffMember] = await db\n        .select()\n        .from(staff_profiles)\n        .where(and(\n          eq(staff_profiles.id, staffId),\n          isNull(staff_profiles.deleted_at)\n        ))\n        .limit(1);\n\n      if (!staffMember) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Staff member not found'\n        };\n      }\n\n      // Check availability\n      const availabilityCheck = await this._checkStaffAvailability(\n        staffId, date, start_time, actualEndTime\n      );\n\n      // Check for conflicts\n      const conflicts = await this._checkVisitConflicts(\n        staffId, date, start_time, actualEndTime, null\n      );\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          staff_id: staffId,\n          staff_name: `${staffMember.first_name} ${staffMember.last_name}`,\n          requested_slot: {\n            date: date,\n            start_time: start_time,\n            end_time: actualEndTime,\n            duration_minutes: parseInt(duration_minutes)\n          },\n          is_available: availabilityCheck.available && conflicts.length === 0,\n          schedule_available: availabilityCheck.available,\n          schedule_unavailability_reason: availabilityCheck.available ? null : availabilityCheck.reason,\n          schedule_unavailability_details: availabilityCheck.available ? null : availabilityCheck.details,\n          has_conflicts: conflicts.length > 0,\n          conflicts: conflicts.map(c => ({\n            type: c.type,\n            severity: c.severity,\n            description: c.description,\n            conflicting_visit_id: c.conflicting_visit_id,\n            overlap_minutes: c.overlap_minutes\n          }))\n        }\n      };\n    } catch (error) {\n      logger.error('Error checking staff availability:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error checking staff availability',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new SchedulingController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,c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","ignoreList":[]}