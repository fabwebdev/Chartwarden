{"version":3,"names":["cov_1ponj02lbt","actualCoverage","db","patients","benefit_periods","benefit_period_loc","benefit_period_elections","nursing_clinical_notes","eq","desc","and","isNull","logAudit","logger","s","getPeriodType","periodNumber","f","b","isFaceToFaceRequired","LOC_REVENUE_CODES","BenefitPeriodController","createNextPeriod","request","reply","patientId","params","election_date","election_statement_signed","certification_date","certifying_physician_id","terminal_prognosis_confirmed","prognosis_6_months_or_less","notes","body","patientRecords","select","id","from","where","limit","patient","code","send","success","error","benefitPeriodRecords","patient_id","start_date","end_date","period_number","period_type","status","deleted_at","orderBy","lastBenefitPeriod","startDate","lastEndDate","Date","setDate","getDate","duration","periodType","faceToFaceRequired","endDate","recertificationDate","now","newBenefitPeriod","insert","values","parseInt","toISOString","split","election_statement_date","recertification_required_by","face_to_face_required","face_to_face_completed","noe_filed","created_by_id","user","createdAt","updatedAt","returning","message","data","duration_days","period_type_description","listBenefitPeriods","includeDeleted","query","periods","filteredPeriods","filter","p","count","length","getBenefitPeriod","periodRecords","period","locRecords","benefit_period_id","effective_date","electionRecords","level_of_care_history","election_history","updateBenefitPeriod","updateData","updateFields","allowedFields","field","undefined","updated_by_id","updatedPeriod","update","set","addLevelOfCare","level_of_care","chc_start_time","chc_end_time","chc_total_hours","facility_id","facility_name","facility_npi","respite_day_count","crisis_reason","physician_order_date","ordering_physician_id","includes","newLocRecord","revenue_code","getLevelOfCareHistory","recordElection","election_type","witness_name","witness_signature_date","hospice_provider_name","hospice_provider_npi","attending_physician_id","attending_physician_name","physician_acknowledgment_date","revocation_effective_date","revocation_reason","remaining_days_in_period","transfer_from_hospice","transfer_to_hospice","transfer_date","validTypes","join","newElection","revocation_date","replace","toLowerCase","getElectionHistory","elections","getCurrentBenefitPeriod","currentPeriod","currentLoc","current_level_of_care","addNursingClinicalNote","benefitPeriodId","note_date","note","benefitPeriod","nursingClinicalNote","nursing_clinical_note","getPatientChart","first_name","last_name","date_of_birth","gender","ssn","address","city","state","zip","phone","email","emergency_contact","emergency_phone","benefitPeriods","patientWithRelations","Promise","all","map","time_in","time_out","patient_name","patient_number","location_name","benefit_period","dob","location_number","prn_visit","patient_identifiers","nursingClinicalNotes"],"sources":["BenefitPeriod.controller.js"],"sourcesContent":["import { db } from \"../../config/db.drizzle.js\";\nimport { patients } from \"../../db/schemas/patient.schema.js\";\nimport { benefit_periods, benefit_period_loc, benefit_period_elections } from \"../../db/schemas/benefitPeriod.schema.js\";\nimport { nursing_clinical_notes } from \"../../db/schemas/nursingClinicalNote.schema.js\";\nimport { eq, desc, and, isNull } from \"drizzle-orm\";\nimport { logAudit } from \"../../middleware/audit.middleware.js\";\n\nimport { logger } from '../../utils/logger.js';\n\n/**\n * Medicare Hospice Benefit Period Controller\n *\n * Endpoints:\n * 1. POST   /patient/:patientId/benefit-periods/create-next - Create next benefit period\n * 2. GET    /patient/:patientId/benefit-periods             - List all benefit periods\n * 3. GET    /benefit-periods/:id                            - Get benefit period details\n * 4. PUT    /benefit-periods/:id                            - Update benefit period\n * 5. POST   /benefit-periods/:id/loc                        - Add level of care change\n * 6. GET    /benefit-periods/:id/loc                        - Get level of care history\n * 7. POST   /benefit-periods/:id/election                   - Record election/revocation\n * 8. GET    /patient/:patientId/elections                   - Get election history\n * 9. GET    /patient/:patientId/current-benefit-period      - Get current active benefit period\n */\n\n// Helper function to determine period type based on period number\nconst getPeriodType = (periodNumber) => {\n    if (periodNumber === 1) return 'INITIAL_90';\n    if (periodNumber === 2) return 'SUBSEQUENT_90';\n    return 'SUBSEQUENT_60';\n};\n\n// Helper function to determine if face-to-face is required (3rd+ benefit period)\nconst isFaceToFaceRequired = (periodNumber) => periodNumber >= 3;\n\n// Revenue codes for level of care\nconst LOC_REVENUE_CODES = {\n    'RHC': '0651',  // Routine Home Care\n    'CHC': '0652',  // Continuous Home Care\n    'GIP': '0655',  // General Inpatient Care\n    'IRC': '0656'   // Inpatient Respite Care\n};\n\nclass BenefitPeriodController {\n    // Create next benefit period for a patient (enhanced with Medicare compliance)\n    async createNextPeriod(request, reply) {\n        try {\n            const { patientId } = request.params;\n            const {\n                election_date,\n                election_statement_signed,\n                certification_date,\n                certifying_physician_id,\n                terminal_prognosis_confirmed,\n                prognosis_6_months_or_less,\n                notes\n            } = request.body || {};\n\n            // Find the patient\n            const patientRecords = await db.select({ id: patients.id }).from(patients).where(eq(patients.id, patientId)).limit(1);\n            const patient = patientRecords[0];\n\n            if (!patient) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"Patient not found\",\n                });\n            }\n\n            // Find the last benefit period for this patient\n            const benefitPeriodRecords = await db.select({\n                id: benefit_periods.id,\n                patient_id: benefit_periods.patient_id,\n                start_date: benefit_periods.start_date,\n                end_date: benefit_periods.end_date,\n                period_number: benefit_periods.period_number,\n                period_type: benefit_periods.period_type,\n                status: benefit_periods.status,\n            }).from(benefit_periods)\n                .where(and(\n                    eq(benefit_periods.patient_id, patientId),\n                    isNull(benefit_periods.deleted_at)\n                ))\n                .orderBy(desc(benefit_periods.end_date))\n                .limit(1);\n            const lastBenefitPeriod = benefitPeriodRecords[0];\n\n            let startDate, periodNumber;\n\n            if (lastBenefitPeriod) {\n                // Calculate start date as one day after the last period's end date\n                const lastEndDate = new Date(lastBenefitPeriod.end_date);\n                startDate = new Date(lastEndDate);\n                startDate.setDate(startDate.getDate() + 1);\n                periodNumber = lastBenefitPeriod.period_number + 1;\n            } else {\n                // No previous benefit periods, starting the first one\n                startDate = election_date ? new Date(election_date) : new Date();\n                periodNumber = 1;\n            }\n\n            // Determine duration based on period number (Medicare hospice benefit structure)\n            // First two periods: 90 days each, subsequent periods: 60 days\n            const duration = periodNumber === 1 || periodNumber === 2 ? 90 : 60;\n            const periodType = getPeriodType(periodNumber);\n            const faceToFaceRequired = isFaceToFaceRequired(periodNumber);\n\n            // Calculate end date\n            const endDate = new Date(startDate);\n            endDate.setDate(endDate.getDate() + duration - 1);\n\n            // Calculate recertification required by date (typically 2 days before end)\n            const recertificationDate = new Date(endDate);\n            recertificationDate.setDate(recertificationDate.getDate() - 2);\n\n            // Create the new benefit period with enhanced fields\n            const now = new Date();\n            const newBenefitPeriod = await db.insert(benefit_periods).values({\n                patient_id: parseInt(patientId),\n                period_number: periodNumber,\n                period_type: periodType,\n                start_date: startDate.toISOString().split('T')[0],\n                end_date: endDate.toISOString().split('T')[0],\n                election_date: election_date || startDate.toISOString().split('T')[0],\n                election_statement_signed: election_statement_signed || false,\n                election_statement_date: election_statement_signed ? (election_date || startDate.toISOString().split('T')[0]) : null,\n                certification_date: certification_date || null,\n                certifying_physician_id: certifying_physician_id || null,\n                recertification_required_by: recertificationDate.toISOString().split('T')[0],\n                face_to_face_required: faceToFaceRequired,\n                face_to_face_completed: false,\n                status: 'ACTIVE',\n                terminal_prognosis_confirmed: terminal_prognosis_confirmed || false,\n                prognosis_6_months_or_less: prognosis_6_months_or_less || false,\n                noe_filed: false,\n                notes: notes || null,\n                created_by_id: request.user?.id || null,\n                createdAt: now,\n                updatedAt: now,\n            }).returning();\n\n            // Log audit - CREATE benefit period\n            await logAudit(request, 'CREATE', 'benefit_periods', newBenefitPeriod[0]?.id);\n\n            return reply.code(201).send({\n                success: true,\n                message: \"New benefit period created successfully\",\n                data: {\n                    ...newBenefitPeriod[0],\n                    duration_days: duration,\n                    period_type_description: periodType === 'INITIAL_90'\n                        ? 'Initial 90-day certification period'\n                        : periodType === 'SUBSEQUENT_90'\n                        ? 'Second 90-day certification period'\n                        : 'Subsequent 60-day certification period'\n                },\n            });\n        } catch (error) {\n            logger.error(\"Error creating benefit period:\", error)\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // List all benefit periods for a patient\n    async listBenefitPeriods(request, reply) {\n        try {\n            const { patientId } = request.params;\n            const { status, includeDeleted } = request.query || {};\n\n            let query = db.select().from(benefit_periods)\n                .where(eq(benefit_periods.patient_id, parseInt(patientId)));\n\n            if (!includeDeleted) {\n                query = db.select().from(benefit_periods)\n                    .where(and(\n                        eq(benefit_periods.patient_id, parseInt(patientId)),\n                        isNull(benefit_periods.deleted_at)\n                    ));\n            }\n\n            const periods = await query.orderBy(desc(benefit_periods.start_date));\n\n            // Filter by status if provided\n            const filteredPeriods = status\n                ? periods.filter(p => p.status === status)\n                : periods;\n\n            await logAudit(request, 'READ', 'benefit_periods', parseInt(patientId));\n\n            return reply.code(200).send({\n                success: true,\n                count: filteredPeriods.length,\n                data: filteredPeriods\n            });\n        } catch (error) {\n            logger.error(\"Error listing benefit periods:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Get single benefit period with details\n    async getBenefitPeriod(request, reply) {\n        try {\n            const { id } = request.params;\n\n            const periodRecords = await db.select()\n                .from(benefit_periods)\n                .where(eq(benefit_periods.id, parseInt(id)))\n                .limit(1);\n\n            const period = periodRecords[0];\n\n            if (!period) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"Benefit period not found\",\n                });\n            }\n\n            // Get associated level of care records\n            const locRecords = await db.select()\n                .from(benefit_period_loc)\n                .where(eq(benefit_period_loc.benefit_period_id, parseInt(id)))\n                .orderBy(desc(benefit_period_loc.effective_date));\n\n            // Get associated election records\n            const electionRecords = await db.select()\n                .from(benefit_period_elections)\n                .where(eq(benefit_period_elections.benefit_period_id, parseInt(id)))\n                .orderBy(desc(benefit_period_elections.election_date));\n\n            await logAudit(request, 'READ', 'benefit_periods', parseInt(id));\n\n            return reply.code(200).send({\n                success: true,\n                data: {\n                    ...period,\n                    level_of_care_history: locRecords,\n                    election_history: electionRecords\n                }\n            });\n        } catch (error) {\n            logger.error(\"Error getting benefit period:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Update benefit period\n    async updateBenefitPeriod(request, reply) {\n        try {\n            const { id } = request.params;\n            const updateData = request.body;\n\n            const periodRecords = await db.select({ id: benefit_periods.id })\n                .from(benefit_periods)\n                .where(eq(benefit_periods.id, parseInt(id)))\n                .limit(1);\n\n            if (!periodRecords[0]) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"Benefit period not found\",\n                });\n            }\n\n            // Build update object with only provided fields\n            const updateFields = {};\n            const allowedFields = [\n                'election_date', 'election_statement_signed', 'election_statement_date',\n                'certification_date', 'certifying_physician_id', 'recertification_required_by',\n                'face_to_face_completed', 'face_to_face_date',\n                'revocation_date', 'revocation_reason', 'discharge_date', 'discharge_reason',\n                'status', 'terminal_prognosis_confirmed', 'prognosis_6_months_or_less',\n                'noe_filed', 'noe_filed_date', 'noe_timely', 'notes'\n            ];\n\n            for (const field of allowedFields) {\n                if (updateData[field] !== undefined) {\n                    updateFields[field] = updateData[field];\n                }\n            }\n\n            updateFields.updatedAt = new Date();\n            updateFields.updated_by_id = request.user?.id || null;\n\n            const updatedPeriod = await db.update(benefit_periods)\n                .set(updateFields)\n                .where(eq(benefit_periods.id, parseInt(id)))\n                .returning();\n\n            await logAudit(request, 'UPDATE', 'benefit_periods', parseInt(id));\n\n            return reply.code(200).send({\n                success: true,\n                message: \"Benefit period updated successfully\",\n                data: updatedPeriod[0]\n            });\n        } catch (error) {\n            logger.error(\"Error updating benefit period:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Add level of care change\n    async addLevelOfCare(request, reply) {\n        try {\n            const { id } = request.params;\n            const {\n                level_of_care,\n                effective_date,\n                end_date,\n                chc_start_time,\n                chc_end_time,\n                chc_total_hours,\n                facility_id,\n                facility_name,\n                facility_npi,\n                respite_day_count,\n                crisis_reason,\n                physician_order_date,\n                ordering_physician_id,\n                notes\n            } = request.body;\n\n            // Validate benefit period exists\n            const periodRecords = await db.select({\n                id: benefit_periods.id,\n                patient_id: benefit_periods.patient_id\n            })\n                .from(benefit_periods)\n                .where(eq(benefit_periods.id, parseInt(id)))\n                .limit(1);\n\n            if (!periodRecords[0]) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"Benefit period not found\",\n                });\n            }\n\n            // Validate level of care\n            if (!['RHC', 'CHC', 'GIP', 'IRC'].includes(level_of_care)) {\n                return reply.code(400).send({\n                    success: false,\n                    error: \"Invalid level of care. Must be RHC, CHC, GIP, or IRC\",\n                });\n            }\n\n            // Close any existing active LOC record\n            await db.update(benefit_period_loc)\n                .set({\n                    status: 'ENDED',\n                    end_date: effective_date,\n                    updatedAt: new Date()\n                })\n                .where(and(\n                    eq(benefit_period_loc.benefit_period_id, parseInt(id)),\n                    eq(benefit_period_loc.status, 'ACTIVE')\n                ));\n\n            // Create new LOC record\n            const now = new Date();\n            const newLocRecord = await db.insert(benefit_period_loc).values({\n                benefit_period_id: parseInt(id),\n                patient_id: periodRecords[0].patient_id,\n                level_of_care: level_of_care,\n                revenue_code: LOC_REVENUE_CODES[level_of_care],\n                effective_date: effective_date,\n                end_date: end_date || null,\n                chc_start_time: chc_start_time || null,\n                chc_end_time: chc_end_time || null,\n                chc_total_hours: chc_total_hours || null,\n                facility_id: facility_id || null,\n                facility_name: facility_name || null,\n                facility_npi: facility_npi || null,\n                respite_day_count: respite_day_count || null,\n                crisis_reason: crisis_reason || null,\n                physician_order_date: physician_order_date || null,\n                ordering_physician_id: ordering_physician_id || null,\n                status: 'ACTIVE',\n                notes: notes || null,\n                created_by_id: request.user?.id || null,\n                createdAt: now,\n                updatedAt: now,\n            }).returning();\n\n            await logAudit(request, 'CREATE', 'benefit_period_loc', newLocRecord[0]?.id);\n\n            return reply.code(201).send({\n                success: true,\n                message: \"Level of care added successfully\",\n                data: newLocRecord[0]\n            });\n        } catch (error) {\n            logger.error(\"Error adding level of care:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Get level of care history for a benefit period\n    async getLevelOfCareHistory(request, reply) {\n        try {\n            const { id } = request.params;\n\n            const locRecords = await db.select()\n                .from(benefit_period_loc)\n                .where(eq(benefit_period_loc.benefit_period_id, parseInt(id)))\n                .orderBy(desc(benefit_period_loc.effective_date));\n\n            await logAudit(request, 'READ', 'benefit_period_loc', parseInt(id));\n\n            return reply.code(200).send({\n                success: true,\n                count: locRecords.length,\n                data: locRecords\n            });\n        } catch (error) {\n            logger.error(\"Error getting level of care history:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Record election or revocation\n    async recordElection(request, reply) {\n        try {\n            const { id } = request.params;\n            const {\n                election_type,\n                election_date,\n                effective_date,\n                election_statement_signed,\n                election_statement_date,\n                witness_name,\n                witness_signature_date,\n                hospice_provider_name,\n                hospice_provider_npi,\n                attending_physician_id,\n                attending_physician_name,\n                physician_acknowledgment_date,\n                revocation_effective_date,\n                revocation_reason,\n                remaining_days_in_period,\n                transfer_from_hospice,\n                transfer_to_hospice,\n                transfer_date,\n                notes\n            } = request.body;\n\n            // Validate benefit period exists\n            const periodRecords = await db.select({\n                id: benefit_periods.id,\n                patient_id: benefit_periods.patient_id\n            })\n                .from(benefit_periods)\n                .where(eq(benefit_periods.id, parseInt(id)))\n                .limit(1);\n\n            if (!periodRecords[0]) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"Benefit period not found\",\n                });\n            }\n\n            // Validate election type\n            const validTypes = ['INITIAL_ELECTION', 'RE_ELECTION', 'REVOCATION', 'TRANSFER_IN', 'TRANSFER_OUT'];\n            if (!validTypes.includes(election_type)) {\n                return reply.code(400).send({\n                    success: false,\n                    error: `Invalid election type. Must be one of: ${validTypes.join(', ')}`,\n                });\n            }\n\n            // Create election record\n            const now = new Date();\n            const newElection = await db.insert(benefit_period_elections).values({\n                patient_id: periodRecords[0].patient_id,\n                benefit_period_id: parseInt(id),\n                election_type: election_type,\n                election_date: election_date,\n                effective_date: effective_date,\n                election_statement_signed: election_statement_signed || false,\n                election_statement_date: election_statement_date || null,\n                witness_name: witness_name || null,\n                witness_signature_date: witness_signature_date || null,\n                hospice_provider_name: hospice_provider_name || null,\n                hospice_provider_npi: hospice_provider_npi || null,\n                attending_physician_id: attending_physician_id || null,\n                attending_physician_name: attending_physician_name || null,\n                physician_acknowledgment_date: physician_acknowledgment_date || null,\n                revocation_effective_date: revocation_effective_date || null,\n                revocation_reason: revocation_reason || null,\n                remaining_days_in_period: remaining_days_in_period || null,\n                transfer_from_hospice: transfer_from_hospice || null,\n                transfer_to_hospice: transfer_to_hospice || null,\n                transfer_date: transfer_date || null,\n                notes: notes || null,\n                created_by_id: request.user?.id || null,\n                createdAt: now,\n                updatedAt: now,\n            }).returning();\n\n            // If revocation, update the benefit period status\n            if (election_type === 'REVOCATION') {\n                await db.update(benefit_periods)\n                    .set({\n                        status: 'REVOKED',\n                        revocation_date: revocation_effective_date || election_date,\n                        revocation_reason: revocation_reason,\n                        updatedAt: now,\n                        updated_by_id: request.user?.id || null\n                    })\n                    .where(eq(benefit_periods.id, parseInt(id)));\n            }\n\n            await logAudit(request, 'CREATE', 'benefit_period_elections', newElection[0]?.id);\n\n            return reply.code(201).send({\n                success: true,\n                message: `${election_type.replace('_', ' ').toLowerCase()} recorded successfully`,\n                data: newElection[0]\n            });\n        } catch (error) {\n            logger.error(\"Error recording election:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Get election history for a patient\n    async getElectionHistory(request, reply) {\n        try {\n            const { patientId } = request.params;\n\n            const elections = await db.select()\n                .from(benefit_period_elections)\n                .where(eq(benefit_period_elections.patient_id, parseInt(patientId)))\n                .orderBy(desc(benefit_period_elections.election_date));\n\n            await logAudit(request, 'READ', 'benefit_period_elections', parseInt(patientId));\n\n            return reply.code(200).send({\n                success: true,\n                count: elections.length,\n                data: elections\n            });\n        } catch (error) {\n            logger.error(\"Error getting election history:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Get current active benefit period for a patient\n    async getCurrentBenefitPeriod(request, reply) {\n        try {\n            const { patientId } = request.params;\n\n            const currentPeriod = await db.select()\n                .from(benefit_periods)\n                .where(and(\n                    eq(benefit_periods.patient_id, parseInt(patientId)),\n                    eq(benefit_periods.status, 'ACTIVE'),\n                    isNull(benefit_periods.deleted_at)\n                ))\n                .orderBy(desc(benefit_periods.start_date))\n                .limit(1);\n\n            if (!currentPeriod[0]) {\n                return reply.code(404).send({\n                    success: false,\n                    error: \"No active benefit period found for this patient\",\n                });\n            }\n\n            // Get current level of care\n            const currentLoc = await db.select()\n                .from(benefit_period_loc)\n                .where(and(\n                    eq(benefit_period_loc.benefit_period_id, currentPeriod[0].id),\n                    eq(benefit_period_loc.status, 'ACTIVE')\n                ))\n                .limit(1);\n\n            await logAudit(request, 'READ', 'benefit_periods', currentPeriod[0].id);\n\n            return reply.code(200).send({\n                success: true,\n                data: {\n                    ...currentPeriod[0],\n                    current_level_of_care: currentLoc[0] || null\n                }\n            });\n        } catch (error) {\n            logger.error(\"Error getting current benefit period:\", error);\n            return reply.code(500).send({\n                success: false,\n                error: error.message,\n            });\n        }\n    }\n\n    // Add nursing clinical note to a benefit period\n    async addNursingClinicalNote(request, reply) {\n        try {\n            const { benefitPeriodId } = request.params;\n            const { note_date, note } = request.body;\n\n            // Find the benefit period\n            const benefitPeriodRecords = await db.select({ id: benefit_periods.id }).from(benefit_periods).where(eq(benefit_periods.id, benefitPeriodId)).limit(1);\n            const benefitPeriod = benefitPeriodRecords[0];\n            \n            if (!benefitPeriod) {\n                reply.code(404);\n            return {\n                    message: \"Benefit period not found\",\n                };\n            }\n\n            // Create the nursing clinical note\n            const now = new Date();\n            const nursingClinicalNote = await db.insert(nursing_clinical_notes).values({\n                benefit_period_id: benefitPeriodId,\n                note_date: note_date,\n                note: note,\n                createdAt: now,\n                updatedAt: now,\n            }).returning();\n\n            // Log audit - CREATE nursing clinical note\n            await logAudit(request, 'CREATE', 'nursing_clinical_notes', nursingClinicalNote[0]?.id);\n\n            reply.code(201);\n            return {\n                message: \"Nursing clinical note added successfully\",\n                nursing_clinical_note: nursingClinicalNote[0],\n            };\n        } catch (error) {\n            logger.error(\"Error adding nursing clinical note:\", error)\n            reply.code(500);\n            return {\n                message: \"Internal server error\",\n                error: error.message,\n            };\n        }\n    }\n\n    // Get patient chart with benefit periods and nursing clinical notes\n    async getPatientChart(request, reply) {\n        try {\n            const { id } = request.params;\n\n            // Find the patient\n            const patientRecords = await db.select({\n                id: patients.id,\n                first_name: patients.first_name,\n                last_name: patients.last_name,\n                date_of_birth: patients.date_of_birth,\n                gender: patients.gender,\n                ssn: patients.ssn,\n                address: patients.address,\n                city: patients.city,\n                state: patients.state,\n                zip: patients.zip,\n                phone: patients.phone,\n                email: patients.email,\n                emergency_contact: patients.emergency_contact,\n                emergency_phone: patients.emergency_phone,\n                createdAt: patients.createdAt,\n                updatedAt: patients.updatedAt,\n            }).from(patients).where(eq(patients.id, id)).limit(1);\n            const patient = patientRecords[0];\n\n            if (!patient) {\n                reply.code(404);\n            return {\n                    message: \"Patient not found\",\n                };\n            }\n\n            // Find benefit periods for the patient\n            const benefitPeriods = await db.select({\n                id: benefit_periods.id,\n                patient_id: benefit_periods.patient_id,\n                start_date: benefit_periods.start_date,\n                end_date: benefit_periods.end_date,\n                period_number: benefit_periods.period_number,\n                createdAt: benefit_periods.createdAt,\n                updatedAt: benefit_periods.updatedAt,\n            }).from(benefit_periods).where(eq(benefit_periods.patient_id, id));\n\n            // For each benefit period, get associated nursing clinical notes\n            const patientWithRelations = {\n                ...patient,\n                benefitPeriods: await Promise.all(benefitPeriods.map(async (period) => {\n                    const notes = await db.select({\n                        id: nursing_clinical_notes.id,\n                        benefit_period_id: nursing_clinical_notes.benefit_period_id,\n                        note_date: nursing_clinical_notes.note_date,\n                        time_in: nursing_clinical_notes.time_in,\n                        time_out: nursing_clinical_notes.time_out,\n                        patient_name: nursing_clinical_notes.patient_name,\n                        patient_number: nursing_clinical_notes.patient_number,\n                        location_name: nursing_clinical_notes.location_name,\n                        benefit_period: nursing_clinical_notes.benefit_period,\n                        dob: nursing_clinical_notes.dob,\n                        location_number: nursing_clinical_notes.location_number,\n                        prn_visit: nursing_clinical_notes.prn_visit,\n                        patient_identifiers: nursing_clinical_notes.patient_identifiers,\n                        createdAt: nursing_clinical_notes.createdAt,\n                        updatedAt: nursing_clinical_notes.updatedAt,\n                    }).from(nursing_clinical_notes).where(eq(nursing_clinical_notes.benefit_period_id, period.id));\n                    return {\n                        ...period,\n                        nursingClinicalNotes: notes\n                    };\n                }))\n            };\n\n            // Log audit - READ benefit periods (patient chart)\n            await logAudit(request, 'READ', 'benefit_periods', parseInt(id));\n\n            return patientWithRelations;\n        } catch (error) {\n            logger.error(\"Error fetching patient chart:\", error)\n            reply.code(500);\n            return {\n                message: \"Internal server error\",\n                error: error.message,\n            };\n        }\n    }\n}\n\nexport default new BenefitPeriodController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}