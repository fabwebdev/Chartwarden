{"version":3,"names":["cov_2nmxpip1o4","actualCoverage","pgTable","text","varchar","boolean","timestamp","index","nanoid","users","s","id","primaryKey","$defaultFn","f","name","length","notNull","firstName","lastName","email","unique","image","emailVerified","default","password","remember_token","role","contact","is_active","last_login_at","password_changed_at","failed_login_attempts","locked_until","createdAt","defaultNow","updatedAt","deleted_at","table","email_idx","on","is_active_idx","role_idx"],"sources":["user.schema.js"],"sourcesContent":["import {\n  pgTable,\n  text,\n  varchar,\n  boolean,\n  timestamp,\n  index,\n} from \"drizzle-orm/pg-core\";\nimport { nanoid } from \"nanoid\";\n\nexport const users = pgTable(\"users\", {\n  id: text(\"id\")\n    .primaryKey()\n    .$defaultFn(() => nanoid()),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  firstName: varchar(\"first_name\", { length: 255 }),\n  lastName: varchar(\"last_name\", { length: 255 }),\n  email: varchar(\"email\", { length: 255 }).notNull().unique(),\n  image: varchar(\"image\", { length: 255 }),\n  emailVerified: boolean(\"emailVerified\").default(false).notNull(),\n  password: varchar(\"password\", { length: 255 }),\n  remember_token: varchar(\"remember_token\", { length: 255 }),\n  role: varchar(\"role\", { length: 255 }).default(\"patient\"),\n  contact: varchar(\"contact\", { length: 255 }),\n  // HIPAA compliance fields\n  is_active: boolean(\"is_active\").default(true).notNull(),\n  last_login_at: timestamp(\"last_login_at\"),\n  password_changed_at: timestamp(\"password_changed_at\"),\n  failed_login_attempts: varchar(\"failed_login_attempts\", { length: 10 }).default(\"0\"),\n  locked_until: timestamp(\"locked_until\"),\n  createdAt: timestamp(\"createdAt\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updatedAt\").defaultNow().notNull(),\n  deleted_at: timestamp(\"deleted_at\"),\n}, (table) => ({\n  email_idx: index(\"users_email_idx\").on(table.email),\n  is_active_idx: index(\"users_is_active_idx\").on(table.is_active),\n  role_idx: index(\"users_role_idx\").on(table.role),\n}));"],"mappings":"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","ignoreList":[]}