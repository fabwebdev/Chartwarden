{"version":3,"names":["cov_1kug27m7u4","actualCoverage","db","electronic_signatures","signature_audit_events","signature_verification_tokens","users","eq","and","desc","gte","lte","isNull","or","sql","crypto","AuditService","logger","ElectronicSignatureController","create","request","reply","f","s","document_type","document_id","document_content","document_version","b","signature_type","signature_meaning","signature_statement","signature_data","signature_image_format","requires_cosigner","required_cosigner_id","required_cosigner_role","cosignature_deadline","regulatory_context","metadata","body","code","status","message","validSignatureTypes","includes","join","validMeanings","user","contentToHash","JSON","stringify","documentHash","createHash","update","digest","signedAt","Date","signatureRecord","signer_id","id","signer_name","firstName","lastName","trim","email","signer_email","signer_credentials","credentials","role","signer_title","title","session_id","session","String","document_hash","hash_algorithm","signed_at","server_timestamp","signer_timezone","headers","Intl","DateTimeFormat","resolvedOptions","timeZone","authentication_method","mfaVerified","mfa_verified","mfa_type","mfaType","ip_address","ip","split","user_agent","device_fingerprint","organization_id","organizationId","facility_id","facilityId","userAgent","result","insert","values","returning","createdSignature","signature_id","event_type","event_description","actor_id","actor_name","event_metadata","createAuditLog","user_id","action","resource_type","resource_id","immediate","data","error","process","env","NODE_ENV","undefined","show","params","select","from","where","parseInt","limit","getByDocument","documentType","documentId","meaning","include_superseded","query","conditions","push","results","orderBy","count","length","verify","signature","calculatedHash","isValid","verification_result","is_valid","signature_status","verification_timestamp","toISOString","cosign","originalResult","originalSignature","cosigner_signature_id","cosignatureRecord","original_signature_id","cosignResult","cosignature","set","cosignature_id","cosigner_name","revoke","revocation_reason","revoked_at","revoked_by_id","revoked_by","getPendingCosignatures","getAuditTrail","auditEvents","created_at","audit_events","createVerificationToken","expires_in_hours","max_uses","token","randomBytes","toString","expiresAt","setHours","getHours","expires_at","created_by_id","token_id","verification_url","verifyByToken","tokenResult","is_active","verificationToken","use_count","getMySignatures","offset","start_date","end_date","getComplianceReport","startDateTime","now","endDateTime","totalSignatures","byStatus","groupBy","byMeaning","byDocumentType","pendingCosignatures","overdueCosignatures","period","start","end","summary","total_signatures","Number","pending_cosignatures","overdue_cosignatures","by_status","map","r","by_meaning","by_document_type","generated_at"],"sources":["ElectronicSignature.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  electronic_signatures,\n  signature_audit_events,\n  signature_verification_tokens\n} from '../db/schemas/index.js';\nimport { users } from '../db/schemas/user.schema.js';\nimport { eq, and, desc, gte, lte, isNull, or, sql } from 'drizzle-orm';\nimport crypto from 'crypto';\nimport AuditService from '../services/AuditService.js';\nimport { logger } from '../utils/logger.js';\n\n/**\n * Electronic Signature Controller\n *\n * Implements 21 CFR Part 11 compliant electronic signature operations:\n * - Unique user identification and authentication binding\n * - Cryptographic document hashing for integrity verification\n * - Immutable signature records with complete audit trail\n * - Signature meaning/intent documentation\n * - Cosignature workflow support\n * - Signature verification and revocation\n *\n * HIPAA Compliance:\n * - All signature operations are logged to audit trail\n * - PHI is never stored in signature data\n * - Session binding ensures proper authentication\n */\nclass ElectronicSignatureController {\n  /**\n   * Create a new electronic signature\n   * POST /electronic-signatures\n   *\n   * 21 CFR Part 11 Requirements Met:\n   * - 11.50(a): Signed records contain signer info, date/time, and meaning\n   * - 11.70: Signatures linked to records via document_hash\n   * - 11.100: Unique user identification verified through session\n   * - 11.200: Electronic signature components captured\n   */\n  async create(request, reply) {\n    try {\n      const {\n        document_type,\n        document_id,\n        document_content, // Content to hash (not stored)\n        document_version = '1.0',\n        signature_type,\n        signature_meaning,\n        signature_statement,\n        signature_data,\n        signature_image_format,\n        requires_cosigner = false,\n        required_cosigner_id,\n        required_cosigner_role,\n        cosignature_deadline,\n        regulatory_context,\n        metadata = {}\n      } = request.body;\n\n      // Validate required fields\n      if (!document_type || !document_id || !signature_type || !signature_meaning || !signature_statement || !signature_data) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: document_type, document_id, signature_type, signature_meaning, signature_statement, signature_data'\n        };\n      }\n\n      // Validate signature type\n      const validSignatureTypes = ['TYPED', 'DRAWN', 'BIOMETRIC', 'PIN', 'SMART_CARD', 'DIGITAL_CERT'];\n      if (!validSignatureTypes.includes(signature_type)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid signature_type. Must be one of: ${validSignatureTypes.join(', ')}`\n        };\n      }\n\n      // Validate signature meaning\n      const validMeanings = ['AUTHOR', 'REVIEWER', 'APPROVER', 'VERIFIER', 'AUTHENTICATOR', 'WITNESS', 'COSIGNER', 'ORDERING_PROVIDER', 'CERTIFIER', 'ATTESTOR', 'RECIPIENT', 'AMENDMENT'];\n      if (!validMeanings.includes(signature_meaning)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid signature_meaning. Must be one of: ${validMeanings.join(', ')}`\n        };\n      }\n\n      // Get user information\n      const user = request.user;\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required for electronic signatures'\n        };\n      }\n\n      // Generate document hash for integrity verification\n      const contentToHash = document_content || JSON.stringify({ document_type, document_id, document_version });\n      const documentHash = crypto.createHash('sha256').update(contentToHash).digest('hex');\n\n      // Get current timestamp\n      const signedAt = new Date();\n\n      // Prepare signature record\n      const signatureRecord = {\n        // Signer identification\n        signer_id: user.id,\n        signer_name: `${user.firstName || ''} ${user.lastName || ''}`.trim() || user.email,\n        signer_email: user.email,\n        signer_credentials: user.credentials || user.role || null,\n        signer_title: user.title || null,\n        session_id: request.session?.id || null,\n\n        // Signature data\n        signature_type,\n        signature_meaning,\n        signature_statement,\n        signature_data,\n        signature_image_format: signature_type === 'DRAWN' ? signature_image_format : null,\n\n        // Document binding\n        document_type,\n        document_id: String(document_id),\n        document_version,\n        document_hash: documentHash,\n        hash_algorithm: 'SHA-256',\n\n        // Timestamp\n        signed_at: signedAt,\n        server_timestamp: signedAt,\n        signer_timezone: request.headers['x-timezone'] || Intl.DateTimeFormat().resolvedOptions().timeZone,\n\n        // Authentication verification\n        authentication_method: user.mfaVerified ? 'MFA' : 'PASSWORD',\n        mfa_verified: user.mfaVerified || false,\n        mfa_type: user.mfaType || null,\n        ip_address: request.ip || request.headers['x-forwarded-for']?.split(',')[0] || null,\n        user_agent: request.headers['user-agent'] || null,\n        device_fingerprint: request.headers['x-device-fingerprint'] || null,\n\n        // Status\n        status: requires_cosigner ? 'PENDING_REVIEW' : 'VALID',\n\n        // Cosignature requirements\n        requires_cosigner,\n        required_cosigner_id: required_cosigner_id || null,\n        required_cosigner_role: required_cosigner_role || null,\n        cosignature_deadline: cosignature_deadline ? new Date(cosignature_deadline) : null,\n\n        // Compliance metadata\n        organization_id: user.organizationId || null,\n        facility_id: user.facilityId || null,\n        regulatory_context: regulatory_context || 'HIPAA',\n        metadata: { ...metadata, userAgent: request.headers['user-agent'] }\n      };\n\n      // Insert signature record\n      const result = await db\n        .insert(electronic_signatures)\n        .values(signatureRecord)\n        .returning();\n\n      const createdSignature = result[0];\n\n      // Create audit event for signature creation\n      await db.insert(signature_audit_events).values({\n        signature_id: createdSignature.id,\n        event_type: 'CREATED',\n        event_description: `Electronic signature created for ${document_type} ${document_id}`,\n        actor_id: user.id,\n        actor_name: signatureRecord.signer_name,\n        session_id: signatureRecord.session_id,\n        ip_address: signatureRecord.ip_address,\n        user_agent: signatureRecord.user_agent,\n        event_metadata: {\n          document_type,\n          document_id,\n          signature_meaning,\n          requires_cosigner\n        }\n      });\n\n      // Log to main audit system\n      await AuditService.createAuditLog({\n        user_id: user.id,\n        action: 'SIGNATURE_CREATE',\n        resource_type: 'electronic_signature',\n        resource_id: String(createdSignature.id),\n        ip_address: signatureRecord.ip_address,\n        user_agent: signatureRecord.user_agent,\n        status: 'success',\n        metadata: JSON.stringify({\n          document_type,\n          document_id,\n          signature_meaning\n        })\n      }, {}, { immediate: true });\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Electronic signature created successfully',\n        data: {\n          id: createdSignature.id,\n          signer_name: createdSignature.signer_name,\n          signature_meaning: createdSignature.signature_meaning,\n          document_type: createdSignature.document_type,\n          document_id: createdSignature.document_id,\n          document_hash: createdSignature.document_hash,\n          signed_at: createdSignature.signed_at,\n          status: createdSignature.status,\n          requires_cosigner: createdSignature.requires_cosigner\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating electronic signature:', error);\n\n      // Check for unique constraint violation\n      if (error.code === '23505') {\n        reply.code(409);\n        return {\n          status: 409,\n          message: 'A signature with this meaning already exists for this document version'\n        };\n      }\n\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating electronic signature',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get electronic signature by ID\n   * GET /electronic-signatures/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n      const user = request.user;\n\n      const result = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Electronic signature not found'\n        };\n      }\n\n      // Log signature view to audit trail\n      await db.insert(signature_audit_events).values({\n        signature_id: parseInt(id),\n        event_type: 'VIEWED',\n        event_description: `Signature viewed by ${user?.email || 'unknown'}`,\n        actor_id: user?.id || null,\n        actor_name: user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() : null,\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent']\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching electronic signature:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching electronic signature',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get signatures for a document\n   * GET /electronic-signatures/document/:documentType/:documentId\n   */\n  async getByDocument(request, reply) {\n    try {\n      const { documentType, documentId } = request.params;\n      const { status, meaning, include_superseded = 'false' } = request.query;\n\n      let conditions = [\n        eq(electronic_signatures.document_type, documentType),\n        eq(electronic_signatures.document_id, String(documentId))\n      ];\n\n      // Exclude superseded signatures by default\n      if (include_superseded !== 'true') {\n        conditions.push(\n          or(\n            eq(electronic_signatures.status, 'VALID'),\n            eq(electronic_signatures.status, 'PENDING_REVIEW')\n          )\n        );\n      }\n\n      if (status) {\n        conditions.push(eq(electronic_signatures.status, status));\n      }\n\n      if (meaning) {\n        conditions.push(eq(electronic_signatures.signature_meaning, meaning));\n      }\n\n      const results = await db\n        .select()\n        .from(electronic_signatures)\n        .where(and(...conditions))\n        .orderBy(desc(electronic_signatures.signed_at));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching document signatures:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching document signatures',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Verify signature integrity\n   * POST /electronic-signatures/:id/verify\n   *\n   * Verifies that the document content matches the stored hash\n   */\n  async verify(request, reply) {\n    try {\n      const { id } = request.params;\n      const { document_content } = request.body;\n      const user = request.user;\n\n      if (!document_content) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'document_content is required for verification'\n        };\n      }\n\n      const result = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Electronic signature not found'\n        };\n      }\n\n      const signature = result[0];\n\n      // Calculate hash of provided content\n      const calculatedHash = crypto.createHash('sha256').update(document_content).digest('hex');\n      const isValid = calculatedHash === signature.document_hash;\n\n      // Log verification attempt\n      await db.insert(signature_audit_events).values({\n        signature_id: parseInt(id),\n        event_type: 'VERIFIED',\n        event_description: `Signature verification ${isValid ? 'successful' : 'failed'}`,\n        actor_id: user?.id || null,\n        actor_name: user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() : null,\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent'],\n        event_metadata: {\n          verification_result: isValid,\n          hash_algorithm: signature.hash_algorithm\n        }\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          signature_id: signature.id,\n          is_valid: isValid,\n          signature_status: signature.status,\n          hash_algorithm: signature.hash_algorithm,\n          signed_at: signature.signed_at,\n          signer_name: signature.signer_name,\n          signer_credentials: signature.signer_credentials,\n          verification_timestamp: new Date().toISOString()\n        }\n      };\n    } catch (error) {\n      logger.error('Error verifying signature:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error verifying signature',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Cosign a signature\n   * POST /electronic-signatures/:id/cosign\n   *\n   * Creates a new cosignature linked to the original signature\n   */\n  async cosign(request, reply) {\n    try {\n      const { id } = request.params;\n      const {\n        signature_type,\n        signature_statement,\n        signature_data,\n        signature_image_format,\n        metadata = {}\n      } = request.body;\n\n      const user = request.user;\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required for cosigning'\n        };\n      }\n\n      // Get original signature\n      const originalResult = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!originalResult[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Original signature not found'\n        };\n      }\n\n      const originalSignature = originalResult[0];\n\n      // Validate cosignature is required\n      if (!originalSignature.requires_cosigner) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'This signature does not require a cosigner'\n        };\n      }\n\n      // Validate cosignature not already completed\n      if (originalSignature.cosigner_signature_id) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'This signature has already been cosigned'\n        };\n      }\n\n      // Validate cosigner authorization\n      if (originalSignature.required_cosigner_id && originalSignature.required_cosigner_id !== user.id) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'You are not authorized to cosign this document'\n        };\n      }\n\n      if (originalSignature.required_cosigner_role && user.role !== originalSignature.required_cosigner_role) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: `Cosigner must have role: ${originalSignature.required_cosigner_role}`\n        };\n      }\n\n      // Check deadline\n      if (originalSignature.cosignature_deadline && new Date() > originalSignature.cosignature_deadline) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cosignature deadline has passed'\n        };\n      }\n\n      // Create cosignature\n      const signedAt = new Date();\n      const cosignatureRecord = {\n        signer_id: user.id,\n        signer_name: `${user.firstName || ''} ${user.lastName || ''}`.trim() || user.email,\n        signer_email: user.email,\n        signer_credentials: user.credentials || user.role || null,\n        signer_title: user.title || null,\n        session_id: request.session?.id || null,\n\n        signature_type: signature_type || 'TYPED',\n        signature_meaning: 'COSIGNER',\n        signature_statement: signature_statement || 'I have reviewed and approve this document as cosigner',\n        signature_data,\n        signature_image_format,\n\n        document_type: originalSignature.document_type,\n        document_id: originalSignature.document_id,\n        document_version: originalSignature.document_version,\n        document_hash: originalSignature.document_hash,\n        hash_algorithm: originalSignature.hash_algorithm,\n\n        signed_at: signedAt,\n        server_timestamp: signedAt,\n        signer_timezone: request.headers['x-timezone'] || Intl.DateTimeFormat().resolvedOptions().timeZone,\n\n        authentication_method: user.mfaVerified ? 'MFA' : 'PASSWORD',\n        mfa_verified: user.mfaVerified || false,\n        mfa_type: user.mfaType || null,\n        ip_address: request.ip || request.headers['x-forwarded-for']?.split(',')[0] || null,\n        user_agent: request.headers['user-agent'] || null,\n\n        status: 'VALID',\n        requires_cosigner: false,\n\n        organization_id: user.organizationId || null,\n        facility_id: user.facilityId || null,\n        regulatory_context: originalSignature.regulatory_context,\n        metadata: { ...metadata, original_signature_id: originalSignature.id }\n      };\n\n      const cosignResult = await db\n        .insert(electronic_signatures)\n        .values(cosignatureRecord)\n        .returning();\n\n      const cosignature = cosignResult[0];\n\n      // Update original signature with cosigner reference and set to VALID\n      await db\n        .update(electronic_signatures)\n        .set({\n          cosigner_signature_id: cosignature.id,\n          status: 'VALID'\n        })\n        .where(eq(electronic_signatures.id, parseInt(id)));\n\n      // Create audit events\n      await db.insert(signature_audit_events).values([\n        {\n          signature_id: parseInt(id),\n          event_type: 'COSIGNED',\n          event_description: `Document cosigned by ${cosignatureRecord.signer_name}`,\n          actor_id: user.id,\n          actor_name: cosignatureRecord.signer_name,\n          ip_address: cosignatureRecord.ip_address,\n          user_agent: cosignatureRecord.user_agent,\n          event_metadata: { cosigner_signature_id: cosignature.id }\n        },\n        {\n          signature_id: cosignature.id,\n          event_type: 'CREATED',\n          event_description: `Cosignature created for ${originalSignature.document_type} ${originalSignature.document_id}`,\n          actor_id: user.id,\n          actor_name: cosignatureRecord.signer_name,\n          ip_address: cosignatureRecord.ip_address,\n          user_agent: cosignatureRecord.user_agent,\n          event_metadata: { original_signature_id: originalSignature.id }\n        }\n      ]);\n\n      // Log to main audit system\n      await AuditService.createAuditLog({\n        user_id: user.id,\n        action: 'SIGNATURE_COSIGN',\n        resource_type: 'electronic_signature',\n        resource_id: String(id),\n        ip_address: cosignatureRecord.ip_address,\n        user_agent: cosignatureRecord.user_agent,\n        status: 'success',\n        metadata: JSON.stringify({\n          original_signature_id: id,\n          cosigner_signature_id: cosignature.id\n        })\n      }, {}, { immediate: true });\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Document cosigned successfully',\n        data: {\n          cosignature_id: cosignature.id,\n          original_signature_id: originalSignature.id,\n          cosigner_name: cosignature.signer_name,\n          signed_at: cosignature.signed_at,\n          status: 'VALID'\n        }\n      };\n    } catch (error) {\n      logger.error('Error cosigning document:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error cosigning document',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Revoke a signature\n   * POST /electronic-signatures/:id/revoke\n   *\n   * Marks a signature as revoked (immutable - does not delete)\n   */\n  async revoke(request, reply) {\n    try {\n      const { id } = request.params;\n      const { revocation_reason } = request.body;\n      const user = request.user;\n\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required'\n        };\n      }\n\n      if (!revocation_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'revocation_reason is required'\n        };\n      }\n\n      const result = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Electronic signature not found'\n        };\n      }\n\n      const signature = result[0];\n\n      if (signature.status === 'REVOKED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Signature is already revoked'\n        };\n      }\n\n      // Revoke the signature\n      await db\n        .update(electronic_signatures)\n        .set({\n          status: 'REVOKED',\n          revocation_reason,\n          revoked_at: new Date(),\n          revoked_by_id: user.id\n        })\n        .where(eq(electronic_signatures.id, parseInt(id)));\n\n      // Create audit event\n      await db.insert(signature_audit_events).values({\n        signature_id: parseInt(id),\n        event_type: 'REVOKED',\n        event_description: `Signature revoked: ${revocation_reason}`,\n        actor_id: user.id,\n        actor_name: `${user.firstName || ''} ${user.lastName || ''}`.trim(),\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent'],\n        event_metadata: { revocation_reason }\n      });\n\n      // Log to main audit system\n      await AuditService.createAuditLog({\n        user_id: user.id,\n        action: 'SIGNATURE_REVOKE',\n        resource_type: 'electronic_signature',\n        resource_id: String(id),\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent'],\n        status: 'success',\n        metadata: JSON.stringify({ revocation_reason })\n      }, {}, { immediate: true });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Signature revoked successfully',\n        data: {\n          signature_id: parseInt(id),\n          status: 'REVOKED',\n          revoked_at: new Date().toISOString(),\n          revoked_by: user.email\n        }\n      };\n    } catch (error) {\n      logger.error('Error revoking signature:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error revoking signature',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get pending cosignatures for a user\n   * GET /electronic-signatures/pending-cosignatures\n   */\n  async getPendingCosignatures(request, reply) {\n    try {\n      const user = request.user;\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required'\n        };\n      }\n\n      // Find signatures pending cosignature by this user or their role\n      const results = await db\n        .select()\n        .from(electronic_signatures)\n        .where(and(\n          eq(electronic_signatures.status, 'PENDING_REVIEW'),\n          eq(electronic_signatures.requires_cosigner, true),\n          isNull(electronic_signatures.cosigner_signature_id),\n          or(\n            eq(electronic_signatures.required_cosigner_id, user.id),\n            eq(electronic_signatures.required_cosigner_role, user.role),\n            and(\n              isNull(electronic_signatures.required_cosigner_id),\n              isNull(electronic_signatures.required_cosigner_role)\n            )\n          )\n        ))\n        .orderBy(desc(electronic_signatures.signed_at));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching pending cosignatures:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching pending cosignatures',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get signature audit trail\n   * GET /electronic-signatures/:id/audit-trail\n   */\n  async getAuditTrail(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const signature = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!signature[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Electronic signature not found'\n        };\n      }\n\n      const auditEvents = await db\n        .select()\n        .from(signature_audit_events)\n        .where(eq(signature_audit_events.signature_id, parseInt(id)))\n        .orderBy(desc(signature_audit_events.created_at));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          signature: signature[0],\n          audit_events: auditEvents\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching signature audit trail:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching signature audit trail',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create a verification token for external verification\n   * POST /electronic-signatures/:id/verification-token\n   */\n  async createVerificationToken(request, reply) {\n    try {\n      const { id } = request.params;\n      const { expires_in_hours = 24, max_uses = null } = request.body;\n      const user = request.user;\n\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required'\n        };\n      }\n\n      const signature = await db\n        .select()\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, parseInt(id)))\n        .limit(1);\n\n      if (!signature[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Electronic signature not found'\n        };\n      }\n\n      // Generate secure token\n      const token = crypto.randomBytes(32).toString('hex');\n      const expiresAt = new Date();\n      expiresAt.setHours(expiresAt.getHours() + expires_in_hours);\n\n      const result = await db\n        .insert(signature_verification_tokens)\n        .values({\n          signature_id: parseInt(id),\n          token,\n          expires_at: expiresAt,\n          max_uses: max_uses,\n          created_by_id: user.id\n        })\n        .returning();\n\n      // Log token creation\n      await db.insert(signature_audit_events).values({\n        signature_id: parseInt(id),\n        event_type: 'VERIFICATION_TOKEN_CREATED',\n        event_description: 'Verification token created for external verification',\n        actor_id: user.id,\n        actor_name: `${user.firstName || ''} ${user.lastName || ''}`.trim(),\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent'],\n        event_metadata: { token_id: result[0].id, expires_at: expiresAt }\n      });\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Verification token created',\n        data: {\n          token,\n          expires_at: expiresAt,\n          max_uses,\n          verification_url: `/api/electronic-signatures/verify-token/${token}`\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating verification token:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating verification token',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Verify signature using external token\n   * GET /electronic-signatures/verify-token/:token\n   */\n  async verifyByToken(request, reply) {\n    try {\n      const { token } = request.params;\n\n      const tokenResult = await db\n        .select()\n        .from(signature_verification_tokens)\n        .where(and(\n          eq(signature_verification_tokens.token, token),\n          eq(signature_verification_tokens.is_active, true)\n        ))\n        .limit(1);\n\n      if (!tokenResult[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Invalid or expired verification token'\n        };\n      }\n\n      const verificationToken = tokenResult[0];\n\n      // Check expiration\n      if (verificationToken.expires_at && new Date() > verificationToken.expires_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Verification token has expired'\n        };\n      }\n\n      // Check max uses\n      if (verificationToken.max_uses && verificationToken.use_count >= verificationToken.max_uses) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Verification token has reached maximum uses'\n        };\n      }\n\n      // Get signature\n      const signature = await db\n        .select({\n          id: electronic_signatures.id,\n          signer_name: electronic_signatures.signer_name,\n          signer_email: electronic_signatures.signer_email,\n          signer_credentials: electronic_signatures.signer_credentials,\n          signature_meaning: electronic_signatures.signature_meaning,\n          signature_statement: electronic_signatures.signature_statement,\n          document_type: electronic_signatures.document_type,\n          document_id: electronic_signatures.document_id,\n          document_version: electronic_signatures.document_version,\n          document_hash: electronic_signatures.document_hash,\n          signed_at: electronic_signatures.signed_at,\n          status: electronic_signatures.status\n        })\n        .from(electronic_signatures)\n        .where(eq(electronic_signatures.id, verificationToken.signature_id))\n        .limit(1);\n\n      if (!signature[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Signature not found'\n        };\n      }\n\n      // Increment use count\n      await db\n        .update(signature_verification_tokens)\n        .set({\n          use_count: sql`${signature_verification_tokens.use_count} + 1`\n        })\n        .where(eq(signature_verification_tokens.id, verificationToken.id));\n\n      // Log verification\n      await db.insert(signature_audit_events).values({\n        signature_id: verificationToken.signature_id,\n        event_type: 'EXTERNAL_VERIFICATION',\n        event_description: 'Signature verified using external token',\n        ip_address: request.ip,\n        user_agent: request.headers['user-agent'],\n        event_metadata: { token_id: verificationToken.id }\n      });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Signature verified successfully',\n        data: {\n          ...signature[0],\n          verification_timestamp: new Date().toISOString(),\n          is_valid: signature[0].status === 'VALID'\n        }\n      };\n    } catch (error) {\n      logger.error('Error verifying by token:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error verifying signature',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get user's signature history\n   * GET /electronic-signatures/my-signatures\n   */\n  async getMySignatures(request, reply) {\n    try {\n      const user = request.user;\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required'\n        };\n      }\n\n      const { limit = 50, offset = 0, status, document_type, start_date, end_date } = request.query;\n\n      let conditions = [eq(electronic_signatures.signer_id, user.id)];\n\n      if (status) {\n        conditions.push(eq(electronic_signatures.status, status));\n      }\n\n      if (document_type) {\n        conditions.push(eq(electronic_signatures.document_type, document_type));\n      }\n\n      if (start_date) {\n        conditions.push(gte(electronic_signatures.signed_at, new Date(start_date)));\n      }\n\n      if (end_date) {\n        conditions.push(lte(electronic_signatures.signed_at, new Date(end_date)));\n      }\n\n      const results = await db\n        .select()\n        .from(electronic_signatures)\n        .where(and(...conditions))\n        .orderBy(desc(electronic_signatures.signed_at))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching user signatures:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching signatures',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get compliance report for signatures\n   * GET /electronic-signatures/compliance-report\n   */\n  async getComplianceReport(request, reply) {\n    try {\n      const user = request.user;\n      if (!user) {\n        reply.code(401);\n        return {\n          status: 401,\n          message: 'Authentication required'\n        };\n      }\n\n      const { start_date, end_date } = request.query;\n\n      const startDateTime = start_date ? new Date(start_date) : new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);\n      const endDateTime = end_date ? new Date(end_date) : new Date();\n\n      // Total signatures\n      const totalSignatures = await db\n        .select({ count: sql`count(*)` })\n        .from(electronic_signatures)\n        .where(and(\n          gte(electronic_signatures.signed_at, startDateTime),\n          lte(electronic_signatures.signed_at, endDateTime)\n        ));\n\n      // Signatures by status\n      const byStatus = await db\n        .select({\n          status: electronic_signatures.status,\n          count: sql`count(*)`\n        })\n        .from(electronic_signatures)\n        .where(and(\n          gte(electronic_signatures.signed_at, startDateTime),\n          lte(electronic_signatures.signed_at, endDateTime)\n        ))\n        .groupBy(electronic_signatures.status);\n\n      // Signatures by meaning\n      const byMeaning = await db\n        .select({\n          meaning: electronic_signatures.signature_meaning,\n          count: sql`count(*)`\n        })\n        .from(electronic_signatures)\n        .where(and(\n          gte(electronic_signatures.signed_at, startDateTime),\n          lte(electronic_signatures.signed_at, endDateTime)\n        ))\n        .groupBy(electronic_signatures.signature_meaning);\n\n      // Signatures by document type\n      const byDocumentType = await db\n        .select({\n          document_type: electronic_signatures.document_type,\n          count: sql`count(*)`\n        })\n        .from(electronic_signatures)\n        .where(and(\n          gte(electronic_signatures.signed_at, startDateTime),\n          lte(electronic_signatures.signed_at, endDateTime)\n        ))\n        .groupBy(electronic_signatures.document_type);\n\n      // Pending cosignatures\n      const pendingCosignatures = await db\n        .select({ count: sql`count(*)` })\n        .from(electronic_signatures)\n        .where(and(\n          eq(electronic_signatures.status, 'PENDING_REVIEW'),\n          eq(electronic_signatures.requires_cosigner, true),\n          isNull(electronic_signatures.cosigner_signature_id)\n        ));\n\n      // Overdue cosignatures\n      const overdueCosignatures = await db\n        .select({ count: sql`count(*)` })\n        .from(electronic_signatures)\n        .where(and(\n          eq(electronic_signatures.status, 'PENDING_REVIEW'),\n          eq(electronic_signatures.requires_cosigner, true),\n          isNull(electronic_signatures.cosigner_signature_id),\n          lte(electronic_signatures.cosignature_deadline, new Date())\n        ));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          period: {\n            start: startDateTime,\n            end: endDateTime\n          },\n          summary: {\n            total_signatures: Number(totalSignatures[0]?.count || 0),\n            pending_cosignatures: Number(pendingCosignatures[0]?.count || 0),\n            overdue_cosignatures: Number(overdueCosignatures[0]?.count || 0)\n          },\n          by_status: byStatus.map(r => ({ status: r.status, count: Number(r.count) })),\n          by_meaning: byMeaning.map(r => ({ meaning: r.meaning, count: Number(r.count) })),\n          by_document_type: byDocumentType.map(r => ({ document_type: r.document_type, count: Number(r.count) })),\n          generated_at: new Date().toISOString()\n        }\n      };\n    } catch (error) {\n      logger.error('Error generating compliance report:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error generating compliance report',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new ElectronicSignatureController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,SAASE,EAAE,QAAQ,yBAAyB;AAC5C,SACEC,qBAAqB,EACrBC,sBAAsB,EACtBC,6BAA6B,QACxB,wBAAwB;AAC/B,SAASC,KAAK,QAAQ,8BAA8B;AACpD,SAASC,EAAE,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,EAAEC,EAAE,EAAEC,GAAG,QAAQ,aAAa;AACtE,OAAOC,MAAM,MAAM,QAAQ;AAC3B,OAAOC,YAAY,MAAM,6BAA6B;AACtD,SAASC,MAAM,QAAQ,oBAAoB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,6BAA6B,CAAC;EAClC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,MAAMC,MAAMA,CAACC,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC3B,IAAI;MACF,MAAM;QACJC,aAAa;QACbC,WAAW;QACXC,gBAAgB;QAAE;QAClBC,gBAAgB;QAAA;QAAA,CAAA3B,cAAA,GAAA4B,CAAA,UAAG,KAAK;QACxBC,cAAc;QACdC,iBAAiB;QACjBC,mBAAmB;QACnBC,cAAc;QACdC,sBAAsB;QACtBC,iBAAiB;QAAA;QAAA,CAAAlC,cAAA,GAAA4B,CAAA,UAAG,KAAK;QACzBO,oBAAoB;QACpBC,sBAAsB;QACtBC,oBAAoB;QACpBC,kBAAkB;QAClBC,QAAQ;QAAA;QAAA,CAAAvC,cAAA,GAAA4B,CAAA,UAAG,CAAC,CAAC;MACf,CAAC;MAAA;MAAA,CAAA5B,cAAA,GAAAuB,CAAA,OAAGH,OAAO,CAACoB,IAAI;;MAEhB;MAAA;MAAAxC,cAAA,GAAAuB,CAAA;MACA;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,WAACJ,aAAa;MAAA;MAAA,CAAAxB,cAAA,GAAA4B,CAAA,UAAI,CAACH,WAAW;MAAA;MAAA,CAAAzB,cAAA,GAAA4B,CAAA,UAAI,CAACC,cAAc;MAAA;MAAA,CAAA7B,cAAA,GAAA4B,CAAA,UAAI,CAACE,iBAAiB;MAAA;MAAA,CAAA9B,cAAA,GAAA4B,CAAA,UAAI,CAACG,mBAAmB;MAAA;MAAA,CAAA/B,cAAA,GAAA4B,CAAA,UAAI,CAACI,cAAc,GAAE;QAAA;QAAAhC,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACtHF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMgB,mBAAmB;MAAA;MAAA,CAAA5C,cAAA,GAAAuB,CAAA,OAAG,CAAC,OAAO,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,YAAY,EAAE,cAAc,CAAC;MAAC;MAAAvB,cAAA,GAAAuB,CAAA;MACjG,IAAI,CAACqB,mBAAmB,CAACC,QAAQ,CAAChB,cAAc,CAAC,EAAE;QAAA;QAAA7B,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE,2CAA2CC,mBAAmB,CAACE,IAAI,CAAC,IAAI,CAAC;QACpF,CAAC;MACH,CAAC;MAAA;MAAA;QAAA9C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMmB,aAAa;MAAA;MAAA,CAAA/C,cAAA,GAAAuB,CAAA,OAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,eAAe,EAAE,SAAS,EAAE,UAAU,EAAE,mBAAmB,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,CAAC;MAAC;MAAAvB,cAAA,GAAAuB,CAAA;MACrL,IAAI,CAACwB,aAAa,CAACF,QAAQ,CAACf,iBAAiB,CAAC,EAAE;QAAA;QAAA9B,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAC9CF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE,8CAA8CI,aAAa,CAACD,IAAI,CAAC,IAAI,CAAC;QACjF,CAAC;MACH,CAAC;MAAA;MAAA;QAAA9C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMoB,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAC1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMqB,aAAa;MAAA;MAAA,CAAAjD,cAAA,GAAAuB,CAAA;MAAG;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,UAAAF,gBAAgB;MAAA;MAAA,CAAA1B,cAAA,GAAA4B,CAAA,UAAIsB,IAAI,CAACC,SAAS,CAAC;QAAE3B,aAAa;QAAEC,WAAW;QAAEE;MAAiB,CAAC,CAAC;MAC1G,MAAMyB,YAAY;MAAA;MAAA,CAAApD,cAAA,GAAAuB,CAAA,QAAGR,MAAM,CAACsC,UAAU,CAAC,QAAQ,CAAC,CAACC,MAAM,CAACL,aAAa,CAAC,CAACM,MAAM,CAAC,KAAK,CAAC;;MAEpF;MACA,MAAMC,QAAQ;MAAA;MAAA,CAAAxD,cAAA,GAAAuB,CAAA,QAAG,IAAIkC,IAAI,CAAC,CAAC;;MAE3B;MACA,MAAMC,eAAe;MAAA;MAAA,CAAA1D,cAAA,GAAAuB,CAAA,QAAG;QACtB;QACAoC,SAAS,EAAEX,IAAI,CAACY,EAAE;QAClBC,WAAW;QAAE;QAAA,CAAA7D,cAAA,GAAA4B,CAAA;QAAG;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QAAA;QAAA,CAAAhE,cAAA,GAAA4B,CAAA,UAAIoB,IAAI,CAACiB,KAAK;QAClFC,YAAY,EAAElB,IAAI,CAACiB,KAAK;QACxBE,kBAAkB;QAAE;QAAA,CAAAnE,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACoB,WAAW;QAAA;QAAA,CAAApE,cAAA,GAAA4B,CAAA,WAAIoB,IAAI,CAACqB,IAAI;QAAA;QAAA,CAAArE,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACzD0C,YAAY;QAAE;QAAA,CAAAtE,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACuB,KAAK;QAAA;QAAA,CAAAvE,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAChC4C,UAAU;QAAE;QAAA,CAAAxE,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAACqD,OAAO,EAAEb,EAAE;QAAA;QAAA,CAAA5D,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAEvC;QACAC,cAAc;QACdC,iBAAiB;QACjBC,mBAAmB;QACnBC,cAAc;QACdC,sBAAsB,EAAEJ,cAAc,KAAK,OAAO;QAAA;QAAA,CAAA7B,cAAA,GAAA4B,CAAA,WAAGK,sBAAsB;QAAA;QAAA,CAAAjC,cAAA,GAAA4B,CAAA,WAAG,IAAI;QAElF;QACAJ,aAAa;QACbC,WAAW,EAAEiD,MAAM,CAACjD,WAAW,CAAC;QAChCE,gBAAgB;QAChBgD,aAAa,EAAEvB,YAAY;QAC3BwB,cAAc,EAAE,SAAS;QAEzB;QACAC,SAAS,EAAErB,QAAQ;QACnBsB,gBAAgB,EAAEtB,QAAQ;QAC1BuB,eAAe;QAAE;QAAA,CAAA/E,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QAAA;QAAA,CAAAhF,cAAA,GAAA4B,CAAA,WAAIqD,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,eAAe,CAAC,CAAC,CAACC,QAAQ;QAElG;QACAC,qBAAqB,EAAErC,IAAI,CAACsC,WAAW;QAAA;QAAA,CAAAtF,cAAA,GAAA4B,CAAA,WAAG,KAAK;QAAA;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAG,UAAU;QAC5D2D,YAAY;QAAE;QAAA,CAAAvF,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACsC,WAAW;QAAA;QAAA,CAAAtF,cAAA,GAAA4B,CAAA,WAAI,KAAK;QACvC4D,QAAQ;QAAE;QAAA,CAAAxF,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACyC,OAAO;QAAA;QAAA,CAAAzF,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC9B8D,UAAU;QAAE;QAAA,CAAA1F,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAACuE,EAAE;QAAA;QAAA,CAAA3F,cAAA,GAAA4B,CAAA,WAAIR,OAAO,CAAC4D,OAAO,CAAC,iBAAiB,CAAC,EAAEY,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAAA;QAAA,CAAA5F,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACnFiE,UAAU;QAAE;QAAA,CAAA7F,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QAAA;QAAA,CAAAhF,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACjDkE,kBAAkB;QAAE;QAAA,CAAA9F,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAAC4D,OAAO,CAAC,sBAAsB,CAAC;QAAA;QAAA,CAAAhF,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAEnE;QACAc,MAAM,EAAER,iBAAiB;QAAA;QAAA,CAAAlC,cAAA,GAAA4B,CAAA,WAAG,gBAAgB;QAAA;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAG,OAAO;QAEtD;QACAM,iBAAiB;QACjBC,oBAAoB;QAAE;QAAA,CAAAnC,cAAA,GAAA4B,CAAA,WAAAO,oBAAoB;QAAA;QAAA,CAAAnC,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAClDQ,sBAAsB;QAAE;QAAA,CAAApC,cAAA,GAAA4B,CAAA,WAAAQ,sBAAsB;QAAA;QAAA,CAAApC,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACtDS,oBAAoB,EAAEA,oBAAoB;QAAA;QAAA,CAAArC,cAAA,GAAA4B,CAAA,WAAG,IAAI6B,IAAI,CAACpB,oBAAoB,CAAC;QAAA;QAAA,CAAArC,cAAA,GAAA4B,CAAA,WAAG,IAAI;QAElF;QACAmE,eAAe;QAAE;QAAA,CAAA/F,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACgD,cAAc;QAAA;QAAA,CAAAhG,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC5CqE,WAAW;QAAE;QAAA,CAAAjG,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACkD,UAAU;QAAA;QAAA,CAAAlG,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACpCU,kBAAkB;QAAE;QAAA,CAAAtC,cAAA,GAAA4B,CAAA,WAAAU,kBAAkB;QAAA;QAAA,CAAAtC,cAAA,GAAA4B,CAAA,WAAI,OAAO;QACjDW,QAAQ,EAAE;UAAE,GAAGA,QAAQ;UAAE4D,SAAS,EAAE/E,OAAO,CAAC4D,OAAO,CAAC,YAAY;QAAE;MACpE,CAAC;;MAED;MACA,MAAMoB,MAAM;MAAA;MAAA,CAAApG,cAAA,GAAAuB,CAAA,QAAG,MAAMrB,EAAE,CACpBmG,MAAM,CAAClG,qBAAqB,CAAC,CAC7BmG,MAAM,CAAC5C,eAAe,CAAC,CACvB6C,SAAS,CAAC,CAAC;MAEd,MAAMC,gBAAgB;MAAA;MAAA,CAAAxG,cAAA,GAAAuB,CAAA,QAAG6E,MAAM,CAAC,CAAC,CAAC;;MAElC;MAAA;MAAApG,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAED,gBAAgB,CAAC5C,EAAE;QACjC8C,UAAU,EAAE,SAAS;QACrBC,iBAAiB,EAAE,oCAAoCnF,aAAa,IAAIC,WAAW,EAAE;QACrFmF,QAAQ,EAAE5D,IAAI,CAACY,EAAE;QACjBiD,UAAU,EAAEnD,eAAe,CAACG,WAAW;QACvCW,UAAU,EAAEd,eAAe,CAACc,UAAU;QACtCkB,UAAU,EAAEhC,eAAe,CAACgC,UAAU;QACtCG,UAAU,EAAEnC,eAAe,CAACmC,UAAU;QACtCiB,cAAc,EAAE;UACdtF,aAAa;UACbC,WAAW;UACXK,iBAAiB;UACjBI;QACF;MACF,CAAC,CAAC;;MAEF;MAAA;MAAAlC,cAAA,GAAAuB,CAAA;MACA,MAAMP,YAAY,CAAC+F,cAAc,CAAC;QAChCC,OAAO,EAAEhE,IAAI,CAACY,EAAE;QAChBqD,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE,sBAAsB;QACrCC,WAAW,EAAEzC,MAAM,CAAC8B,gBAAgB,CAAC5C,EAAE,CAAC;QACxC8B,UAAU,EAAEhC,eAAe,CAACgC,UAAU;QACtCG,UAAU,EAAEnC,eAAe,CAACmC,UAAU;QACtCnD,MAAM,EAAE,SAAS;QACjBH,QAAQ,EAAEW,IAAI,CAACC,SAAS,CAAC;UACvB3B,aAAa;UACbC,WAAW;UACXK;QACF,CAAC;MACH,CAAC,EAAE,CAAC,CAAC,EAAE;QAAEsF,SAAS,EAAE;MAAK,CAAC,CAAC;MAAC;MAAApH,cAAA,GAAAuB,CAAA;MAE5BF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,2CAA2C;QACpD0E,IAAI,EAAE;UACJzD,EAAE,EAAE4C,gBAAgB,CAAC5C,EAAE;UACvBC,WAAW,EAAE2C,gBAAgB,CAAC3C,WAAW;UACzC/B,iBAAiB,EAAE0E,gBAAgB,CAAC1E,iBAAiB;UACrDN,aAAa,EAAEgF,gBAAgB,CAAChF,aAAa;UAC7CC,WAAW,EAAE+E,gBAAgB,CAAC/E,WAAW;UACzCkD,aAAa,EAAE6B,gBAAgB,CAAC7B,aAAa;UAC7CE,SAAS,EAAE2B,gBAAgB,CAAC3B,SAAS;UACrCnC,MAAM,EAAE8D,gBAAgB,CAAC9D,MAAM;UAC/BR,iBAAiB,EAAEsE,gBAAgB,CAACtE;QACtC;MACF,CAAC;IACH,CAAC,CAAC,OAAOoF,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;;MAE3D;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACA,IAAI+F,KAAK,CAAC7E,IAAI,KAAK,OAAO,EAAE;QAAA;QAAAzC,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAC1BF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAEDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,qCAAqC;QAC9C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMC,IAAIA,CAACvG,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IACzB,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACwG,MAAM;MAC7B,MAAM5E,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAAC4B,IAAI;MAEzB,MAAMoD,MAAM;MAAA;MAAA,CAAApG,cAAA,GAAAuB,CAAA,QAAG,MAAMrB,EAAE,CACpB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAAC6E,MAAM,CAAC,CAAC,CAAC,EAAE;QAAA;QAAApG,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACdF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1B8C,UAAU,EAAE,QAAQ;QACpBC,iBAAiB,EAAE;QAAuB;QAAA,CAAA3G,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,EAAEiB,KAAK;QAAA;QAAA,CAAAjE,cAAA,GAAA4B,CAAA,WAAI,SAAS,GAAE;QACpEgF,QAAQ;QAAE;QAAA,CAAA5G,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,EAAEY,EAAE;QAAA;QAAA,CAAA5D,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC1BiF,UAAU,EAAE7D,IAAI;QAAA;QAAA,CAAAhD,cAAA,GAAA4B,CAAA,WAAG;QAAG;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QAAA;QAAA,CAAAhE,cAAA,GAAA4B,CAAA,WAAG,IAAI;QACjF8D,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY;MAC1C,CAAC,CAAC;MAAC;MAAAhF,cAAA,GAAAuB,CAAA;MAEHF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAEjB,MAAM,CAAC,CAAC;MAChB,CAAC;IACH,CAAC,CAAC,OAAOkB,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC5DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,qCAAqC;QAC9C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMQ,aAAaA,CAAC9G,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAClC,IAAI;MACF,MAAM;QAAE4G,YAAY;QAAEC;MAAW,CAAC;MAAA;MAAA,CAAApI,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACwG,MAAM;MACnD,MAAM;QAAElF,MAAM;QAAE2F,OAAO;QAAEC,kBAAkB;QAAA;QAAA,CAAAtI,cAAA,GAAA4B,CAAA,WAAG,OAAO;MAAC,CAAC;MAAA;MAAA,CAAA5B,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACmH,KAAK;MAEvE,IAAIC,UAAU;MAAA;MAAA,CAAAxI,cAAA,GAAAuB,CAAA,QAAG,CACfhB,EAAE,CAACJ,qBAAqB,CAACqB,aAAa,EAAE2G,YAAY,CAAC,EACrD5H,EAAE,CAACJ,qBAAqB,CAACsB,WAAW,EAAEiD,MAAM,CAAC0D,UAAU,CAAC,CAAC,CAC1D;;MAED;MAAA;MAAApI,cAAA,GAAAuB,CAAA;MACA,IAAI+G,kBAAkB,KAAK,MAAM,EAAE;QAAA;QAAAtI,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjCiH,UAAU,CAACC,IAAI,CACb5H,EAAE,CACAN,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAE,OAAO,CAAC,EACzCnC,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAE,gBAAgB,CACnD,CACF,CAAC;MACH,CAAC;MAAA;MAAA;QAAA1C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAImB,MAAM,EAAE;QAAA;QAAA1C,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACViH,UAAU,CAACC,IAAI,CAAClI,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAEA,MAAM,CAAC,CAAC;MAC3D,CAAC;MAAA;MAAA;QAAA1C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAI8G,OAAO,EAAE;QAAA;QAAArI,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACXiH,UAAU,CAACC,IAAI,CAAClI,EAAE,CAACJ,qBAAqB,CAAC2B,iBAAiB,EAAEuG,OAAO,CAAC,CAAC;MACvE,CAAC;MAAA;MAAA;QAAArI,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM8G,OAAO;MAAA;MAAA,CAAA1I,cAAA,GAAAuB,CAAA,QAAG,MAAMrB,EAAE,CACrB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CAAC,GAAGgI,UAAU,CAAC,CAAC,CACzBG,OAAO,CAAClI,IAAI,CAACN,qBAAqB,CAAC0E,SAAS,CAAC,CAAC;MAAC;MAAA7E,cAAA,GAAAuB,CAAA;MAElDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAEqB,OAAO;QACbE,KAAK,EAAEF,OAAO,CAACG;MACjB,CAAC;IACH,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC3DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,oCAAoC;QAC7C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMoB,MAAMA,CAAC1H,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC3B,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACwG,MAAM;MAC7B,MAAM;QAAElG;MAAiB,CAAC;MAAA;MAAA,CAAA1B,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACoB,IAAI;MACzC,MAAMQ,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAE1B,IAAI,CAACG,gBAAgB,EAAE;QAAA;QAAA1B,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACrBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMwE,MAAM;MAAA;MAAA,CAAApG,cAAA,GAAAuB,CAAA,QAAG,MAAMrB,EAAE,CACpB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAAC6E,MAAM,CAAC,CAAC,CAAC,EAAE;QAAA;QAAApG,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACdF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMmH,SAAS;MAAA;MAAA,CAAA/I,cAAA,GAAAuB,CAAA,QAAG6E,MAAM,CAAC,CAAC,CAAC;;MAE3B;MACA,MAAM4C,cAAc;MAAA;MAAA,CAAAhJ,cAAA,GAAAuB,CAAA,QAAGR,MAAM,CAACsC,UAAU,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC5B,gBAAgB,CAAC,CAAC6B,MAAM,CAAC,KAAK,CAAC;MACzF,MAAM0F,OAAO;MAAA;MAAA,CAAAjJ,cAAA,GAAAuB,CAAA,QAAGyH,cAAc,KAAKD,SAAS,CAACpE,aAAa;;MAE1D;MAAA;MAAA3E,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1B8C,UAAU,EAAE,UAAU;QACtBC,iBAAiB,EAAE,0BAA0BsC,OAAO;QAAA;QAAA,CAAAjJ,cAAA,GAAA4B,CAAA,WAAG,YAAY;QAAA;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAG,QAAQ,GAAE;QAChFgF,QAAQ;QAAE;QAAA,CAAA5G,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,EAAEY,EAAE;QAAA;QAAA,CAAA5D,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC1BiF,UAAU,EAAE7D,IAAI;QAAA;QAAA,CAAAhD,cAAA,GAAA4B,CAAA,WAAG;QAAG;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QAAA;QAAA,CAAAhE,cAAA,GAAA4B,CAAA,WAAG,IAAI;QACjF8D,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QACzC8B,cAAc,EAAE;UACdoC,mBAAmB,EAAED,OAAO;UAC5BrE,cAAc,EAAEmE,SAAS,CAACnE;QAC5B;MACF,CAAC,CAAC;MAAC;MAAA5E,cAAA,GAAAuB,CAAA;MAEHF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAE;UACJZ,YAAY,EAAEsC,SAAS,CAACnF,EAAE;UAC1BuF,QAAQ,EAAEF,OAAO;UACjBG,gBAAgB,EAAEL,SAAS,CAACrG,MAAM;UAClCkC,cAAc,EAAEmE,SAAS,CAACnE,cAAc;UACxCC,SAAS,EAAEkE,SAAS,CAAClE,SAAS;UAC9BhB,WAAW,EAAEkF,SAAS,CAAClF,WAAW;UAClCM,kBAAkB,EAAE4E,SAAS,CAAC5E,kBAAkB;UAChDkF,sBAAsB,EAAE,IAAI5F,IAAI,CAAC,CAAC,CAAC6F,WAAW,CAAC;QACjD;MACF,CAAC;IACH,CAAC,CAAC,OAAOhC,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAClDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,2BAA2B;QACpC2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAM6B,MAAMA,CAACnI,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC3B,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACwG,MAAM;MAC7B,MAAM;QACJ/F,cAAc;QACdE,mBAAmB;QACnBC,cAAc;QACdC,sBAAsB;QACtBM,QAAQ;QAAA;QAAA,CAAAvC,cAAA,GAAA4B,CAAA,WAAG,CAAC,CAAC;MACf,CAAC;MAAA;MAAA,CAAA5B,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAACoB,IAAI;MAEhB,MAAMQ,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,QAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAC1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAM4H,cAAc;MAAA;MAAA,CAAAxJ,cAAA,GAAAuB,CAAA,QAAG,MAAMrB,EAAE,CAC5B2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAACiI,cAAc,CAAC,CAAC,CAAC,EAAE;QAAA;QAAAxJ,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACtBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM6H,iBAAiB;MAAA;MAAA,CAAAzJ,cAAA,GAAAuB,CAAA,QAAGiI,cAAc,CAAC,CAAC,CAAC;;MAE3C;MAAA;MAAAxJ,cAAA,GAAAuB,CAAA;MACA,IAAI,CAACkI,iBAAiB,CAACvH,iBAAiB,EAAE;QAAA;QAAAlC,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACxCF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA,IAAIkI,iBAAiB,CAACC,qBAAqB,EAAE;QAAA;QAAA1J,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAC3CF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,WAAA6H,iBAAiB,CAACtH,oBAAoB;MAAA;MAAA,CAAAnC,cAAA,GAAA4B,CAAA,WAAI6H,iBAAiB,CAACtH,oBAAoB,KAAKa,IAAI,CAACY,EAAE,GAAE;QAAA;QAAA5D,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAChGF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,WAAA6H,iBAAiB,CAACrH,sBAAsB;MAAA;MAAA,CAAApC,cAAA,GAAA4B,CAAA,WAAIoB,IAAI,CAACqB,IAAI,KAAKoF,iBAAiB,CAACrH,sBAAsB,GAAE;QAAA;QAAApC,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACtGF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE,4BAA4B8G,iBAAiB,CAACrH,sBAAsB;QAC/E,CAAC;MACH,CAAC;MAAA;MAAA;QAAApC,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,WAAA6H,iBAAiB,CAACpH,oBAAoB;MAAA;MAAA,CAAArC,cAAA,GAAA4B,CAAA,WAAI,IAAI6B,IAAI,CAAC,CAAC,GAAGgG,iBAAiB,CAACpH,oBAAoB,GAAE;QAAA;QAAArC,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjGF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAM4B,QAAQ;MAAA;MAAA,CAAAxD,cAAA,GAAAuB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAC3B,MAAMkG,iBAAiB;MAAA;MAAA,CAAA3J,cAAA,GAAAuB,CAAA,SAAG;QACxBoC,SAAS,EAAEX,IAAI,CAACY,EAAE;QAClBC,WAAW;QAAE;QAAA,CAAA7D,cAAA,GAAA4B,CAAA;QAAG;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QAAA;QAAA,CAAAhE,cAAA,GAAA4B,CAAA,WAAIoB,IAAI,CAACiB,KAAK;QAClFC,YAAY,EAAElB,IAAI,CAACiB,KAAK;QACxBE,kBAAkB;QAAE;QAAA,CAAAnE,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACoB,WAAW;QAAA;QAAA,CAAApE,cAAA,GAAA4B,CAAA,WAAIoB,IAAI,CAACqB,IAAI;QAAA;QAAA,CAAArE,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACzD0C,YAAY;QAAE;QAAA,CAAAtE,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACuB,KAAK;QAAA;QAAA,CAAAvE,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAChC4C,UAAU;QAAE;QAAA,CAAAxE,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAACqD,OAAO,EAAEb,EAAE;QAAA;QAAA,CAAA5D,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAEvCC,cAAc;QAAE;QAAA,CAAA7B,cAAA,GAAA4B,CAAA,WAAAC,cAAc;QAAA;QAAA,CAAA7B,cAAA,GAAA4B,CAAA,WAAI,OAAO;QACzCE,iBAAiB,EAAE,UAAU;QAC7BC,mBAAmB;QAAE;QAAA,CAAA/B,cAAA,GAAA4B,CAAA,WAAAG,mBAAmB;QAAA;QAAA,CAAA/B,cAAA,GAAA4B,CAAA,WAAI,uDAAuD;QACnGI,cAAc;QACdC,sBAAsB;QAEtBT,aAAa,EAAEiI,iBAAiB,CAACjI,aAAa;QAC9CC,WAAW,EAAEgI,iBAAiB,CAAChI,WAAW;QAC1CE,gBAAgB,EAAE8H,iBAAiB,CAAC9H,gBAAgB;QACpDgD,aAAa,EAAE8E,iBAAiB,CAAC9E,aAAa;QAC9CC,cAAc,EAAE6E,iBAAiB,CAAC7E,cAAc;QAEhDC,SAAS,EAAErB,QAAQ;QACnBsB,gBAAgB,EAAEtB,QAAQ;QAC1BuB,eAAe;QAAE;QAAA,CAAA/E,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QAAA;QAAA,CAAAhF,cAAA,GAAA4B,CAAA,WAAIqD,IAAI,CAACC,cAAc,CAAC,CAAC,CAACC,eAAe,CAAC,CAAC,CAACC,QAAQ;QAElGC,qBAAqB,EAAErC,IAAI,CAACsC,WAAW;QAAA;QAAA,CAAAtF,cAAA,GAAA4B,CAAA,WAAG,KAAK;QAAA;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAG,UAAU;QAC5D2D,YAAY;QAAE;QAAA,CAAAvF,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACsC,WAAW;QAAA;QAAA,CAAAtF,cAAA,GAAA4B,CAAA,WAAI,KAAK;QACvC4D,QAAQ;QAAE;QAAA,CAAAxF,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACyC,OAAO;QAAA;QAAA,CAAAzF,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC9B8D,UAAU;QAAE;QAAA,CAAA1F,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAACuE,EAAE;QAAA;QAAA,CAAA3F,cAAA,GAAA4B,CAAA,WAAIR,OAAO,CAAC4D,OAAO,CAAC,iBAAiB,CAAC,EAAEY,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAAA;QAAA,CAAA5F,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACnFiE,UAAU;QAAE;QAAA,CAAA7F,cAAA,GAAA4B,CAAA,WAAAR,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QAAA;QAAA,CAAAhF,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAEjDc,MAAM,EAAE,OAAO;QACfR,iBAAiB,EAAE,KAAK;QAExB6D,eAAe;QAAE;QAAA,CAAA/F,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACgD,cAAc;QAAA;QAAA,CAAAhG,cAAA,GAAA4B,CAAA,WAAI,IAAI;QAC5CqE,WAAW;QAAE;QAAA,CAAAjG,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACkD,UAAU;QAAA;QAAA,CAAAlG,cAAA,GAAA4B,CAAA,WAAI,IAAI;QACpCU,kBAAkB,EAAEmH,iBAAiB,CAACnH,kBAAkB;QACxDC,QAAQ,EAAE;UAAE,GAAGA,QAAQ;UAAEqH,qBAAqB,EAAEH,iBAAiB,CAAC7F;QAAG;MACvE,CAAC;MAED,MAAMiG,YAAY;MAAA;MAAA,CAAA7J,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CAC1BmG,MAAM,CAAClG,qBAAqB,CAAC,CAC7BmG,MAAM,CAACqD,iBAAiB,CAAC,CACzBpD,SAAS,CAAC,CAAC;MAEd,MAAMuD,WAAW;MAAA;MAAA,CAAA9J,cAAA,GAAAuB,CAAA,SAAGsI,YAAY,CAAC,CAAC,CAAC;;MAEnC;MAAA;MAAA7J,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CACLoD,MAAM,CAACnD,qBAAqB,CAAC,CAC7B4J,GAAG,CAAC;QACHL,qBAAqB,EAAEI,WAAW,CAAClG,EAAE;QACrClB,MAAM,EAAE;MACV,CAAC,CAAC,CACDqF,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC;;MAEpD;MAAA;MAAA5D,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC,CAC7C;QACEG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1B8C,UAAU,EAAE,UAAU;QACtBC,iBAAiB,EAAE,wBAAwBgD,iBAAiB,CAAC9F,WAAW,EAAE;QAC1E+C,QAAQ,EAAE5D,IAAI,CAACY,EAAE;QACjBiD,UAAU,EAAE8C,iBAAiB,CAAC9F,WAAW;QACzC6B,UAAU,EAAEiE,iBAAiB,CAACjE,UAAU;QACxCG,UAAU,EAAE8D,iBAAiB,CAAC9D,UAAU;QACxCiB,cAAc,EAAE;UAAE4C,qBAAqB,EAAEI,WAAW,CAAClG;QAAG;MAC1D,CAAC,EACD;QACE6C,YAAY,EAAEqD,WAAW,CAAClG,EAAE;QAC5B8C,UAAU,EAAE,SAAS;QACrBC,iBAAiB,EAAE,2BAA2B8C,iBAAiB,CAACjI,aAAa,IAAIiI,iBAAiB,CAAChI,WAAW,EAAE;QAChHmF,QAAQ,EAAE5D,IAAI,CAACY,EAAE;QACjBiD,UAAU,EAAE8C,iBAAiB,CAAC9F,WAAW;QACzC6B,UAAU,EAAEiE,iBAAiB,CAACjE,UAAU;QACxCG,UAAU,EAAE8D,iBAAiB,CAAC9D,UAAU;QACxCiB,cAAc,EAAE;UAAE8C,qBAAqB,EAAEH,iBAAiB,CAAC7F;QAAG;MAChE,CAAC,CACF,CAAC;;MAEF;MAAA;MAAA5D,cAAA,GAAAuB,CAAA;MACA,MAAMP,YAAY,CAAC+F,cAAc,CAAC;QAChCC,OAAO,EAAEhE,IAAI,CAACY,EAAE;QAChBqD,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE,sBAAsB;QACrCC,WAAW,EAAEzC,MAAM,CAACd,EAAE,CAAC;QACvB8B,UAAU,EAAEiE,iBAAiB,CAACjE,UAAU;QACxCG,UAAU,EAAE8D,iBAAiB,CAAC9D,UAAU;QACxCnD,MAAM,EAAE,SAAS;QACjBH,QAAQ,EAAEW,IAAI,CAACC,SAAS,CAAC;UACvByG,qBAAqB,EAAEhG,EAAE;UACzB8F,qBAAqB,EAAEI,WAAW,CAAClG;QACrC,CAAC;MACH,CAAC,EAAE,CAAC,CAAC,EAAE;QAAEwD,SAAS,EAAE;MAAK,CAAC,CAAC;MAAC;MAAApH,cAAA,GAAAuB,CAAA;MAE5BF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,gCAAgC;QACzC0E,IAAI,EAAE;UACJ2C,cAAc,EAAEF,WAAW,CAAClG,EAAE;UAC9BgG,qBAAqB,EAAEH,iBAAiB,CAAC7F,EAAE;UAC3CqG,aAAa,EAAEH,WAAW,CAACjG,WAAW;UACtCgB,SAAS,EAAEiF,WAAW,CAACjF,SAAS;UAChCnC,MAAM,EAAE;QACV;MACF,CAAC;IACH,CAAC,CAAC,OAAO4E,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MACjDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,0BAA0B;QACnC2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;AACA;AACA;EACE,MAAMwC,MAAMA,CAAC9I,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC3B,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACwG,MAAM;MAC7B,MAAM;QAAEuC;MAAkB,CAAC;MAAA;MAAA,CAAAnK,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACoB,IAAI;MAC1C,MAAMQ,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAE1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAI,CAAC4I,iBAAiB,EAAE;QAAA;QAAAnK,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACtBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMwE,MAAM;MAAA;MAAA,CAAApG,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACpB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAAC6E,MAAM,CAAC,CAAC,CAAC,EAAE;QAAA;QAAApG,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACdF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMmH,SAAS;MAAA;MAAA,CAAA/I,cAAA,GAAAuB,CAAA,SAAG6E,MAAM,CAAC,CAAC,CAAC;MAAC;MAAApG,cAAA,GAAAuB,CAAA;MAE5B,IAAIwH,SAAS,CAACrG,MAAM,KAAK,SAAS,EAAE;QAAA;QAAA1C,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAClCF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CACLoD,MAAM,CAACnD,qBAAqB,CAAC,CAC7B4J,GAAG,CAAC;QACHrH,MAAM,EAAE,SAAS;QACjByH,iBAAiB;QACjBC,UAAU,EAAE,IAAI3G,IAAI,CAAC,CAAC;QACtB4G,aAAa,EAAErH,IAAI,CAACY;MACtB,CAAC,CAAC,CACDmE,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC;;MAEpD;MAAA;MAAA5D,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1B8C,UAAU,EAAE,SAAS;QACrBC,iBAAiB,EAAE,sBAAsBwD,iBAAiB,EAAE;QAC5DvD,QAAQ,EAAE5D,IAAI,CAACY,EAAE;QACjBiD,UAAU,EAAE;QAAG;QAAA,CAAA7G,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QACnE0B,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QACzC8B,cAAc,EAAE;UAAEqD;QAAkB;MACtC,CAAC,CAAC;;MAEF;MAAA;MAAAnK,cAAA,GAAAuB,CAAA;MACA,MAAMP,YAAY,CAAC+F,cAAc,CAAC;QAChCC,OAAO,EAAEhE,IAAI,CAACY,EAAE;QAChBqD,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE,sBAAsB;QACrCC,WAAW,EAAEzC,MAAM,CAACd,EAAE,CAAC;QACvB8B,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QACzCtC,MAAM,EAAE,SAAS;QACjBH,QAAQ,EAAEW,IAAI,CAACC,SAAS,CAAC;UAAEgH;QAAkB,CAAC;MAChD,CAAC,EAAE,CAAC,CAAC,EAAE;QAAE/C,SAAS,EAAE;MAAK,CAAC,CAAC;MAAC;MAAApH,cAAA,GAAAuB,CAAA;MAE5BF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,gCAAgC;QACzC0E,IAAI,EAAE;UACJZ,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;UAC1BlB,MAAM,EAAE,SAAS;UACjB0H,UAAU,EAAE,IAAI3G,IAAI,CAAC,CAAC,CAAC6F,WAAW,CAAC,CAAC;UACpCgB,UAAU,EAAEtH,IAAI,CAACiB;QACnB;MACF,CAAC;IACH,CAAC,CAAC,OAAOqD,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MACjDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,0BAA0B;QACnC2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAM6C,sBAAsBA,CAACnJ,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC3C,IAAI;MACF,MAAMyB,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAC1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAM8G,OAAO;MAAA;MAAA,CAAA1I,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACrB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRD,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAE,gBAAgB,CAAC,EAClDnC,EAAE,CAACJ,qBAAqB,CAAC+B,iBAAiB,EAAE,IAAI,CAAC,EACjDtB,MAAM,CAACT,qBAAqB,CAACuJ,qBAAqB,CAAC,EACnD7I,EAAE,CACAN,EAAE,CAACJ,qBAAqB,CAACgC,oBAAoB,EAAEa,IAAI,CAACY,EAAE,CAAC,EACvDrD,EAAE,CAACJ,qBAAqB,CAACiC,sBAAsB,EAAEY,IAAI,CAACqB,IAAI,CAAC,EAC3D7D,GAAG,CACDI,MAAM,CAACT,qBAAqB,CAACgC,oBAAoB,CAAC,EAClDvB,MAAM,CAACT,qBAAqB,CAACiC,sBAAsB,CACrD,CACF,CACF,CAAC,CAAC,CACDuG,OAAO,CAAClI,IAAI,CAACN,qBAAqB,CAAC0E,SAAS,CAAC,CAAC;MAAC;MAAA7E,cAAA,GAAAuB,CAAA;MAElDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAEqB,OAAO;QACbE,KAAK,EAAEF,OAAO,CAACG;MACjB,CAAC;IACH,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC5DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,qCAAqC;QAC9C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAM8C,aAAaA,CAACpJ,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAClC,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACwG,MAAM;MAE7B,MAAMmB,SAAS;MAAA;MAAA,CAAA/I,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACvB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAACwH,SAAS,CAAC,CAAC,CAAC,EAAE;QAAA;QAAA/I,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM6I,WAAW;MAAA;MAAA,CAAAzK,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACzB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC1H,sBAAsB,CAAC,CAC5B2H,KAAK,CAACxH,EAAE,CAACH,sBAAsB,CAACqG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CAC5D+E,OAAO,CAAClI,IAAI,CAACL,sBAAsB,CAACsK,UAAU,CAAC,CAAC;MAAC;MAAA1K,cAAA,GAAAuB,CAAA;MAEpDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAE;UACJ0B,SAAS,EAAEA,SAAS,CAAC,CAAC,CAAC;UACvB4B,YAAY,EAAEF;QAChB;MACF,CAAC;IACH,CAAC,CAAC,OAAOnD,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC7DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,sCAAsC;QAC/C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMkD,uBAAuBA,CAACxJ,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAC5C,IAAI;MACF,MAAM;QAAEqC;MAAG,CAAC;MAAA;MAAA,CAAA5D,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACwG,MAAM;MAC7B,MAAM;QAAEiD,gBAAgB;QAAA;QAAA,CAAA7K,cAAA,GAAA4B,CAAA,WAAG,EAAE;QAAEkJ,QAAQ;QAAA;QAAA,CAAA9K,cAAA,GAAA4B,CAAA,WAAG,IAAI;MAAC,CAAC;MAAA;MAAA,CAAA5B,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACoB,IAAI;MAC/D,MAAMQ,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAE1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMmH,SAAS;MAAA;MAAA,CAAA/I,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACvB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEoE,QAAQ,CAACpE,EAAE,CAAC,CAAC,CAAC,CACjDqE,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAACwH,SAAS,CAAC,CAAC,CAAC,EAAE;QAAA;QAAA/I,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMmJ,KAAK;MAAA;MAAA,CAAA/K,cAAA,GAAAuB,CAAA,SAAGR,MAAM,CAACiK,WAAW,CAAC,EAAE,CAAC,CAACC,QAAQ,CAAC,KAAK,CAAC;MACpD,MAAMC,SAAS;MAAA;MAAA,CAAAlL,cAAA,GAAAuB,CAAA,SAAG,IAAIkC,IAAI,CAAC,CAAC;MAAC;MAAAzD,cAAA,GAAAuB,CAAA;MAC7B2J,SAAS,CAACC,QAAQ,CAACD,SAAS,CAACE,QAAQ,CAAC,CAAC,GAAGP,gBAAgB,CAAC;MAE3D,MAAMzE,MAAM;MAAA;MAAA,CAAApG,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACpBmG,MAAM,CAAChG,6BAA6B,CAAC,CACrCiG,MAAM,CAAC;QACNG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1BmH,KAAK;QACLM,UAAU,EAAEH,SAAS;QACrBJ,QAAQ,EAAEA,QAAQ;QAClBQ,aAAa,EAAEtI,IAAI,CAACY;MACtB,CAAC,CAAC,CACD2C,SAAS,CAAC,CAAC;;MAEd;MAAA;MAAAvG,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAEuB,QAAQ,CAACpE,EAAE,CAAC;QAC1B8C,UAAU,EAAE,4BAA4B;QACxCC,iBAAiB,EAAE,sDAAsD;QACzEC,QAAQ,EAAE5D,IAAI,CAACY,EAAE;QACjBiD,UAAU,EAAE;QAAG;QAAA,CAAA7G,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACc,SAAS;QAAA;QAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAI,EAAE;QAAI;QAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAAoB,IAAI,CAACe,QAAQ;QAAA;QAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAAI,EAAE,GAAE,CAACoC,IAAI,CAAC,CAAC;QACnE0B,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QACzC8B,cAAc,EAAE;UAAEyE,QAAQ,EAAEnF,MAAM,CAAC,CAAC,CAAC,CAACxC,EAAE;UAAEyH,UAAU,EAAEH;QAAU;MAClE,CAAC,CAAC;MAAC;MAAAlL,cAAA,GAAAuB,CAAA;MAEHF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,4BAA4B;QACrC0E,IAAI,EAAE;UACJ0D,KAAK;UACLM,UAAU,EAAEH,SAAS;UACrBJ,QAAQ;UACRU,gBAAgB,EAAE,2CAA2CT,KAAK;QACpE;MACF,CAAC;IACH,CAAC,CAAC,OAAOzD,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC1DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,mCAAmC;QAC5C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,WAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,WAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAM+D,aAAaA,CAACrK,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IAClC,IAAI;MACF,MAAM;QAAEwJ;MAAM,CAAC;MAAA;MAAA,CAAA/K,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACwG,MAAM;MAEhC,MAAM8D,WAAW;MAAA;MAAA,CAAA1L,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACzB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAACzH,6BAA6B,CAAC,CACnC0H,KAAK,CAACvH,GAAG,CACRD,EAAE,CAACF,6BAA6B,CAAC0K,KAAK,EAAEA,KAAK,CAAC,EAC9CxK,EAAE,CAACF,6BAA6B,CAACsL,SAAS,EAAE,IAAI,CAClD,CAAC,CAAC,CACD1D,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAACmK,WAAW,CAAC,CAAC,CAAC,EAAE;QAAA;QAAA1L,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACnBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAMgK,iBAAiB;MAAA;MAAA,CAAA5L,cAAA,GAAAuB,CAAA,SAAGmK,WAAW,CAAC,CAAC,CAAC;;MAExC;MAAA;MAAA1L,cAAA,GAAAuB,CAAA;MACA;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,YAAAgK,iBAAiB,CAACP,UAAU;MAAA;MAAA,CAAArL,cAAA,GAAA4B,CAAA,YAAI,IAAI6B,IAAI,CAAC,CAAC,GAAGmI,iBAAiB,CAACP,UAAU,GAAE;QAAA;QAAArL,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAC7EF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA;MAAI;MAAA,CAAAvB,cAAA,GAAA4B,CAAA,YAAAgK,iBAAiB,CAACd,QAAQ;MAAA;MAAA,CAAA9K,cAAA,GAAA4B,CAAA,YAAIgK,iBAAiB,CAACC,SAAS,IAAID,iBAAiB,CAACd,QAAQ,GAAE;QAAA;QAAA9K,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QAC3FF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MACA,MAAMmH,SAAS;MAAA;MAAA,CAAA/I,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACvB2H,MAAM,CAAC;QACNjE,EAAE,EAAEzD,qBAAqB,CAACyD,EAAE;QAC5BC,WAAW,EAAE1D,qBAAqB,CAAC0D,WAAW;QAC9CK,YAAY,EAAE/D,qBAAqB,CAAC+D,YAAY;QAChDC,kBAAkB,EAAEhE,qBAAqB,CAACgE,kBAAkB;QAC5DrC,iBAAiB,EAAE3B,qBAAqB,CAAC2B,iBAAiB;QAC1DC,mBAAmB,EAAE5B,qBAAqB,CAAC4B,mBAAmB;QAC9DP,aAAa,EAAErB,qBAAqB,CAACqB,aAAa;QAClDC,WAAW,EAAEtB,qBAAqB,CAACsB,WAAW;QAC9CE,gBAAgB,EAAExB,qBAAqB,CAACwB,gBAAgB;QACxDgD,aAAa,EAAExE,qBAAqB,CAACwE,aAAa;QAClDE,SAAS,EAAE1E,qBAAqB,CAAC0E,SAAS;QAC1CnC,MAAM,EAAEvC,qBAAqB,CAACuC;MAChC,CAAC,CAAC,CACDoF,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACxH,EAAE,CAACJ,qBAAqB,CAACyD,EAAE,EAAEgI,iBAAiB,CAACnF,YAAY,CAAC,CAAC,CACnEwB,KAAK,CAAC,CAAC,CAAC;MAAC;MAAAjI,cAAA,GAAAuB,CAAA;MAEZ,IAAI,CAACwH,SAAS,CAAC,CAAC,CAAC,EAAE;QAAA;QAAA/I,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjBF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;;MAED;MAAA5B,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CACLoD,MAAM,CAACjD,6BAA6B,CAAC,CACrC0J,GAAG,CAAC;QACH8B,SAAS,EAAE/K,GAAG,GAAGT,6BAA6B,CAACwL,SAAS;MAC1D,CAAC,CAAC,CACD9D,KAAK,CAACxH,EAAE,CAACF,6BAA6B,CAACuD,EAAE,EAAEgI,iBAAiB,CAAChI,EAAE,CAAC,CAAC;;MAEpE;MAAA;MAAA5D,cAAA,GAAAuB,CAAA;MACA,MAAMrB,EAAE,CAACmG,MAAM,CAACjG,sBAAsB,CAAC,CAACkG,MAAM,CAAC;QAC7CG,YAAY,EAAEmF,iBAAiB,CAACnF,YAAY;QAC5CC,UAAU,EAAE,uBAAuB;QACnCC,iBAAiB,EAAE,yCAAyC;QAC5DjB,UAAU,EAAEtE,OAAO,CAACuE,EAAE;QACtBE,UAAU,EAAEzE,OAAO,CAAC4D,OAAO,CAAC,YAAY,CAAC;QACzC8B,cAAc,EAAE;UAAEyE,QAAQ,EAAEK,iBAAiB,CAAChI;QAAG;MACnD,CAAC,CAAC;MAAC;MAAA5D,cAAA,GAAAuB,CAAA;MAEHF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,iCAAiC;QAC1C0E,IAAI,EAAE;UACJ,GAAG0B,SAAS,CAAC,CAAC,CAAC;UACfM,sBAAsB,EAAE,IAAI5F,IAAI,CAAC,CAAC,CAAC6F,WAAW,CAAC,CAAC;UAChDH,QAAQ,EAAEJ,SAAS,CAAC,CAAC,CAAC,CAACrG,MAAM,KAAK;QACpC;MACF,CAAC;IACH,CAAC,CAAC,OAAO4E,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MACjDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,2BAA2B;QACpC2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,YAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,YAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMoE,eAAeA,CAAC1K,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IACpC,IAAI;MACF,MAAMyB,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAC1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM;QAAEqG,KAAK;QAAA;QAAA,CAAAjI,cAAA,GAAA4B,CAAA,YAAG,EAAE;QAAEmK,MAAM;QAAA;QAAA,CAAA/L,cAAA,GAAA4B,CAAA,YAAG,CAAC;QAAEc,MAAM;QAAElB,aAAa;QAAEwK,UAAU;QAAEC;MAAS,CAAC;MAAA;MAAA,CAAAjM,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACmH,KAAK;MAE7F,IAAIC,UAAU;MAAA;MAAA,CAAAxI,cAAA,GAAAuB,CAAA,SAAG,CAAChB,EAAE,CAACJ,qBAAqB,CAACwD,SAAS,EAAEX,IAAI,CAACY,EAAE,CAAC,CAAC;MAAC;MAAA5D,cAAA,GAAAuB,CAAA;MAEhE,IAAImB,MAAM,EAAE;QAAA;QAAA1C,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACViH,UAAU,CAACC,IAAI,CAAClI,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAEA,MAAM,CAAC,CAAC;MAC3D,CAAC;MAAA;MAAA;QAAA1C,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAIC,aAAa,EAAE;QAAA;QAAAxB,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACjBiH,UAAU,CAACC,IAAI,CAAClI,EAAE,CAACJ,qBAAqB,CAACqB,aAAa,EAAEA,aAAa,CAAC,CAAC;MACzE,CAAC;MAAA;MAAA;QAAAxB,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAIyK,UAAU,EAAE;QAAA;QAAAhM,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACdiH,UAAU,CAACC,IAAI,CAAC/H,GAAG,CAACP,qBAAqB,CAAC0E,SAAS,EAAE,IAAIpB,IAAI,CAACuI,UAAU,CAAC,CAAC,CAAC;MAC7E,CAAC;MAAA;MAAA;QAAAhM,cAAA,GAAA4B,CAAA;MAAA;MAAA5B,cAAA,GAAAuB,CAAA;MAED,IAAI0K,QAAQ,EAAE;QAAA;QAAAjM,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACZiH,UAAU,CAACC,IAAI,CAAC9H,GAAG,CAACR,qBAAqB,CAAC0E,SAAS,EAAE,IAAIpB,IAAI,CAACwI,QAAQ,CAAC,CAAC,CAAC;MAC3E,CAAC;MAAA;MAAA;QAAAjM,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM8G,OAAO;MAAA;MAAA,CAAA1I,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACrB2H,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CAAC,GAAGgI,UAAU,CAAC,CAAC,CACzBG,OAAO,CAAClI,IAAI,CAACN,qBAAqB,CAAC0E,SAAS,CAAC,CAAC,CAC9CoD,KAAK,CAACD,QAAQ,CAACC,KAAK,CAAC,CAAC,CACtB8D,MAAM,CAAC/D,QAAQ,CAAC+D,MAAM,CAAC,CAAC;MAAC;MAAA/L,cAAA,GAAAuB,CAAA;MAE5BF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAEqB,OAAO;QACbE,KAAK,EAAEF,OAAO,CAACG;MACjB,CAAC;IACH,CAAC,CAAC,OAAOvB,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MACvDF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,2BAA2B;QACpC2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,YAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,YAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;;EAEA;AACF;AACA;AACA;EACE,MAAMwE,mBAAmBA,CAAC9K,OAAO,EAAEC,KAAK,EAAE;IAAA;IAAArB,cAAA,GAAAsB,CAAA;IAAAtB,cAAA,GAAAuB,CAAA;IACxC,IAAI;MACF,MAAMyB,IAAI;MAAA;MAAA,CAAAhD,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAAC4B,IAAI;MAAC;MAAAhD,cAAA,GAAAuB,CAAA;MAC1B,IAAI,CAACyB,IAAI,EAAE;QAAA;QAAAhD,cAAA,GAAA4B,CAAA;QAAA5B,cAAA,GAAAuB,CAAA;QACTF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;QAAC;QAAAzC,cAAA,GAAAuB,CAAA;QAChB,OAAO;UACLmB,MAAM,EAAE,GAAG;UACXC,OAAO,EAAE;QACX,CAAC;MACH,CAAC;MAAA;MAAA;QAAA3C,cAAA,GAAA4B,CAAA;MAAA;MAED,MAAM;QAAEoK,UAAU;QAAEC;MAAS,CAAC;MAAA;MAAA,CAAAjM,cAAA,GAAAuB,CAAA,SAAGH,OAAO,CAACmH,KAAK;MAE9C,MAAM4D,aAAa;MAAA;MAAA,CAAAnM,cAAA,GAAAuB,CAAA,SAAGyK,UAAU;MAAA;MAAA,CAAAhM,cAAA,GAAA4B,CAAA,YAAG,IAAI6B,IAAI,CAACuI,UAAU,CAAC;MAAA;MAAA,CAAAhM,cAAA,GAAA4B,CAAA,YAAG,IAAI6B,IAAI,CAACA,IAAI,CAAC2I,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;MACzG,MAAMC,WAAW;MAAA;MAAA,CAAArM,cAAA,GAAAuB,CAAA,SAAG0K,QAAQ;MAAA;MAAA,CAAAjM,cAAA,GAAA4B,CAAA,YAAG,IAAI6B,IAAI,CAACwI,QAAQ,CAAC;MAAA;MAAA,CAAAjM,cAAA,GAAA4B,CAAA,YAAG,IAAI6B,IAAI,CAAC,CAAC;;MAE9D;MACA,MAAM6I,eAAe;MAAA;MAAA,CAAAtM,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CAC7B2H,MAAM,CAAC;QAAEe,KAAK,EAAE9H,GAAG;MAAW,CAAC,CAAC,CAChCgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRE,GAAG,CAACP,qBAAqB,CAAC0E,SAAS,EAAEsH,aAAa,CAAC,EACnDxL,GAAG,CAACR,qBAAqB,CAAC0E,SAAS,EAAEwH,WAAW,CAClD,CAAC,CAAC;;MAEJ;MACA,MAAME,QAAQ;MAAA;MAAA,CAAAvM,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACtB2H,MAAM,CAAC;QACNnF,MAAM,EAAEvC,qBAAqB,CAACuC,MAAM;QACpCkG,KAAK,EAAE9H,GAAG;MACZ,CAAC,CAAC,CACDgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRE,GAAG,CAACP,qBAAqB,CAAC0E,SAAS,EAAEsH,aAAa,CAAC,EACnDxL,GAAG,CAACR,qBAAqB,CAAC0E,SAAS,EAAEwH,WAAW,CAClD,CAAC,CAAC,CACDG,OAAO,CAACrM,qBAAqB,CAACuC,MAAM,CAAC;;MAExC;MACA,MAAM+J,SAAS;MAAA;MAAA,CAAAzM,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACvB2H,MAAM,CAAC;QACNQ,OAAO,EAAElI,qBAAqB,CAAC2B,iBAAiB;QAChD8G,KAAK,EAAE9H,GAAG;MACZ,CAAC,CAAC,CACDgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRE,GAAG,CAACP,qBAAqB,CAAC0E,SAAS,EAAEsH,aAAa,CAAC,EACnDxL,GAAG,CAACR,qBAAqB,CAAC0E,SAAS,EAAEwH,WAAW,CAClD,CAAC,CAAC,CACDG,OAAO,CAACrM,qBAAqB,CAAC2B,iBAAiB,CAAC;;MAEnD;MACA,MAAM4K,cAAc;MAAA;MAAA,CAAA1M,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CAC5B2H,MAAM,CAAC;QACNrG,aAAa,EAAErB,qBAAqB,CAACqB,aAAa;QAClDoH,KAAK,EAAE9H,GAAG;MACZ,CAAC,CAAC,CACDgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRE,GAAG,CAACP,qBAAqB,CAAC0E,SAAS,EAAEsH,aAAa,CAAC,EACnDxL,GAAG,CAACR,qBAAqB,CAAC0E,SAAS,EAAEwH,WAAW,CAClD,CAAC,CAAC,CACDG,OAAO,CAACrM,qBAAqB,CAACqB,aAAa,CAAC;;MAE/C;MACA,MAAMmL,mBAAmB;MAAA;MAAA,CAAA3M,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACjC2H,MAAM,CAAC;QAAEe,KAAK,EAAE9H,GAAG;MAAW,CAAC,CAAC,CAChCgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRD,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAE,gBAAgB,CAAC,EAClDnC,EAAE,CAACJ,qBAAqB,CAAC+B,iBAAiB,EAAE,IAAI,CAAC,EACjDtB,MAAM,CAACT,qBAAqB,CAACuJ,qBAAqB,CACpD,CAAC,CAAC;;MAEJ;MACA,MAAMkD,mBAAmB;MAAA;MAAA,CAAA5M,cAAA,GAAAuB,CAAA,SAAG,MAAMrB,EAAE,CACjC2H,MAAM,CAAC;QAAEe,KAAK,EAAE9H,GAAG;MAAW,CAAC,CAAC,CAChCgH,IAAI,CAAC3H,qBAAqB,CAAC,CAC3B4H,KAAK,CAACvH,GAAG,CACRD,EAAE,CAACJ,qBAAqB,CAACuC,MAAM,EAAE,gBAAgB,CAAC,EAClDnC,EAAE,CAACJ,qBAAqB,CAAC+B,iBAAiB,EAAE,IAAI,CAAC,EACjDtB,MAAM,CAACT,qBAAqB,CAACuJ,qBAAqB,CAAC,EACnD/I,GAAG,CAACR,qBAAqB,CAACkC,oBAAoB,EAAE,IAAIoB,IAAI,CAAC,CAAC,CAC5D,CAAC,CAAC;MAAC;MAAAzD,cAAA,GAAAuB,CAAA;MAELF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACX2E,IAAI,EAAE;UACJwF,MAAM,EAAE;YACNC,KAAK,EAAEX,aAAa;YACpBY,GAAG,EAAEV;UACP,CAAC;UACDW,OAAO,EAAE;YACPC,gBAAgB,EAAEC,MAAM;YAAC;YAAA,CAAAlN,cAAA,GAAA4B,CAAA,YAAA0K,eAAe,CAAC,CAAC,CAAC,EAAE1D,KAAK;YAAA;YAAA,CAAA5I,cAAA,GAAA4B,CAAA,YAAI,CAAC,EAAC;YACxDuL,oBAAoB,EAAED,MAAM;YAAC;YAAA,CAAAlN,cAAA,GAAA4B,CAAA,YAAA+K,mBAAmB,CAAC,CAAC,CAAC,EAAE/D,KAAK;YAAA;YAAA,CAAA5I,cAAA,GAAA4B,CAAA,YAAI,CAAC,EAAC;YAChEwL,oBAAoB,EAAEF,MAAM;YAAC;YAAA,CAAAlN,cAAA,GAAA4B,CAAA,YAAAgL,mBAAmB,CAAC,CAAC,CAAC,EAAEhE,KAAK;YAAA;YAAA,CAAA5I,cAAA,GAAA4B,CAAA,YAAI,CAAC;UACjE,CAAC;UACDyL,SAAS,EAAEd,QAAQ,CAACe,GAAG,CAACC,CAAC,IAAK;YAAA;YAAAvN,cAAA,GAAAsB,CAAA;YAAAtB,cAAA,GAAAuB,CAAA;YAAA;cAAEmB,MAAM,EAAE6K,CAAC,CAAC7K,MAAM;cAAEkG,KAAK,EAAEsE,MAAM,CAACK,CAAC,CAAC3E,KAAK;YAAE,CAAC;UAAD,CAAE,CAAC;UAC5E4E,UAAU,EAAEf,SAAS,CAACa,GAAG,CAACC,CAAC,IAAK;YAAA;YAAAvN,cAAA,GAAAsB,CAAA;YAAAtB,cAAA,GAAAuB,CAAA;YAAA;cAAE8G,OAAO,EAAEkF,CAAC,CAAClF,OAAO;cAAEO,KAAK,EAAEsE,MAAM,CAACK,CAAC,CAAC3E,KAAK;YAAE,CAAC;UAAD,CAAE,CAAC;UAChF6E,gBAAgB,EAAEf,cAAc,CAACY,GAAG,CAACC,CAAC,IAAK;YAAA;YAAAvN,cAAA,GAAAsB,CAAA;YAAAtB,cAAA,GAAAuB,CAAA;YAAA;cAAEC,aAAa,EAAE+L,CAAC,CAAC/L,aAAa;cAAEoH,KAAK,EAAEsE,MAAM,CAACK,CAAC,CAAC3E,KAAK;YAAE,CAAC;UAAD,CAAE,CAAC;UACvG8E,YAAY,EAAE,IAAIjK,IAAI,CAAC,CAAC,CAAC6F,WAAW,CAAC;QACvC;MACF,CAAC;IACH,CAAC,CAAC,OAAOhC,KAAK,EAAE;MAAA;MAAAtH,cAAA,GAAAuB,CAAA;MACdN,MAAM,CAACqG,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAAC;MAAAtH,cAAA,GAAAuB,CAAA;MAC3DF,KAAK,CAACoB,IAAI,CAAC,GAAG,CAAC;MAAC;MAAAzC,cAAA,GAAAuB,CAAA;MAChB,OAAO;QACLmB,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,oCAAoC;QAC7C2E,KAAK,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa;QAAA;QAAA,CAAAzH,cAAA,GAAA4B,CAAA,YAAG0F,KAAK,CAAC3E,OAAO;QAAA;QAAA,CAAA3C,cAAA,GAAA4B,CAAA,YAAG8F,SAAS;MAC3E,CAAC;IACH;EACF;AACF;AAEA,eAAe,IAAIxG,6BAA6B,CAAC,CAAC","ignoreList":[]}