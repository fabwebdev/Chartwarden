{"version":3,"names":["cov_10pz42p891","actualCoverage","PdfService","logger","s","generatePdf","request","reply","f","info","hisData","visitDate","Date","toISOString","split","visitTimeIn","visitTimeOut","travelTimeIn","travelTimeOut","documentationTime","associatedMileage","surcharge","firstName","mi","lastName","suffix","dateOfBirth","gender","maritalStatus","raceEthnicity","addressLine1","addressLine2","city","state","zipCode","primaryPhone","alternatePhone","pdfBuffer","generateHisPdf","header","code","error","message"],"sources":["HisPdf.controller.js"],"sourcesContent":["import PdfService from '../../services/PdfService.js';\n\nimport { logger } from '../../utils/logger.js';\nexport const generatePdf = async (request, reply) => {\n    try {\n        logger.info('API generate-pdf called')\n        \n        // Generate HIS PDF using our PDF service\n        const hisData = {\n            visitDate: new Date().toISOString().split('T')[0],\n            visitTimeIn: '',\n            visitTimeOut: '',\n            travelTimeIn: '',\n            travelTimeOut: '',\n            documentationTime: '',\n            associatedMileage: '',\n            surcharge: '',\n            firstName: '',\n            mi: '',\n            lastName: '',\n            suffix: '',\n            dateOfBirth: '',\n            gender: '',\n            maritalStatus: '',\n            raceEthnicity: '',\n            addressLine1: '',\n            addressLine2: '',\n            city: '',\n            state: '',\n            zipCode: '',\n            primaryPhone: '',\n            alternatePhone: ''\n        };\n        \n        const pdfBuffer = await PdfService.generateHisPdf(hisData);\n        \n        // Set headers for PDF download\n        reply.header('Content-Type', 'application/pdf');\n        reply.header('Content-Disposition', 'attachment; filename=his-report.pdf');\n        \n        // Send PDF buffer\n        reply.code(200);\n        return pdfBuffer;\n    } catch (error) {\n        logger.error('Error generating PDF:', error)\n        reply.code(500);\n            return { error: 'Error generating PDF', message: error.message };\n    }\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,OAAOE,UAAU,MAAM,8BAA8B;AAErD,SAASC,MAAM,QAAQ,uBAAuB;AAAC;AAAAH,cAAA,GAAAI,CAAA;AAC/C,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,KAAK;EAAA;EAAAP,cAAA,GAAAQ,CAAA;EAAAR,cAAA,GAAAI,CAAA;EACjD,IAAI;IAAA;IAAAJ,cAAA,GAAAI,CAAA;IACAD,MAAM,CAACM,IAAI,CAAC,yBAAyB,CAAC;;IAEtC;IACA,MAAMC,OAAO;IAAA;IAAA,CAAAV,cAAA,GAAAI,CAAA,OAAG;MACZO,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACjDC,WAAW,EAAE,EAAE;MACfC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,EAAE;MAChBC,aAAa,EAAE,EAAE;MACjBC,iBAAiB,EAAE,EAAE;MACrBC,iBAAiB,EAAE,EAAE;MACrBC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,EAAE,EAAE,EAAE;MACNC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE,EAAE;MACfC,MAAM,EAAE,EAAE;MACVC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,EAAE;MAChBC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE;IACpB,CAAC;IAED,MAAMC,SAAS;IAAA;IAAA,CAAArC,cAAA,GAAAI,CAAA,OAAG,MAAMF,UAAU,CAACoC,cAAc,CAAC5B,OAAO,CAAC;;IAE1D;IAAA;IAAAV,cAAA,GAAAI,CAAA;IACAG,KAAK,CAACgC,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC;IAAC;IAAAvC,cAAA,GAAAI,CAAA;IAChDG,KAAK,CAACgC,MAAM,CAAC,qBAAqB,EAAE,qCAAqC,CAAC;;IAE1E;IAAA;IAAAvC,cAAA,GAAAI,CAAA;IACAG,KAAK,CAACiC,IAAI,CAAC,GAAG,CAAC;IAAC;IAAAxC,cAAA,GAAAI,CAAA;IAChB,OAAOiC,SAAS;EACpB,CAAC,CAAC,OAAOI,KAAK,EAAE;IAAA;IAAAzC,cAAA,GAAAI,CAAA;IACZD,MAAM,CAACsC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAAA;IAAAzC,cAAA,GAAAI,CAAA;IAC5CG,KAAK,CAACiC,IAAI,CAAC,GAAG,CAAC;IAAC;IAAAxC,cAAA,GAAAI,CAAA;IACZ,OAAO;MAAEqC,KAAK,EAAE,sBAAsB;MAAEC,OAAO,EAAED,KAAK,CAACC;IAAQ,CAAC;EACxE;AACJ,CAAC","ignoreList":[]}