{"version":3,"names":["cov_23kl56zr4k","actualCoverage","db","audit_logs","eq","and","gte","lte","desc","sql","count","between","axios","logger","phiRedactionService","isCriticalAction","isSecurityAlertAction","getRetentionYears","AuditService","constructor","f","s","externalLoggers","batchQueue","batchSize","parseInt","b","process","env","AUDIT_BATCH_SIZE","batchFlushInterval","AUDIT_BATCH_FLUSH_MS","batchTimer","isProcessingBatch","stats","totalLogs","batchedLogs","immediatelogs","errors","securityAlerts","initializeExternalLoggers","startBatchProcessor","clearInterval","setInterval","flushBatch","info","stopBatchProcessor","SPLUNK_URL","SPLUNK_TOKEN","push","type","url","token","source","SPLUNK_SOURCE","sourcetype","SPLUNK_SOURCETYPE","ELASTICSEARCH_URL","ELASTICSEARCH_INDEX","esConfig","index","username","ELASTICSEARCH_USERNAME","password","ELASTICSEARCH_PASSWORD","apiKey","ELASTICSEARCH_API_KEY","console","log","hasApiKey","hasUsername","AWS_CLOUDWATCH_LOG_GROUP","AWS_REGION","logGroup","region","accessKeyId","AWS_ACCESS_KEY_ID","secretAccessKey","AWS_SECRET_ACCESS_KEY","EXTERNAL_LOG_URL","EXTERNAL_LOG_TOKEN","headers","EXTERNAL_LOG_HEADERS","JSON","parse","sendToExternalLoggers","auditData","promises","map","sendToSplunk","sendToElasticsearch","sendToCloudWatch","sendToHttp","error","message","response","status","data","request","config","method","Object","keys","Promise","allSettled","catch","splunkEvent","time","Math","floor","Date","createdAt","getTime","event","action","table_name","record_id","user_id","ip_address","user_agent","timestamp","post","stringify","Authorization","timeout","esDocument","user_name","user_email","baseUrl","includes","replace","auth","documentId","_id","statusText","requestConfig","hasAuth","logMessage","payload","getAuditLogs","filters","page","limit","offset","conditions","userId","tableName","startDate","endDate","query","select","id","old_value","new_value","updatedAt","from","length","where","paginatedQuery","orderBy","rows","countResult","fn","total","pages","ceil","Error","getUserAuditLogs","getTableAuditLogs","getActionAuditLogs","getAuditLogById","result","createAuditLog","meta","options","immediate","skipExternal","redactedMeta","safeRedact","sanitizedData","metadata","handleSecurityAlert","mustBeImmediate","createImmediateLog","queueForBatch","insert","values","returning","auditLog","externalPayload","err","queuedAt","now","queueSize","itemsToProcess","item","results","i","debug","forEach","retries","warn","resource_type","getStats","getComplianceReport","totalResult","created_at","byAction","groupBy","byResource","byStatus","failedOps","uniqueUsers","period","summary","Number","r","failedOperations","generatedAt","toISOString","getUserActivityReport","resourcesAccessed","ipAddresses","recentActivity","totalActions","uniqueIPs","ip","getResourceAccessHistory","resourceType","resourceId","accessLogs","resource_id","Set","filter","Boolean","totalAccesses","size","accessHistory","getArchivalCandidates","retentionYears","cutoffDate","setFullYear","getFullYear","candidates","eligibleCount"],"sources":["AuditService.js"],"sourcesContent":["import { db } from \"../config/db.drizzle.js\";\nimport { audit_logs } from \"../db/schemas/auditLog.schema.js\";\nimport { eq, and, gte, lte, desc, sql, count, between } from \"drizzle-orm\";\nimport axios from \"axios\";\n\nimport { logger } from '../utils/logger.js';\nimport { phiRedactionService } from './PHIRedactionService.js';\nimport { isCriticalAction, isSecurityAlertAction, getRetentionYears } from '../constants/auditActions.js';\n\n/**\n * HIPAA-Compliant Audit Logging Service\n *\n * Features:\n * - Immutable audit logs (database-enforced)\n * - PHI/PII redaction before logging\n * - Batch processing for high-volume scenarios\n * - External logger integration (Splunk, Elasticsearch, CloudWatch)\n * - 6-year retention compliance\n * - Security alert detection\n */\nclass AuditService {\n  constructor() {\n    this.externalLoggers = [];\n    this.batchQueue = [];\n    this.batchSize = parseInt(process.env.AUDIT_BATCH_SIZE || '50', 10);\n    this.batchFlushInterval = parseInt(process.env.AUDIT_BATCH_FLUSH_MS || '5000', 10);\n    this.batchTimer = null;\n    this.isProcessingBatch = false;\n    this.stats = {\n      totalLogs: 0,\n      batchedLogs: 0,\n      immediatelogs: 0,\n      errors: 0,\n      securityAlerts: 0,\n    };\n    this.initializeExternalLoggers();\n    this.startBatchProcessor();\n  }\n\n  /**\n   * Start the batch processor timer\n   */\n  startBatchProcessor() {\n    if (this.batchTimer) {\n      clearInterval(this.batchTimer);\n    }\n    this.batchTimer = setInterval(() => this.flushBatch(), this.batchFlushInterval);\n    logger.info(`Audit batch processor started (size: ${this.batchSize}, interval: ${this.batchFlushInterval}ms)`);\n  }\n\n  /**\n   * Stop the batch processor\n   */\n  async stopBatchProcessor() {\n    if (this.batchTimer) {\n      clearInterval(this.batchTimer);\n      this.batchTimer = null;\n    }\n    // Flush remaining items\n    await this.flushBatch();\n    logger.info('Audit batch processor stopped');\n  }\n\n  /**\n   * Initialize external log storage systems\n   */\n  initializeExternalLoggers() {\n    logger.info('ðŸ” Initializing external loggers...')\n    \n    // Splunk configuration\n    if (process.env.SPLUNK_URL && process.env.SPLUNK_TOKEN) {\n      this.externalLoggers.push({\n        type: \"splunk\",\n        url: process.env.SPLUNK_URL,\n        token: process.env.SPLUNK_TOKEN,\n        source: process.env.SPLUNK_SOURCE || \"healthcare-api\",\n        sourcetype: process.env.SPLUNK_SOURCETYPE || \"audit\",\n      });\n    }\n\n    // Elasticsearch configuration\n    if (process.env.ELASTICSEARCH_URL && process.env.ELASTICSEARCH_INDEX) {\n      const esConfig = {\n        type: \"elasticsearch\",\n        url: process.env.ELASTICSEARCH_URL,\n        index: process.env.ELASTICSEARCH_INDEX,\n        username: process.env.ELASTICSEARCH_USERNAME,\n        password: process.env.ELASTICSEARCH_PASSWORD,\n        apiKey: process.env.ELASTICSEARCH_API_KEY, // Support for API key authentication\n      };\n      this.externalLoggers.push(esConfig);\n      console.log('âœ… Elasticsearch logger configured:', {\n        url: esConfig.url,\n        index: esConfig.index,\n        hasApiKey: !!esConfig.apiKey,\n        hasUsername: !!esConfig.username\n      });\n    } else {\n      logger.info('âš ï¸ Elasticsearch not configured - missing ELASTICSEARCH_URL or ELASTICSEARCH_INDEX')\n    }\n\n    // AWS CloudWatch configuration\n    if (process.env.AWS_CLOUDWATCH_LOG_GROUP && process.env.AWS_REGION) {\n      this.externalLoggers.push({\n        type: \"cloudwatch\",\n        logGroup: process.env.AWS_CLOUDWATCH_LOG_GROUP,\n        region: process.env.AWS_REGION,\n        accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n        secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,\n      });\n    }\n\n    // Generic HTTP endpoint (for custom log managers)\n    if (process.env.EXTERNAL_LOG_URL) {\n      this.externalLoggers.push({\n        type: \"http\",\n        url: process.env.EXTERNAL_LOG_URL,\n        token: process.env.EXTERNAL_LOG_TOKEN,\n        headers: process.env.EXTERNAL_LOG_HEADERS\n          ? JSON.parse(process.env.EXTERNAL_LOG_HEADERS)\n          : {},\n      });\n    }\n  }\n\n  /**\n   * Send audit log to external systems\n   * @param {Object} auditData - Audit log data\n   */\n  async sendToExternalLoggers(auditData) {\n    const promises = this.externalLoggers.map(async (logger) => {\n      try {\n        switch (logger.type) {\n          case \"splunk\":\n            await this.sendToSplunk(logger, auditData);\n            break;\n          case \"elasticsearch\":\n            await this.sendToElasticsearch(logger, auditData);\n            break;\n          case \"cloudwatch\":\n            await this.sendToCloudWatch(logger, auditData);\n            break;\n          case \"http\":\n            await this.sendToHttp(logger, auditData);\n            break;\n        }\n      } catch (error) {\n        // Don't fail if external logging fails, but log detailed error\n        console.error(\n          `âŒ Failed to send audit log to ${logger.type}:`,\n          error.message\n        );\n        if (error.response) {\n          logger.error('Response status:', error.response.status)\n          logger.error('Response data:', error.response.data)\n        }\n        if (error.request) {\n          logger.error('Request URL:', error.config?.url)\n          console.error('Request config:', {\n            method: error.config?.method,\n            headers: error.config?.headers ? Object.keys(error.config.headers) : 'none'\n          });\n        }\n      }\n    });\n\n    // Execute all external loggers in parallel (don't wait for them)\n    Promise.allSettled(promises).catch(() => {\n      // Silently handle errors - external logging should not break the application\n    });\n  }\n\n  /**\n   * Send audit log to Splunk\n   */\n  async sendToSplunk(logger, auditData) {\n    const splunkEvent = {\n      time: Math.floor(new Date(auditData.createdAt).getTime() / 1000),\n      source: logger.source,\n      sourcetype: logger.sourcetype,\n      event: {\n        type: \"audit\",\n        action: auditData.action,\n        table_name: auditData.table_name,\n        record_id: auditData.record_id,\n        user_id: auditData.user_id,\n        ip_address: auditData.ip_address,\n        user_agent: auditData.user_agent,\n        timestamp: auditData.createdAt,\n        // Note: old_value and new_value are intentionally excluded (no health data)\n      },\n    };\n\n    await axios.post(\n      `${logger.url}/services/collector/event`,\n      JSON.stringify(splunkEvent),\n      {\n        headers: {\n          Authorization: `Splunk ${logger.token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        timeout: 5000,\n      }\n    );\n  }\n\n  /**\n   * Send audit log to Elasticsearch\n   */\n  async sendToElasticsearch(logger, auditData) {\n    const esDocument = {\n      \"@timestamp\": auditData.createdAt,\n      type: \"audit\",\n      action: auditData.action,\n      table_name: auditData.table_name,\n      record_id: auditData.record_id,\n      user_id: auditData.user_id,\n      user_name: auditData.user_name,\n      user_email: auditData.user_email,\n      ip_address: auditData.ip_address,\n      user_agent: auditData.user_agent,\n      // Note: old_value and new_value are intentionally excluded (no health data)\n    };\n\n    // Remove port from URL if present (Elastic Cloud uses different endpoints)\n    let baseUrl = logger.url;\n    if (baseUrl.includes(':9243')) {\n      baseUrl = baseUrl.replace(':9243', '');\n    }\n    \n    const url = `${baseUrl}/${logger.index}/_doc`;\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      timeout: 15000, // Increased timeout to 15 seconds\n    };\n\n    // Use API key if provided (preferred for Elastic Cloud)\n    if (logger.apiKey) {\n      config.headers[\"Authorization\"] = `ApiKey ${logger.apiKey}`;\n    } else if (logger.username && logger.password) {\n      // Fallback to username/password\n      config.auth = {\n        username: logger.username,\n        password: logger.password,\n      };\n    }\n\n    try {\n      const response = await axios.post(url, esDocument, config);\n      console.log('âœ… Audit log sent to Elasticsearch successfully:', {\n        index: logger.index,\n        documentId: response.data?._id,\n        status: response.status\n      });\n      return response;\n    } catch (error) {\n      // Log more details for debugging\n      console.error('âŒ Elasticsearch error details:', {\n        url,\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        message: error.message,\n        data: error.response?.data,\n        requestConfig: {\n          method: 'POST',\n          hasAuth: !!config.headers?.Authorization,\n          timeout: config.timeout\n        }\n      });\n      throw error;\n    }\n  }\n\n  /**\n   * Send audit log to AWS CloudWatch\n   */\n  async sendToCloudWatch(logger, auditData) {\n    // CloudWatch requires AWS SDK - this is a placeholder\n    // In production, you would use @aws-sdk/client-cloudwatch-logs\n    const logMessage = JSON.stringify({\n      type: \"audit\",\n      action: auditData.action,\n      table_name: auditData.table_name,\n      record_id: auditData.record_id,\n      user_id: auditData.user_id,\n      ip_address: auditData.ip_address,\n      user_agent: auditData.user_agent,\n      timestamp: auditData.createdAt,\n    });\n\n    // For now, log to console - in production, implement AWS SDK\n    logger.info(`[CloudWatch] ${logger.logGroup}: ${logMessage}`)\n  }\n\n  /**\n   * Send audit log to generic HTTP endpoint\n   */\n  async sendToHttp(logger, auditData) {\n    const payload = {\n      type: \"audit\",\n      action: auditData.action,\n      table_name: auditData.table_name,\n      record_id: auditData.record_id,\n      user_id: auditData.user_id,\n      ip_address: auditData.ip_address,\n      user_agent: auditData.user_agent,\n      timestamp: auditData.createdAt,\n    };\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      ...logger.headers,\n    };\n\n    if (logger.token) {\n      headers[\"Authorization\"] = `Bearer ${logger.token}`;\n    }\n\n    await axios.post(logger.url, payload, {\n      headers,\n      timeout: 5000,\n    });\n  }\n\n  /**\n   * Get audit logs with optional filters\n   * @param {Object} filters - Filter options\n   * @param {number} page - Page number\n   * @param {number} limit - Number of records per page\n   * @returns {Object} Paginated audit logs\n   */\n  async getAuditLogs(filters = {}, page = 1, limit = 20) {\n    try {\n      const offset = (page - 1) * limit;\n\n      // Build conditions\n      const conditions = [];\n\n      // Apply filters\n      if (filters.userId) {\n        conditions.push(eq(audit_logs.user_id, filters.userId));\n      }\n\n      if (filters.action) {\n        conditions.push(eq(audit_logs.action, filters.action));\n      }\n\n      if (filters.tableName) {\n        conditions.push(eq(audit_logs.table_name, filters.tableName));\n      }\n\n      if (filters.startDate) {\n        conditions.push(gte(audit_logs.createdAt, new Date(filters.startDate)));\n      }\n\n      if (filters.endDate) {\n        conditions.push(lte(audit_logs.createdAt, new Date(filters.endDate)));\n      }\n\n      // Build query\n      let query = db.select({\n        id: audit_logs.id,\n        user_id: audit_logs.user_id,\n        action: audit_logs.action,\n        table_name: audit_logs.table_name,\n        record_id: audit_logs.record_id,\n        old_value: audit_logs.old_value,\n        new_value: audit_logs.new_value,\n        ip_address: audit_logs.ip_address,\n        user_agent: audit_logs.user_agent,\n        createdAt: audit_logs.createdAt,\n        updatedAt: audit_logs.updatedAt\n      }).from(audit_logs);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      // Add ordering and pagination\n      const paginatedQuery = query\n        .orderBy(desc(audit_logs.createdAt))\n        .limit(limit)\n        .offset(offset);\n\n      // Execute query\n      const rows = await paginatedQuery;\n\n      // Get total count\n      const countResult = await db\n        .select({ count: db.fn.count() })\n        .from(audit_logs)\n        .where(and(...conditions));\n      const count = countResult[0].count;\n\n      return {\n        data: rows,\n        total: count,\n        page,\n        pages: Math.ceil(count / limit),\n      };\n    } catch (error) {\n      throw new Error(`Failed to fetch audit logs: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get audit logs for a specific user\n   * @param {number} userId - User ID\n   * @param {number} page - Page number\n   * @param {number} limit - Number of records per page\n   * @returns {Object} Paginated audit logs for user\n   */\n  async getUserAuditLogs(userId, page = 1, limit = 20) {\n    return await this.getAuditLogs({ userId }, page, limit);\n  }\n\n  /**\n   * Get audit logs for a specific table\n   * @param {string} tableName - Table name\n   * @param {number} page - Page number\n   * @param {number} limit - Number of records per page\n   * @returns {Object} Paginated audit logs for table\n   */\n  async getTableAuditLogs(tableName, page = 1, limit = 20) {\n    return await this.getAuditLogs({ tableName }, page, limit);\n  }\n\n  /**\n   * Get audit logs for a specific action\n   * @param {string} action - Action type (CREATE, UPDATE, DELETE, READ)\n   * @param {number} page - Page number\n   * @param {number} limit - Number of records per page\n   * @returns {Object} Paginated audit logs for action\n   */\n  async getActionAuditLogs(action, page = 1, limit = 20) {\n    return await this.getAuditLogs({ action }, page, limit);\n  }\n\n  /**\n   * Get audit log by ID\n   * @param {number} id - Audit log ID\n   * @returns {Object} Audit log record\n   */\n  async getAuditLogById(id) {\n    try {\n      const result = await db\n        .select({\n          id: audit_logs.id,\n          user_id: audit_logs.user_id,\n          action: audit_logs.action,\n          table_name: audit_logs.table_name,\n          record_id: audit_logs.record_id,\n          old_value: audit_logs.old_value,\n          new_value: audit_logs.new_value,\n          ip_address: audit_logs.ip_address,\n          user_agent: audit_logs.user_agent,\n          createdAt: audit_logs.createdAt,\n          updatedAt: audit_logs.updatedAt\n        })\n        .from(audit_logs)\n        .where(eq(audit_logs.id, id))\n        .limit(1);\n      return result[0] || null;\n    } catch (error) {\n      throw new Error(`Failed to fetch audit log: ${error.message}`);\n    }\n  }\n\n  /**\n   * Create a custom audit log entry\n   * Logs to database and external systems (if configured)\n   * Does NOT log actual health data - only metadata\n   *\n   * @param {Object} data - Audit log data (should not contain health data)\n   * @param {Object} meta - Additional metadata for external loggers\n   * @param {Object} options - Options for logging behavior\n   * @returns {Object} Created audit log\n   */\n  async createAuditLog(data, meta = {}, options = {}) {\n    const { immediate = false, skipExternal = false } = options;\n\n    try {\n      // Redact any PHI/PII from metadata\n      const redactedMeta = phiRedactionService.safeRedact(meta);\n\n      // Ensure we never log actual health data\n      const sanitizedData = {\n        ...data,\n        old_value: null, // Never log actual health data\n        new_value: null, // Never log actual health data\n        // Redact metadata field if present\n        metadata: data.metadata ? JSON.stringify(phiRedactionService.safeRedact(\n          typeof data.metadata === 'string' ? JSON.parse(data.metadata) : data.metadata\n        )) : null,\n      };\n\n      // Check for security alerts\n      if (isSecurityAlertAction(data.action)) {\n        this.stats.securityAlerts++;\n        this.handleSecurityAlert(sanitizedData, redactedMeta);\n      }\n\n      // Critical actions must be logged immediately\n      const mustBeImmediate = immediate || isCriticalAction(data.action);\n\n      if (mustBeImmediate) {\n        return await this.createImmediateLog(sanitizedData, redactedMeta, skipExternal);\n      }\n\n      // Queue for batch processing\n      return this.queueForBatch(sanitizedData, redactedMeta, skipExternal);\n    } catch (error) {\n      this.stats.errors++;\n      logger.error('Failed to create audit log:', { error: error.message, action: data.action });\n      throw new Error(`Failed to create audit log: ${error.message}`);\n    }\n  }\n\n  /**\n   * Create audit log immediately (bypass batch queue)\n   */\n  async createImmediateLog(data, meta, skipExternal = false) {\n    this.stats.immediatelogs++;\n    this.stats.totalLogs++;\n\n    const result = await db\n      .insert(audit_logs)\n      .values(data)\n      .returning();\n    const auditLog = result[0];\n\n    if (!skipExternal) {\n      const externalPayload = { ...auditLog, ...meta };\n      this.sendToExternalLoggers(externalPayload).catch((err) => {\n        logger.error(\"External logging error:\", err.message);\n      });\n    }\n\n    return auditLog;\n  }\n\n  /**\n   * Queue audit log for batch processing\n   */\n  queueForBatch(data, meta, skipExternal) {\n    this.batchQueue.push({ data, meta, skipExternal, queuedAt: Date.now() });\n    this.stats.batchedLogs++;\n    this.stats.totalLogs++;\n\n    // Flush if batch size reached\n    if (this.batchQueue.length >= this.batchSize) {\n      this.flushBatch().catch(err => {\n        logger.error('Batch flush error:', err.message);\n      });\n    }\n\n    // Return a pending result\n    return { id: null, status: 'queued', queueSize: this.batchQueue.length };\n  }\n\n  /**\n   * Flush the batch queue to database\n   */\n  async flushBatch() {\n    if (this.isProcessingBatch || this.batchQueue.length === 0) {\n      return;\n    }\n\n    this.isProcessingBatch = true;\n    const itemsToProcess = [...this.batchQueue];\n    this.batchQueue = [];\n\n    try {\n      // Batch insert\n      const values = itemsToProcess.map(item => item.data);\n      const results = await db\n        .insert(audit_logs)\n        .values(values)\n        .returning();\n\n      // Send to external loggers (async)\n      for (let i = 0; i < results.length; i++) {\n        if (!itemsToProcess[i].skipExternal) {\n          const externalPayload = { ...results[i], ...itemsToProcess[i].meta };\n          this.sendToExternalLoggers(externalPayload).catch(() => {});\n        }\n      }\n\n      logger.debug(`Flushed ${results.length} audit logs`);\n    } catch (error) {\n      // On error, try to re-queue items\n      logger.error('Batch flush failed:', error.message);\n      this.stats.errors += itemsToProcess.length;\n      // Re-queue failed items (with retry limit)\n      itemsToProcess.forEach(item => {\n        if (!item.retries || item.retries < 3) {\n          item.retries = (item.retries || 0) + 1;\n          this.batchQueue.push(item);\n        }\n      });\n    } finally {\n      this.isProcessingBatch = false;\n    }\n  }\n\n  /**\n   * Handle security alert actions\n   */\n  handleSecurityAlert(data, meta) {\n    logger.warn('SECURITY ALERT detected in audit log', {\n      action: data.action,\n      user_id: data.user_id,\n      ip_address: data.ip_address,\n      resource_type: data.resource_type,\n    });\n\n    // Could trigger additional alerting here (email, Slack, PagerDuty, etc.)\n  }\n\n  /**\n   * Get audit statistics\n   */\n  getStats() {\n    return {\n      ...this.stats,\n      queueSize: this.batchQueue.length,\n      externalLoggers: this.externalLoggers.length,\n    };\n  }\n\n  /**\n   * Get compliance report for a date range\n   * @param {Date} startDate - Start of date range\n   * @param {Date} endDate - End of date range\n   * @returns {Object} Compliance report\n   */\n  async getComplianceReport(startDate, endDate) {\n    try {\n      // Total logs in period\n      const totalResult = await db\n        .select({ count: count() })\n        .from(audit_logs)\n        .where(between(audit_logs.created_at, startDate, endDate));\n\n      // Logs by action\n      const byAction = await db\n        .select({\n          action: audit_logs.action,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(between(audit_logs.created_at, startDate, endDate))\n        .groupBy(audit_logs.action)\n        .orderBy(desc(count()));\n\n      // Logs by resource type\n      const byResource = await db\n        .select({\n          resource_type: audit_logs.resource_type,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(between(audit_logs.created_at, startDate, endDate))\n        .groupBy(audit_logs.resource_type)\n        .orderBy(desc(count()));\n\n      // Logs by status\n      const byStatus = await db\n        .select({\n          status: audit_logs.status,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(between(audit_logs.created_at, startDate, endDate))\n        .groupBy(audit_logs.status);\n\n      // Failed operations\n      const failedOps = await db\n        .select({\n          action: audit_logs.action,\n          user_id: audit_logs.user_id,\n          created_at: audit_logs.created_at,\n          ip_address: audit_logs.ip_address,\n        })\n        .from(audit_logs)\n        .where(and(\n          between(audit_logs.created_at, startDate, endDate),\n          eq(audit_logs.status, 'failure')\n        ))\n        .limit(100);\n\n      // Unique users\n      const uniqueUsers = await db\n        .select({ count: sql`COUNT(DISTINCT ${audit_logs.user_id})` })\n        .from(audit_logs)\n        .where(between(audit_logs.created_at, startDate, endDate));\n\n      return {\n        period: { startDate, endDate },\n        summary: {\n          totalLogs: Number(totalResult[0]?.count || 0),\n          uniqueUsers: Number(uniqueUsers[0]?.count || 0),\n        },\n        byAction: byAction.map(r => ({ action: r.action, count: Number(r.count) })),\n        byResource: byResource.map(r => ({ resource_type: r.resource_type, count: Number(r.count) })),\n        byStatus: byStatus.map(r => ({ status: r.status, count: Number(r.count) })),\n        failedOperations: failedOps,\n        generatedAt: new Date().toISOString(),\n      };\n    } catch (error) {\n      throw new Error(`Failed to generate compliance report: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get user activity report\n   * @param {string} userId - User ID\n   * @param {Date} startDate - Start of date range\n   * @param {Date} endDate - End of date range\n   * @returns {Object} User activity report\n   */\n  async getUserActivityReport(userId, startDate, endDate) {\n    try {\n      const conditions = [eq(audit_logs.user_id, userId)];\n      if (startDate && endDate) {\n        conditions.push(between(audit_logs.created_at, startDate, endDate));\n      }\n\n      // Total actions\n      const totalResult = await db\n        .select({ count: count() })\n        .from(audit_logs)\n        .where(and(...conditions));\n\n      // Actions by type\n      const byAction = await db\n        .select({\n          action: audit_logs.action,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(and(...conditions))\n        .groupBy(audit_logs.action)\n        .orderBy(desc(count()));\n\n      // Resources accessed\n      const resourcesAccessed = await db\n        .select({\n          resource_type: audit_logs.resource_type,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(and(...conditions))\n        .groupBy(audit_logs.resource_type)\n        .orderBy(desc(count()));\n\n      // IP addresses used\n      const ipAddresses = await db\n        .select({\n          ip_address: audit_logs.ip_address,\n          count: count(),\n        })\n        .from(audit_logs)\n        .where(and(...conditions))\n        .groupBy(audit_logs.ip_address);\n\n      // Recent activity\n      const recentActivity = await db\n        .select()\n        .from(audit_logs)\n        .where(and(...conditions))\n        .orderBy(desc(audit_logs.created_at))\n        .limit(50);\n\n      return {\n        userId,\n        period: { startDate, endDate },\n        summary: {\n          totalActions: Number(totalResult[0]?.count || 0),\n          uniqueIPs: ipAddresses.length,\n        },\n        byAction: byAction.map(r => ({ action: r.action, count: Number(r.count) })),\n        resourcesAccessed: resourcesAccessed.map(r => ({ resource_type: r.resource_type, count: Number(r.count) })),\n        ipAddresses: ipAddresses.map(r => ({ ip: r.ip_address, count: Number(r.count) })),\n        recentActivity,\n        generatedAt: new Date().toISOString(),\n      };\n    } catch (error) {\n      throw new Error(`Failed to generate user activity report: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get resource access history\n   * @param {string} resourceType - Resource type (e.g., 'patients')\n   * @param {string} resourceId - Resource ID\n   * @returns {Object} Resource access history\n   */\n  async getResourceAccessHistory(resourceType, resourceId) {\n    try {\n      const accessLogs = await db\n        .select()\n        .from(audit_logs)\n        .where(and(\n          eq(audit_logs.resource_type, resourceType),\n          eq(audit_logs.resource_id, resourceId)\n        ))\n        .orderBy(desc(audit_logs.created_at))\n        .limit(500);\n\n      // Unique accessors\n      const uniqueUsers = new Set(accessLogs.map(log => log.user_id).filter(Boolean));\n\n      // Access by action type\n      const byAction = {};\n      accessLogs.forEach(log => {\n        byAction[log.action] = (byAction[log.action] || 0) + 1;\n      });\n\n      return {\n        resourceType,\n        resourceId,\n        totalAccesses: accessLogs.length,\n        uniqueUsers: uniqueUsers.size,\n        byAction,\n        accessHistory: accessLogs,\n        generatedAt: new Date().toISOString(),\n      };\n    } catch (error) {\n      throw new Error(`Failed to get resource access history: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get logs eligible for archival based on retention policy\n   * @param {number} retentionYears - Retention period in years (default: 6 for HIPAA)\n   * @returns {Object} Archival candidates\n   */\n  async getArchivalCandidates(retentionYears = 6) {\n    const cutoffDate = new Date();\n    cutoffDate.setFullYear(cutoffDate.getFullYear() - retentionYears);\n\n    try {\n      const candidates = await db\n        .select({ count: count() })\n        .from(audit_logs)\n        .where(lte(audit_logs.created_at, cutoffDate));\n\n      return {\n        cutoffDate,\n        retentionYears,\n        eligibleCount: Number(candidates[0]?.count || 0),\n      };\n    } catch (error) {\n      throw new Error(`Failed to get archival candidates: ${error.message}`);\n    }\n  }\n}\n\nexport default new AuditService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}