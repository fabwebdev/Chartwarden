{"version":3,"names":["cov_133u0vha02","actualCoverage","pgTable","uuid","varchar","text","boolean","timestamp","integer","index","relations","icd10_codes","s","id","defaultRandom","primaryKey","code","length","notNull","unique","shortDescription","longDescription","categoryCode","categoryDescription","chapter","chapterDescription","blockCode","blockDescription","codeLength","default","isBillable","isActive","isCommon","isHospiceRelevant","usageCount","version","effectiveDate","expirationDate","createdAt","defaultNow","updatedAt","table","f","codeIdx","on","categoryIdx","chapterIdx","activeBillableIdx","hospiceRelevantIdx","commonIdx","usageIdx"],"sources":["icd10Codes.schema.js"],"sourcesContent":["import { pgTable, uuid, varchar, text, boolean, timestamp, integer, index } from 'drizzle-orm/pg-core';\nimport { relations } from 'drizzle-orm';\n\n/**\n * ICD-10 Diagnosis Codes Schema\n *\n * Stores the complete ICD-10-CM diagnosis code library for:\n * - Fast autocomplete lookups by code or description\n * - Exact code validation\n * - Category and chapter browsing\n * - Medical necessity documentation\n *\n * ICD-10-CM codes follow the pattern: Letter + 2 digits + optional decimal + 1-4 characters\n * Examples: A00, A00.0, A00.01, E11.9, Z99.89\n */\nexport const icd10_codes = pgTable('icd10_codes', {\n  id: uuid('id').defaultRandom().primaryKey(),\n\n  // Code identifier (e.g., \"E11.9\")\n  code: varchar('code', { length: 10 }).notNull().unique(),\n\n  // Short description for autocomplete display (e.g., \"Type 2 diabetes mellitus without complications\")\n  shortDescription: varchar('short_description', { length: 255 }).notNull(),\n\n  // Full/long description for detailed views\n  longDescription: text('long_description'),\n\n  // Category code (first 3 characters, e.g., \"E11\")\n  categoryCode: varchar('category_code', { length: 7 }).notNull(),\n\n  // Category description (e.g., \"Type 2 diabetes mellitus\")\n  categoryDescription: varchar('category_description', { length: 255 }),\n\n  // Chapter information (e.g., \"Chapter 4: Endocrine, nutritional and metabolic diseases\")\n  chapter: varchar('chapter', { length: 10 }),\n  chapterDescription: varchar('chapter_description', { length: 255 }),\n\n  // Block/Range (e.g., \"E08-E13\" for Diabetes mellitus)\n  blockCode: varchar('block_code', { length: 15 }),\n  blockDescription: varchar('block_description', { length: 255 }),\n\n  // Code specificity (3-7 characters indicating specificity level)\n  codeLength: integer('code_length').notNull().default(3),\n\n  // Is this a billable/valid code or a category header?\n  isBillable: boolean('is_billable').notNull().default(false),\n\n  // Is this code currently active/valid?\n  isActive: boolean('is_active').notNull().default(true),\n\n  // Common/frequently used flag for prioritization\n  isCommon: boolean('is_common').notNull().default(false),\n\n  // Hospice-relevant flag for prioritization in hospice EHR\n  isHospiceRelevant: boolean('is_hospice_relevant').notNull().default(false),\n\n  // Usage count for popularity-based sorting\n  usageCount: integer('usage_count').notNull().default(0),\n\n  // ICD-10 version/year (e.g., \"2024\")\n  version: varchar('version', { length: 10 }),\n\n  // Effective dates for the code\n  effectiveDate: timestamp('effective_date'),\n  expirationDate: timestamp('expiration_date'),\n\n  // Audit timestamps\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull()\n}, (table) => ({\n  // Index for autocomplete searches by code\n  codeIdx: index('icd10_code_idx').on(table.code),\n\n  // Index for category lookups\n  categoryIdx: index('icd10_category_idx').on(table.categoryCode),\n\n  // Index for chapter browsing\n  chapterIdx: index('icd10_chapter_idx').on(table.chapter),\n\n  // Index for filtering active billable codes (most common query)\n  activeBillableIdx: index('icd10_active_billable_idx').on(table.isActive, table.isBillable),\n\n  // Index for hospice-relevant codes\n  hospiceRelevantIdx: index('icd10_hospice_relevant_idx').on(table.isHospiceRelevant),\n\n  // Index for common codes\n  commonIdx: index('icd10_common_idx').on(table.isCommon),\n\n  // Composite index for popularity-based sorting\n  usageIdx: index('icd10_usage_idx').on(table.usageCount)\n}));\n\n// Export for schema references\nexport default icd10_codes;\n"],"mappings":"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","ignoreList":[]}