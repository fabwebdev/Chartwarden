817d3865bfeeb50ce79373d33c33efe1
/* istanbul ignore next */
function cov_zf5c5yrh8() {
  var path = "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/db/schemas/session.schema.js";
  var hash = "df2443585116daab7afd3ac018a3294ada04f718";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/db/schemas/session.schema.js",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 24
        },
        end: {
          line: 13,
          column: 2
        }
      },
      "1": {
        start: {
          line: 6,
          column: 53
        },
        end: {
          line: 6,
          column: 61
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 47
          },
          end: {
            line: 6,
            column: 48
          }
        },
        loc: {
          start: {
            line: 6,
            column: 53
          },
          end: {
            line: 6,
            column: 61
          }
        },
        line: 6
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0
    },
    f: {
      "0": 0
    },
    b: {},
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "df2443585116daab7afd3ac018a3294ada04f718"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_zf5c5yrh8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_zf5c5yrh8();
import { pgTable, text, timestamp } from 'drizzle-orm/pg-core';
import { users } from './user.schema.js';
export const sessions =
/* istanbul ignore next */
(cov_zf5c5yrh8().s[0]++, pgTable('sessions', {
  id: text('id').primaryKey(),
  userId: text('user_id').notNull().references(() => {
    /* istanbul ignore next */
    cov_zf5c5yrh8().f[0]++;
    cov_zf5c5yrh8().s[1]++;
    return users.id;
  }, {
    onDelete: 'cascade'
  }),
  expiresAt: timestamp('expires_at').notNull(),
  token: text('token').notNull().unique(),
  ipAddress: text('ip_address'),
  userAgent: text('user_agent'),
  createdAt: timestamp('created_at').defaultNow().notNull(),
  updatedAt: timestamp('updated_at').defaultNow().notNull()
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfemY1YzV5cmg4IiwiYWN0dWFsQ292ZXJhZ2UiLCJwZ1RhYmxlIiwidGV4dCIsInRpbWVzdGFtcCIsInVzZXJzIiwic2Vzc2lvbnMiLCJzIiwiaWQiLCJwcmltYXJ5S2V5IiwidXNlcklkIiwibm90TnVsbCIsInJlZmVyZW5jZXMiLCJmIiwib25EZWxldGUiLCJleHBpcmVzQXQiLCJ0b2tlbiIsInVuaXF1ZSIsImlwQWRkcmVzcyIsInVzZXJBZ2VudCIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiXSwic291cmNlcyI6WyJzZXNzaW9uLnNjaGVtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCB0ZXh0LCB0aW1lc3RhbXAgfSBmcm9tICdkcml6emxlLW9ybS9wZy1jb3JlJztcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi91c2VyLnNjaGVtYS5qcyc7XG5cbmV4cG9ydCBjb25zdCBzZXNzaW9ucyA9IHBnVGFibGUoJ3Nlc3Npb25zJywge1xuICBpZDogdGV4dCgnaWQnKS5wcmltYXJ5S2V5KCksXG4gIHVzZXJJZDogdGV4dCgndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXG4gIGV4cGlyZXNBdDogdGltZXN0YW1wKCdleHBpcmVzX2F0Jykubm90TnVsbCgpLFxuICB0b2tlbjogdGV4dCgndG9rZW4nKS5ub3ROdWxsKCkudW5pcXVlKCksXG4gIGlwQWRkcmVzczogdGV4dCgnaXBfYWRkcmVzcycpLFxuICB1c2VyQWdlbnQ6IHRleHQoJ3VzZXJfYWdlbnQnKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5kZWZhdWx0Tm93KCkubm90TnVsbCgpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLmRlZmF1bHROb3coKS5ub3ROdWxsKCksXG59KTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWVZO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFmWixTQUFTRSxPQUFPLEVBQUVDLElBQUksRUFBRUMsU0FBUyxRQUFRLHFCQUFxQjtBQUM5RCxTQUFTQyxLQUFLLFFBQVEsa0JBQWtCO0FBRXhDLE9BQU8sTUFBTUMsUUFBUTtBQUFBO0FBQUEsQ0FBQU4sYUFBQSxHQUFBTyxDQUFBLE9BQUdMLE9BQU8sQ0FBQyxVQUFVLEVBQUU7RUFDMUNNLEVBQUUsRUFBRUwsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDTSxVQUFVLENBQUMsQ0FBQztFQUMzQkMsTUFBTSxFQUFFUCxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUNRLE9BQU8sQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxNQUFNO0lBQUE7SUFBQVosYUFBQSxHQUFBYSxDQUFBO0lBQUFiLGFBQUEsR0FBQU8sQ0FBQTtJQUFBLE9BQUFGLEtBQUssQ0FBQ0csRUFBRTtFQUFELENBQUMsRUFBRTtJQUFFTSxRQUFRLEVBQUU7RUFBVSxDQUFDLENBQUM7RUFDckZDLFNBQVMsRUFBRVgsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDTyxPQUFPLENBQUMsQ0FBQztFQUM1Q0ssS0FBSyxFQUFFYixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUNRLE9BQU8sQ0FBQyxDQUFDLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0VBQ3ZDQyxTQUFTLEVBQUVmLElBQUksQ0FBQyxZQUFZLENBQUM7RUFDN0JnQixTQUFTLEVBQUVoQixJQUFJLENBQUMsWUFBWSxDQUFDO0VBQzdCaUIsU0FBUyxFQUFFaEIsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDaUIsVUFBVSxDQUFDLENBQUMsQ0FBQ1YsT0FBTyxDQUFDLENBQUM7RUFDekRXLFNBQVMsRUFBRWxCLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQ2lCLFVBQVUsQ0FBQyxDQUFDLENBQUNWLE9BQU8sQ0FBQztBQUMxRCxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=