{"version":3,"names":["cov_55dzerrim","actualCoverage","db","certifications","face_to_face_encounters","orders","verbal_orders_tracking","recertification_schedule","patients","certification_alerts","users","eq","and","gte","lte","desc","sql","or","isNull","ne","crypto","logAudit","logger","CertificationController","validateF2FDateRange","encounterDate","startOfCareDate","f","errors","s","encounter","Date","startOfCare","windowStart","setDate","getDate","windowEnd","b","daysBefore","Math","ceil","push","daysAfter","valid","length","toISOString","split","validatePhysicianCredentials","performedByType","validTypes","includes","checkDuplicateCertification","patientId","startDate","endDate","excludeId","conditions","patient_id","deleted_at","start_date","end_date","id","existing","select","from","where","limit","isDuplicate","existingCertification","checkCertificationExpiration","daysThreshold","today","thresholdDate","results","certification_status","orderBy","expired","expiringSoon","cert","validateCertificationDates","certificationPeriod","start","end","setHours","isNaN","getTime","daysDiff","expectedDays","abs","thirtyDaysAgo","filter","e","startsWith","warnings","listCertifications","request","reply","status","period","start_date_from","start_date_to","offset","sort_by","sort_order","query","validStatuses","code","message","join","parseInt","validPeriods","certification_period","parsedLimit","min","max","parsedOffset","sortColumn","certification_due_date","countResult","count","totalCount","certification","patient","first_name","last_name","medical_record_number","leftJoin","data","map","r","pagination","total","hasMore","error","process","env","NODE_ENV","undefined","getPatientCertifications","params","expirationStatus","hasExpired","hasExpiringSoon","expiredCount","expiringSoonCount","createCertification","body","terminal_illness_narrative","dateValidation","duplicateCheck","dueDate","result","insert","values","clinical_progression","decline_indicators","noe_id","created_by_id","user","updated_by_id","returning","alertDate","certification_id","alert_type","alert_priority","scheduled_for","subject","recipients","alert_recipients","f2fRequired","previousCerts","periodCount","f2fDueDate","f2fAlertDate","nextRecertDate","next_recertification_date","certification_period_type","f2f_required","f2f_due_date","completeCertification","certId","physician_signature","completedDate","daysLate","floor","timeliness","update","set","certification_completed_date","certification_timeliness","days_late","updatedAt","warning","getPendingCertifications","signCertification","dataToSign","JSON","stringify","timestamp","signatureHash","createHash","digest","signature","signedBy","signedByName","firstName","lastName","trim","signedAt","signatureType","ipAddress","ip","userAgent","headers","meaning","credentials","role","version","hash","substring","getCertificationsDue","thirtyDaysFromNow","getCertificationsOverdue","getPatientF2F","encounter_date","createF2F","findings","credentialsValidation","performed_by_type","performed_by_name","validWindow","performed_by_id","visit_type","terminal_prognosis_confirmed","f2f_completed","alert_status","sent_at","attestF2F","f2fId","attestation","dataToAttest","attestationHash","attestation_date","attestedAt","attestedBy","getPatientOrders","type","order_status","order_type","createOrder","order_description","validOrderTypes","order_priority","ordered_by_id","is_verbal_order","order_id","received_by_id","received_date","physician_name","read_back_verified","isVerbalOrder","signOrder","orderId","verbalTracking","written_signature_obtained","signature_obtained_date","getCertificationById","f2fEncounters","faceToFaceEncounters","updateCertification","updateData","allowedFields","field","Object","keys","revokeCertification","revocation_reason","revocationInfo","revokedAt","revokedBy","reason","validateF2FForCertification","periodNumber","validF2F","isValid","some","f2f","encounters","attestedCount","deleteCertification","deletedAt","deletedBy"],"sources":["Certification.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  certifications,\n  face_to_face_encounters,\n  orders,\n  verbal_orders_tracking,\n  recertification_schedule,\n  patients,\n  certification_alerts,\n  users\n} from '../db/schemas/index.js';\nimport { eq, and, gte, lte, desc, sql, or, isNull, ne } from 'drizzle-orm';\nimport crypto from 'crypto';\nimport { logAudit } from '../middleware/audit.middleware.js';\nimport { logger } from '../utils/logger.js';\n\n/**\n * Certification Controller\n * Manages Medicare certification periods, Face-to-Face encounters, and physician orders\n * CRITICAL: Required for Medicare reimbursement\n *\n * CMS Requirements:\n * - Initial certification (first 90 days) requires physician attestation within 2 days\n * - Subsequent periods: 2x 90 days, then 60-day periods indefinitely\n * - Face-to-Face encounters required for 3rd benefit period and beyond\n * - F2F must occur within 90 days before or 30 days after start of care\n * - Physician must have valid credentials (PHYSICIAN, NP, or PA)\n */\nclass CertificationController {\n  // ============================================================================\n  // VALIDATION HELPERS\n  // ============================================================================\n\n  /**\n   * Validate Face-to-Face encounter date falls within CMS-required window\n   * CMS Requirement: F2F must occur within 90 days before or 30 days after start of care\n   * @param {Date} encounterDate - Date of the F2F encounter\n   * @param {Date} startOfCareDate - Start of care date (certification start date)\n   * @returns {Object} { valid: boolean, errors: string[] }\n   */\n  validateF2FDateRange(encounterDate, startOfCareDate) {\n    const errors = [];\n    const encounter = new Date(encounterDate);\n    const startOfCare = new Date(startOfCareDate);\n\n    // Calculate the valid window: 90 days before to 30 days after\n    const windowStart = new Date(startOfCare);\n    windowStart.setDate(windowStart.getDate() - 90);\n\n    const windowEnd = new Date(startOfCare);\n    windowEnd.setDate(windowEnd.getDate() + 30);\n\n    if (encounter < windowStart) {\n      const daysBefore = Math.ceil((startOfCare - encounter) / (1000 * 60 * 60 * 24));\n      errors.push(`Face-to-Face encounter occurred ${daysBefore} days before start of care. CMS requires F2F within 90 days before or 30 days after start of care.`);\n    }\n\n    if (encounter > windowEnd) {\n      const daysAfter = Math.ceil((encounter - startOfCare) / (1000 * 60 * 60 * 24));\n      errors.push(`Face-to-Face encounter occurred ${daysAfter} days after start of care. CMS requires F2F within 90 days before or 30 days after start of care.`);\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors,\n      windowStart: windowStart.toISOString().split('T')[0],\n      windowEnd: windowEnd.toISOString().split('T')[0]\n    };\n  }\n\n  /**\n   * Validate physician credentials for F2F encounters\n   * CMS requires F2F to be performed by PHYSICIAN, NP, or PA\n   * @param {string} performedByType - Type of provider (PHYSICIAN, NP, PA)\n   * @returns {Object} { valid: boolean, errors: string[] }\n   */\n  validatePhysicianCredentials(performedByType) {\n    const errors = [];\n    const validTypes = ['PHYSICIAN', 'NP', 'PA'];\n\n    if (!performedByType) {\n      errors.push('Provider type is required for Face-to-Face encounters');\n    } else if (!validTypes.includes(performedByType)) {\n      errors.push(`Invalid provider type \"${performedByType}\". CMS requires F2F encounters to be performed by PHYSICIAN, NP, or PA`);\n    }\n\n    return {\n      valid: errors.length === 0,\n      errors\n    };\n  }\n\n  /**\n   * Check for duplicate certifications\n   * @param {number} patientId - Patient ID\n   * @param {string} startDate - Start date\n   * @param {string} endDate - End date\n   * @param {number|null} excludeId - ID to exclude (for updates)\n   * @returns {Promise<Object>} { isDuplicate: boolean, existingCertification: Object|null }\n   */\n  async checkDuplicateCertification(patientId, startDate, endDate, excludeId = null) {\n    const conditions = [\n      eq(certifications.patient_id, patientId),\n      isNull(certifications.deleted_at),\n      // Check for overlapping date ranges\n      or(\n        and(\n          lte(certifications.start_date, startDate),\n          gte(certifications.end_date, startDate)\n        ),\n        and(\n          lte(certifications.start_date, endDate),\n          gte(certifications.end_date, endDate)\n        ),\n        and(\n          gte(certifications.start_date, startDate),\n          lte(certifications.end_date, endDate)\n        )\n      )\n    ];\n\n    if (excludeId) {\n      conditions.push(ne(certifications.id, excludeId));\n    }\n\n    const existing = await db\n      .select()\n      .from(certifications)\n      .where(and(...conditions))\n      .limit(1);\n\n    return {\n      isDuplicate: existing.length > 0,\n      existingCertification: existing[0] || null\n    };\n  }\n\n  /**\n   * Check for expired or soon-to-expire certifications\n   * @param {number} patientId - Patient ID\n   * @param {number} daysThreshold - Days before expiration to consider \"soon\"\n   * @returns {Promise<Object>} { expired: Array, expiringSoon: Array }\n   */\n  async checkCertificationExpiration(patientId, daysThreshold = 14) {\n    const today = new Date();\n    const thresholdDate = new Date();\n    thresholdDate.setDate(today.getDate() + daysThreshold);\n\n    const results = await db\n      .select()\n      .from(certifications)\n      .where(and(\n        eq(certifications.patient_id, patientId),\n        isNull(certifications.deleted_at),\n        or(\n          eq(certifications.certification_status, 'ACTIVE'),\n          eq(certifications.certification_status, 'PENDING')\n        )\n      ))\n      .orderBy(desc(certifications.end_date));\n\n    const expired = [];\n    const expiringSoon = [];\n\n    for (const cert of results) {\n      const endDate = new Date(cert.end_date);\n      if (endDate < today) {\n        expired.push(cert);\n      } else if (endDate <= thresholdDate) {\n        expiringSoon.push(cert);\n      }\n    }\n\n    return { expired, expiringSoon };\n  }\n\n  /**\n   * Validate certification dates\n   * @param {string} startDate - Start date\n   * @param {string} endDate - End date\n   * @param {string} certificationPeriod - Period type\n   * @returns {Object} { valid: boolean, errors: string[] }\n   */\n  validateCertificationDates(startDate, endDate, certificationPeriod) {\n    const errors = [];\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    if (isNaN(start.getTime())) {\n      errors.push('Invalid start date');\n    }\n    if (isNaN(end.getTime())) {\n      errors.push('Invalid end date');\n    }\n\n    if (start >= end) {\n      errors.push('Start date must be before end date');\n    }\n\n    // Calculate expected duration based on period type\n    const daysDiff = Math.ceil((end - start) / (1000 * 60 * 60 * 24));\n    const expectedDays = certificationPeriod === 'SUBSEQUENT_60' ? 60 : 90;\n\n    // Allow some flexibility (Â±5 days) for date range validation\n    if (Math.abs(daysDiff - expectedDays) > 5) {\n      errors.push(`${certificationPeriod} should be approximately ${expectedDays} days, but provided range is ${daysDiff} days`);\n    }\n\n    // Check for retroactive certifications (more than 30 days in the past)\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    if (start < thirtyDaysAgo) {\n      errors.push('Warning: Retroactive certification more than 30 days in the past. Additional documentation may be required.');\n    }\n\n    return {\n      valid: errors.filter(e => !e.startsWith('Warning:')).length === 0,\n      errors,\n      warnings: errors.filter(e => e.startsWith('Warning:'))\n    };\n  }\n  // ============================================================================\n  // CERTIFICATION CRUD OPERATIONS\n  // ============================================================================\n\n  /**\n   * List all certifications with filtering and pagination\n   * GET /certifications?status=PENDING&patient_id=123&period=INITIAL_90&limit=20&offset=0\n   *\n   * Query Parameters:\n   * - status: Filter by certification status (PENDING, ACTIVE, COMPLETED, EXPIRED, REVOKED)\n   * - patient_id: Filter by patient ID\n   * - period: Filter by certification period (INITIAL_90, SUBSEQUENT_90, SUBSEQUENT_60)\n   * - start_date_from: Filter certifications starting on or after this date\n   * - start_date_to: Filter certifications starting on or before this date\n   * - limit: Number of results to return (default: 50, max: 100)\n   * - offset: Number of results to skip (default: 0)\n   * - sort_by: Field to sort by (start_date, end_date, certification_due_date)\n   * - sort_order: Sort order (asc, desc - default: desc)\n   */\n  async listCertifications(request, reply) {\n    try {\n      const {\n        status,\n        patient_id,\n        period,\n        start_date_from,\n        start_date_to,\n        limit = 50,\n        offset = 0,\n        sort_by = 'start_date',\n        sort_order = 'desc'\n      } = request.query;\n\n      // Build filter conditions\n      const conditions = [isNull(certifications.deleted_at)];\n\n      if (status) {\n        // Validate status\n        const validStatuses = ['PENDING', 'ACTIVE', 'COMPLETED', 'EXPIRED', 'REVOKED'];\n        if (!validStatuses.includes(status)) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: `Invalid status. Must be one of: ${validStatuses.join(', ')}`\n          };\n        }\n        conditions.push(eq(certifications.certification_status, status));\n      }\n\n      if (patient_id) {\n        conditions.push(eq(certifications.patient_id, parseInt(patient_id)));\n      }\n\n      if (period) {\n        // Validate period\n        const validPeriods = ['INITIAL_90', 'SUBSEQUENT_90', 'SUBSEQUENT_60'];\n        if (!validPeriods.includes(period)) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: `Invalid period. Must be one of: ${validPeriods.join(', ')}`\n          };\n        }\n        conditions.push(eq(certifications.certification_period, period));\n      }\n\n      if (start_date_from) {\n        conditions.push(gte(certifications.start_date, start_date_from));\n      }\n\n      if (start_date_to) {\n        conditions.push(lte(certifications.start_date, start_date_to));\n      }\n\n      // Validate and apply pagination limits\n      const parsedLimit = Math.min(Math.max(1, parseInt(limit) || 50), 100);\n      const parsedOffset = Math.max(0, parseInt(offset) || 0);\n\n      // Determine sort column\n      let sortColumn = certifications.start_date;\n      if (sort_by === 'end_date') {\n        sortColumn = certifications.end_date;\n      } else if (sort_by === 'certification_due_date') {\n        sortColumn = certifications.certification_due_date;\n      }\n\n      // Get total count for pagination\n      const countResult = await db\n        .select({ count: sql`count(*)` })\n        .from(certifications)\n        .where(and(...conditions));\n\n      const totalCount = parseInt(countResult[0]?.count || 0);\n\n      // Fetch certifications with patient info\n      const results = await db\n        .select({\n          certification: certifications,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(certifications)\n        .leftJoin(patients, eq(certifications.patient_id, patients.id))\n        .where(and(...conditions))\n        .orderBy(sort_order === 'asc' ? sortColumn : desc(sortColumn))\n        .limit(parsedLimit)\n        .offset(parsedOffset);\n\n      await logAudit(request, 'READ', 'certifications', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results.map(r => ({\n          ...r.certification,\n          patient: r.patient\n        })),\n        pagination: {\n          total: totalCount,\n          limit: parsedLimit,\n          offset: parsedOffset,\n          hasMore: parsedOffset + parsedLimit < totalCount\n        }\n      };\n    } catch (error) {\n      logger.error('Error listing certifications:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error listing certifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get all certifications for a patient\n   * GET /patients/:id/certifications\n   */\n  async getPatientCertifications(request, reply) {\n    try {\n      const { id } = request.params;\n      const patientId = parseInt(id);\n\n      const results = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.patient_id, patientId),\n          isNull(certifications.deleted_at)\n        ))\n        .orderBy(desc(certifications.start_date));\n\n      // Check for expiration status\n      const expirationStatus = await this.checkCertificationExpiration(patientId);\n\n      await logAudit(request, 'READ', 'certifications', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        expirationStatus: {\n          hasExpired: expirationStatus.expired.length > 0,\n          hasExpiringSoon: expirationStatus.expiringSoon.length > 0,\n          expiredCount: expirationStatus.expired.length,\n          expiringSoonCount: expirationStatus.expiringSoon.length\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching patient certifications:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching certifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create new certification period\n   * POST /patients/:id/certifications\n   * Enhanced with compliance tracking, validation, and audit logging\n   */\n  async createCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const patientId = parseInt(id);\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.terminal_illness_narrative) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Terminal illness narrative is required for certification'\n        };\n      }\n\n      if (!data.start_date || !data.end_date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Start date and end date are required'\n        };\n      }\n\n      // Validate certification period\n      const validPeriods = ['INITIAL_90', 'SUBSEQUENT_90', 'SUBSEQUENT_60'];\n      if (!validPeriods.includes(data.certification_period)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid certification period. Must be INITIAL_90, SUBSEQUENT_90, or SUBSEQUENT_60'\n        };\n      }\n\n      // Validate certification dates\n      const dateValidation = this.validateCertificationDates(data.start_date, data.end_date, data.certification_period);\n      if (!dateValidation.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid certification dates',\n          errors: dateValidation.errors\n        };\n      }\n\n      // Check for duplicate/overlapping certifications\n      const duplicateCheck = await this.checkDuplicateCertification(patientId, data.start_date, data.end_date);\n      if (duplicateCheck.isDuplicate) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Duplicate certification detected',\n          errors: [`A certification already exists for this patient with overlapping dates (ID: ${duplicateCheck.existingCertification.id})`],\n          existingCertification: duplicateCheck.existingCertification\n        };\n      }\n\n      // Calculate certification due date (2 days from start_date per CMS)\n      const startDate = new Date(data.start_date);\n      const dueDate = new Date(startDate);\n      dueDate.setDate(dueDate.getDate() + 2);\n\n      const result = await db\n        .insert(certifications)\n        .values({\n          patient_id: patientId,\n          certification_period: data.certification_period,\n          certification_status: data.certification_status || 'PENDING',\n          start_date: data.start_date,\n          end_date: data.end_date,\n          certification_due_date: dueDate.toISOString().split('T')[0],\n          terminal_illness_narrative: data.terminal_illness_narrative,\n          clinical_progression: data.clinical_progression,\n          decline_indicators: data.decline_indicators,\n          noe_id: data.noe_id || null,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      // Log audit for certification creation\n      await logAudit(request, 'CREATE', 'certifications', result[0].id);\n\n      // Create alert for 5 days before benefit period\n      const alertDate = new Date(startDate);\n      alertDate.setDate(alertDate.getDate() - 5);\n\n      if (alertDate > new Date()) {\n        await db.insert(certification_alerts).values({\n          certification_id: result[0].id,\n          patient_id: patientId,\n          alert_type: 'UPCOMING_CERT',\n          alert_priority: 'NORMAL',\n          scheduled_for: alertDate,\n          subject: `Certification Due: ${data.certification_period}`,\n          message: `Physician certification required within 2 days of ${data.start_date}`,\n          recipients: data.alert_recipients || [],\n          created_by_id: request.user?.id\n        });\n      }\n\n      // Check if F2F required (3rd period onwards per CMS)\n      let f2fRequired = false;\n      if (data.certification_period.includes('SUBSEQUENT')) {\n        // Count previous certifications to determine if this is 3rd+ period\n        const previousCerts = await db\n          .select({ count: sql`count(*)` })\n          .from(certifications)\n          .where(and(\n            eq(certifications.patient_id, patientId),\n            isNull(certifications.deleted_at)\n          ));\n\n        const periodCount = parseInt(previousCerts[0]?.count || 0);\n\n        if (periodCount >= 2) {\n          f2fRequired = true;\n          // F2F required within 30 days before recertification\n          const f2fDueDate = new Date(data.start_date);\n          f2fDueDate.setDate(f2fDueDate.getDate() - 1);\n\n          const f2fAlertDate = new Date(f2fDueDate);\n          f2fAlertDate.setDate(f2fAlertDate.getDate() - 7); // Alert 7 days before\n\n          if (f2fAlertDate > new Date()) {\n            await db.insert(certification_alerts).values({\n              certification_id: result[0].id,\n              patient_id: patientId,\n              alert_type: 'F2F_REQUIRED',\n              alert_priority: 'HIGH',\n              scheduled_for: f2fAlertDate,\n              subject: 'Face-to-Face Encounter Required',\n              message: `Face-to-Face encounter required within 90 days before or 30 days after ${data.start_date}`,\n              recipients: data.alert_recipients || [],\n              created_by_id: request.user?.id\n            });\n          }\n        }\n\n        // Create recertification schedule entry\n        const nextRecertDate = new Date(data.end_date);\n        const f2fDueDate = new Date(data.end_date);\n        f2fDueDate.setDate(f2fDueDate.getDate() - 30);\n\n        await db.insert(recertification_schedule).values({\n          patient_id: patientId,\n          next_recertification_date: nextRecertDate,\n          certification_period_type: data.certification_period,\n          f2f_required: periodCount >= 2,\n          f2f_due_date: periodCount >= 2 ? f2fDueDate : null,\n          created_by_id: request.user?.id\n        });\n      }\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Certification created successfully',\n        data: result[0],\n        f2fRequired,\n        warnings: dateValidation.warnings || []\n      };\n    } catch (error) {\n      logger.error('Error creating certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Complete certification (mark as signed with timeliness tracking)\n   * POST /certifications/:id/complete\n   */\n  async completeCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n\n      const existing = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Check if already completed\n      if (existing[0].certification_status === 'COMPLETED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Certification is already completed'\n        };\n      }\n\n      // Check if certification has been signed first\n      if (!existing[0].physician_signature) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Certification must be signed by a physician before it can be completed'\n        };\n      }\n\n      const completedDate = new Date();\n      const dueDate = new Date(existing[0].certification_due_date);\n      const daysLate = Math.max(0, Math.floor((completedDate - dueDate) / (1000 * 60 * 60 * 24)));\n      const timeliness = daysLate === 0 ? 'TIMELY' : 'LATE';\n\n      const result = await db\n        .update(certifications)\n        .set({\n          certification_completed_date: completedDate.toISOString().split('T')[0],\n          certification_timeliness: timeliness,\n          days_late: daysLate,\n          certification_status: 'COMPLETED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(certifications.id, certId))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'certifications', certId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Certification completed successfully',\n        data: result[0],\n        timeliness: {\n          status: timeliness,\n          daysLate: daysLate,\n          warning: timeliness === 'LATE' ? `Certification was ${daysLate} day(s) late. This may impact CMS compliance.` : null\n        }\n      };\n    } catch (error) {\n      logger.error('Error completing certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error completing certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get pending certifications (due soon or overdue)\n   * GET /certifications/pending\n   */\n  async getPendingCertifications(request, reply) {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n\n      const results = await db\n        .select({\n          certification: certifications,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(certifications)\n        .leftJoin(patients, eq(certifications.patient_id, patients.id))\n        .where(and(\n          or(\n            eq(certifications.certification_status, 'PENDING'),\n            eq(certifications.certification_status, 'ACTIVE')\n          ),\n          lte(certifications.certification_due_date, today),\n          isNull(certifications.deleted_at)\n        ))\n        .orderBy(certifications.certification_due_date);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching pending certifications:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching pending certifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign certification (physician signature)\n   * POST /certifications/:id/sign\n   * 21 CFR Part 11 compliant electronic signature\n   */\n  async signCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n\n      const existing = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Check if already signed\n      if (existing[0].physician_signature) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Certification is already signed. Use amendment to make changes to signed certifications.'\n        };\n      }\n\n      // Check if certification has expired\n      const endDate = new Date(existing[0].end_date);\n      if (endDate < new Date()) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot sign an expired certification. Please create a new certification period.'\n        };\n      }\n\n      // Validate terminal illness narrative exists\n      if (!existing[0].terminal_illness_narrative) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Terminal illness narrative is required before signing'\n        };\n      }\n\n      // Generate signature hash (SHA-256) - 21 CFR Part 11 compliance\n      const dataToSign = JSON.stringify({\n        id: existing[0].id,\n        patient_id: existing[0].patient_id,\n        certification_period: existing[0].certification_period,\n        terminal_illness_narrative: existing[0].terminal_illness_narrative,\n        timestamp: new Date().toISOString()\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const signature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName || ''} ${request.user?.lastName || ''}`.trim() || 'Unknown',\n        signedAt: new Date().toISOString(),\n        signatureType: 'ELECTRONIC',\n        signatureHash: signatureHash,\n        ipAddress: request.ip || 'unknown',\n        userAgent: request.headers['user-agent'] || 'unknown',\n        meaning: 'Physician signature attesting to terminal illness and hospice appropriateness per CMS requirements',\n        credentials: request.user?.role || 'Physician',\n        version: '21CFR11_v1.0'\n      };\n\n      const result = await db\n        .update(certifications)\n        .set({\n          physician_signature: signature,\n          certification_status: 'ACTIVE',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(certifications.id, certId))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'certifications', certId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Certification signed successfully',\n        data: result[0],\n        signature: {\n          signedAt: signature.signedAt,\n          signedBy: signature.signedByName,\n          hash: signatureHash.substring(0, 16) + '...' // Truncated for display\n        }\n      };\n    } catch (error) {\n      logger.error('Error signing certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get certifications due within next 30 days\n   * GET /certifications/due\n   */\n  async getCertificationsDue(request, reply) {\n    try {\n      const today = new Date();\n      const thirtyDaysFromNow = new Date();\n      thirtyDaysFromNow.setDate(today.getDate() + 30);\n\n      const results = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          gte(certifications.end_date, today.toISOString().split('T')[0]),\n          lte(certifications.end_date, thirtyDaysFromNow.toISOString().split('T')[0]),\n          isNull(certifications.deleted_at)\n        ))\n        .orderBy(certifications.end_date);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching due certifications:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching due certifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get overdue certifications\n   * GET /certifications/overdue\n   * Enhanced with compliance tracking\n   */\n  async getCertificationsOverdue(request, reply) {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n\n      const results = await db\n        .select({\n          certification: certifications,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(certifications)\n        .leftJoin(patients, eq(certifications.patient_id, patients.id))\n        .where(and(\n          eq(certifications.certification_status, 'PENDING'),\n          lte(certifications.certification_due_date, today),\n          isNull(certifications.deleted_at)\n        ))\n        .orderBy(certifications.certification_due_date);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching overdue certifications:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching overdue certifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get Face-to-Face encounters for a patient\n   * GET /patients/:id/f2f\n   */\n  async getPatientF2F(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const results = await db\n        .select()\n        .from(face_to_face_encounters)\n        .where(and(\n          eq(face_to_face_encounters.patient_id, parseInt(id)),\n          isNull(face_to_face_encounters.deleted_at)\n        ))\n        .orderBy(desc(face_to_face_encounters.encounter_date));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results\n      };\n    } catch (error) {\n      logger.error('Error fetching F2F encounters:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching F2F encounters',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create Face-to-Face encounter\n   * POST /patients/:id/f2f\n   * CMS Requirement: F2F must occur within 90 days before or 30 days after start of care\n   */\n  async createF2F(request, reply) {\n    try {\n      const { id } = request.params;\n      const patientId = parseInt(id);\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.encounter_date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Encounter date is required'\n        };\n      }\n\n      if (!data.findings) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Findings documentation is required for Face-to-Face encounters'\n        };\n      }\n\n      // Validate performed_by_type (physician credentials)\n      const credentialsValidation = this.validatePhysicianCredentials(data.performed_by_type);\n      if (!credentialsValidation.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid physician credentials',\n          errors: credentialsValidation.errors\n        };\n      }\n\n      // Validate provider name is provided\n      if (!data.performed_by_name) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Provider name is required for Face-to-Face encounters'\n        };\n      }\n\n      // If linked to a certification, validate the F2F date range\n      let dateValidation = { valid: true, errors: [], warnings: [] };\n      if (data.certification_id) {\n        const certification = await db\n          .select()\n          .from(certifications)\n          .where(eq(certifications.id, parseInt(data.certification_id)))\n          .limit(1);\n\n        if (!certification[0]) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Linked certification not found'\n          };\n        }\n\n        // Validate F2F date is within CMS-required window\n        dateValidation = this.validateF2FDateRange(data.encounter_date, certification[0].start_date);\n        if (!dateValidation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Face-to-Face encounter date is outside CMS-required window',\n            errors: dateValidation.errors,\n            validWindow: {\n              start: dateValidation.windowStart,\n              end: dateValidation.windowEnd\n            }\n          };\n        }\n      }\n\n      const result = await db\n        .insert(face_to_face_encounters)\n        .values({\n          patient_id: patientId,\n          certification_id: data.certification_id || null,\n          encounter_date: data.encounter_date,\n          performed_by_id: data.performed_by_id || request.user?.id,\n          performed_by_name: data.performed_by_name,\n          performed_by_type: data.performed_by_type,\n          visit_type: data.visit_type || 'IN_PERSON',\n          findings: data.findings,\n          terminal_prognosis_confirmed: data.terminal_prognosis_confirmed ?? true,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      await logAudit(request, 'CREATE', 'face_to_face_encounters', result[0].id);\n\n      // Update recertification schedule if linked to certification\n      if (data.certification_id) {\n        await db\n          .update(recertification_schedule)\n          .set({\n            f2f_completed: true,\n            updatedAt: new Date()\n          })\n          .where(and(\n            eq(recertification_schedule.patient_id, patientId),\n            eq(recertification_schedule.f2f_required, true),\n            eq(recertification_schedule.f2f_completed, false)\n          ));\n\n        // Update any pending F2F alerts to sent\n        await db\n          .update(certification_alerts)\n          .set({\n            alert_status: 'DISMISSED',\n            sent_at: new Date()\n          })\n          .where(and(\n            eq(certification_alerts.patient_id, patientId),\n            eq(certification_alerts.alert_type, 'F2F_REQUIRED'),\n            eq(certification_alerts.alert_status, 'PENDING')\n          ));\n      }\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Face-to-Face encounter created successfully',\n        data: result[0],\n        dateValidation: dateValidation.valid ? null : {\n          windowStart: dateValidation.windowStart,\n          windowEnd: dateValidation.windowEnd\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating F2F encounter:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating F2F encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Add attestation to Face-to-Face encounter\n   * POST /f2f/:id/attestation\n   * Hospice physician attestation per CMS requirements\n   */\n  async attestF2F(request, reply) {\n    try {\n      const { id } = request.params;\n      const f2fId = parseInt(id);\n\n      const existing = await db\n        .select()\n        .from(face_to_face_encounters)\n        .where(and(\n          eq(face_to_face_encounters.id, f2fId),\n          isNull(face_to_face_encounters.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Face-to-Face encounter not found'\n        };\n      }\n\n      // Check if already attested\n      if (existing[0].attestation) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Face-to-Face encounter has already been attested'\n        };\n      }\n\n      // Validate terminal prognosis was confirmed\n      if (!existing[0].terminal_prognosis_confirmed) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Terminal prognosis must be confirmed before attestation'\n        };\n      }\n\n      // Generate attestation hash - 21 CFR Part 11 compliance\n      const dataToAttest = JSON.stringify({\n        id: existing[0].id,\n        patient_id: existing[0].patient_id,\n        encounter_date: existing[0].encounter_date,\n        findings: existing[0].findings,\n        terminal_prognosis_confirmed: existing[0].terminal_prognosis_confirmed,\n        timestamp: new Date().toISOString()\n      });\n      const attestationHash = crypto.createHash('sha256').update(dataToAttest).digest('hex');\n\n      const attestation = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName || ''} ${request.user?.lastName || ''}`.trim() || 'Unknown',\n        signedAt: new Date().toISOString(),\n        signatureType: 'ATTESTATION',\n        signatureHash: attestationHash,\n        ipAddress: request.ip || 'unknown',\n        userAgent: request.headers['user-agent'] || 'unknown',\n        meaning: 'Hospice physician attestation confirming Face-to-Face encounter findings and terminal prognosis per CMS requirements',\n        credentials: request.user?.role || 'Hospice Physician',\n        version: '21CFR11_v1.0'\n      };\n\n      const result = await db\n        .update(face_to_face_encounters)\n        .set({\n          attestation: attestation,\n          attestation_date: new Date().toISOString().split('T')[0],\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(face_to_face_encounters.id, f2fId))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'face_to_face_encounters', f2fId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Face-to-Face encounter attested successfully',\n        data: result[0],\n        attestation: {\n          attestedAt: attestation.signedAt,\n          attestedBy: attestation.signedByName,\n          hash: attestationHash.substring(0, 16) + '...'\n        }\n      };\n    } catch (error) {\n      logger.error('Error attesting F2F encounter:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error attesting F2F encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // ORDER MANAGEMENT\n  // ============================================================================\n\n  /**\n   * Get orders for a patient\n   * GET /patients/:id/orders\n   */\n  async getPatientOrders(request, reply) {\n    try {\n      const { id } = request.params;\n      const patientId = parseInt(id);\n      const { status, type, limit = 50, offset = 0 } = request.query;\n\n      const conditions = [\n        eq(orders.patient_id, patientId),\n        isNull(orders.deleted_at)\n      ];\n\n      // Filter by status if provided\n      if (status) {\n        conditions.push(eq(orders.order_status, status));\n      }\n\n      // Filter by type if provided\n      if (type) {\n        conditions.push(eq(orders.order_type, type));\n      }\n\n      const results = await db\n        .select()\n        .from(orders)\n        .where(and(...conditions))\n        .orderBy(desc(orders.start_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      await logAudit(request, 'READ', 'orders', null);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching patient orders:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching orders',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create new order\n   * POST /patients/:id/orders\n   */\n  async createOrder(request, reply) {\n    try {\n      const { id } = request.params;\n      const patientId = parseInt(id);\n      const data = request.body;\n\n      // Validate required fields\n      if (!data.order_type) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Order type is required'\n        };\n      }\n\n      if (!data.order_description) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Order description is required'\n        };\n      }\n\n      if (!data.start_date) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Start date is required'\n        };\n      }\n\n      // Validate order type\n      const validOrderTypes = ['MEDICATION', 'TREATMENT', 'DME', 'LABORATORY', 'IMAGING', 'CONSULTATION', 'OTHER'];\n      if (!validOrderTypes.includes(data.order_type)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid order type. Must be one of: ${validOrderTypes.join(', ')}`\n        };\n      }\n\n      const result = await db\n        .insert(orders)\n        .values({\n          patient_id: patientId,\n          order_type: data.order_type,\n          order_status: data.order_status || 'ACTIVE',\n          order_priority: data.order_priority || 'ROUTINE',\n          order_description: data.order_description,\n          start_date: data.start_date,\n          end_date: data.end_date,\n          ordered_by_id: data.ordered_by_id || request.user?.id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      await logAudit(request, 'CREATE', 'orders', result[0].id);\n\n      // Create verbal order tracking if this is a verbal order\n      if (data.is_verbal_order) {\n        await db.insert(verbal_orders_tracking).values({\n          order_id: result[0].id,\n          received_by_id: request.user?.id,\n          received_date: new Date(),\n          physician_name: data.physician_name,\n          read_back_verified: data.read_back_verified ?? false,\n          created_by_id: request.user?.id\n        });\n      }\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Order created successfully',\n        data: result[0],\n        isVerbalOrder: !!data.is_verbal_order\n      };\n    } catch (error) {\n      logger.error('Error creating order:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating order',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign order (physician signature)\n   * POST /orders/:id/sign\n   * 21 CFR Part 11 compliant electronic signature\n   */\n  async signOrder(request, reply) {\n    try {\n      const { id } = request.params;\n      const orderId = parseInt(id);\n\n      const existing = await db\n        .select()\n        .from(orders)\n        .where(and(\n          eq(orders.id, orderId),\n          isNull(orders.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Order not found'\n        };\n      }\n\n      // Check if already signed\n      if (existing[0].physician_signature) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Order is already signed'\n        };\n      }\n\n      // Generate signature hash - 21 CFR Part 11 compliance\n      const dataToSign = JSON.stringify({\n        id: existing[0].id,\n        patient_id: existing[0].patient_id,\n        order_type: existing[0].order_type,\n        order_description: existing[0].order_description,\n        timestamp: new Date().toISOString()\n      });\n      const signatureHash = crypto.createHash('sha256').update(dataToSign).digest('hex');\n\n      const signature = {\n        signedBy: request.user?.id,\n        signedByName: `${request.user?.firstName || ''} ${request.user?.lastName || ''}`.trim() || 'Unknown',\n        signedAt: new Date().toISOString(),\n        signatureType: 'ELECTRONIC',\n        signatureHash: signatureHash,\n        ipAddress: request.ip || 'unknown',\n        userAgent: request.headers['user-agent'] || 'unknown',\n        meaning: 'Physician signature authorizing this order',\n        credentials: request.user?.role || 'Physician',\n        version: '21CFR11_v1.0'\n      };\n\n      const result = await db\n        .update(orders)\n        .set({\n          physician_signature: signature,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(orders.id, orderId))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'orders', orderId);\n\n      // Update verbal order tracking if applicable\n      const verbalTracking = await db\n        .select()\n        .from(verbal_orders_tracking)\n        .where(eq(verbal_orders_tracking.order_id, orderId))\n        .limit(1);\n\n      if (verbalTracking[0]) {\n        await db\n          .update(verbal_orders_tracking)\n          .set({\n            written_signature_obtained: true,\n            signature_obtained_date: new Date().toISOString().split('T')[0]\n          })\n          .where(eq(verbal_orders_tracking.order_id, orderId));\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Order signed successfully',\n        data: result[0],\n        signature: {\n          signedAt: signature.signedAt,\n          signedBy: signature.signedByName,\n          hash: signatureHash.substring(0, 16) + '...'\n        }\n      };\n    } catch (error) {\n      logger.error('Error signing order:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing order',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // ADDITIONAL CERTIFICATION OPERATIONS\n  // ============================================================================\n\n  /**\n   * Get single certification by ID\n   * GET /certifications/:id\n   */\n  async getCertificationById(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n\n      const result = await db\n        .select({\n          certification: certifications,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(certifications)\n        .leftJoin(patients, eq(certifications.patient_id, patients.id))\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Get associated F2F encounters\n      const f2fEncounters = await db\n        .select()\n        .from(face_to_face_encounters)\n        .where(and(\n          eq(face_to_face_encounters.certification_id, certId),\n          isNull(face_to_face_encounters.deleted_at)\n        ))\n        .orderBy(desc(face_to_face_encounters.encounter_date));\n\n      await logAudit(request, 'READ', 'certifications', certId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          ...result[0].certification,\n          patient: result[0].patient,\n          faceToFaceEncounters: f2fEncounters\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update certification (only allowed for unsigned certifications)\n   * PATCH /certifications/:id\n   */\n  async updateCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n      const data = request.body;\n\n      const existing = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Cannot update signed certifications\n      if (existing[0].physician_signature) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update signed certifications. Use amendment process for changes to signed documents.'\n        };\n      }\n\n      // Cannot update completed certifications\n      if (existing[0].certification_status === 'COMPLETED') {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update completed certifications'\n        };\n      }\n\n      // Build update object with only allowed fields\n      const updateData = {};\n      const allowedFields = [\n        'terminal_illness_narrative',\n        'clinical_progression',\n        'decline_indicators'\n      ];\n\n      for (const field of allowedFields) {\n        if (data[field] !== undefined) {\n          updateData[field] = data[field];\n        }\n      }\n\n      if (Object.keys(updateData).length === 0) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'No valid fields to update'\n        };\n      }\n\n      updateData.updated_by_id = request.user?.id;\n      updateData.updatedAt = new Date();\n\n      const result = await db\n        .update(certifications)\n        .set(updateData)\n        .where(eq(certifications.id, certId))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'certifications', certId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Certification updated successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error updating certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Revoke certification\n   * POST /certifications/:id/revoke\n   */\n  async revokeCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n      const { revocation_reason } = request.body;\n\n      if (!revocation_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Revocation reason is required'\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Cannot revoke already revoked or expired certifications\n      if (existing[0].certification_status === 'REVOKED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Certification is already revoked'\n        };\n      }\n\n      const result = await db\n        .update(certifications)\n        .set({\n          certification_status: 'REVOKED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(certifications.id, certId))\n        .returning();\n\n      await logAudit(request, 'DELETE', 'certifications', certId);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Certification revoked successfully',\n        data: result[0],\n        revocationInfo: {\n          revokedAt: new Date().toISOString(),\n          revokedBy: request.user?.id,\n          reason: revocation_reason\n        }\n      };\n    } catch (error) {\n      logger.error('Error revoking certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error revoking certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Validate F2F encounter for certification\n   * POST /certifications/:id/validate-f2f\n   * Checks if a valid F2F encounter exists within the required window\n   */\n  async validateF2FForCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n\n      const certification = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!certification[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Check if F2F is required for this certification\n      const previousCerts = await db\n        .select({ count: sql`count(*)` })\n        .from(certifications)\n        .where(and(\n          eq(certifications.patient_id, certification[0].patient_id),\n          isNull(certifications.deleted_at),\n          lte(certifications.start_date, certification[0].start_date)\n        ));\n\n      const periodCount = parseInt(previousCerts[0]?.count || 0);\n      const f2fRequired = periodCount >= 3; // F2F required from 3rd benefit period onwards\n\n      if (!f2fRequired) {\n        reply.code(200);\n        return {\n          status: 200,\n          message: 'Face-to-Face encounter not required for this certification period',\n          data: {\n            f2fRequired: false,\n            periodNumber: periodCount\n          }\n        };\n      }\n\n      // Find F2F encounters within the valid window\n      const windowStart = new Date(certification[0].start_date);\n      windowStart.setDate(windowStart.getDate() - 90);\n\n      const windowEnd = new Date(certification[0].start_date);\n      windowEnd.setDate(windowEnd.getDate() + 30);\n\n      const validF2F = await db\n        .select()\n        .from(face_to_face_encounters)\n        .where(and(\n          eq(face_to_face_encounters.patient_id, certification[0].patient_id),\n          gte(face_to_face_encounters.encounter_date, windowStart.toISOString().split('T')[0]),\n          lte(face_to_face_encounters.encounter_date, windowEnd.toISOString().split('T')[0]),\n          isNull(face_to_face_encounters.deleted_at)\n        ))\n        .orderBy(desc(face_to_face_encounters.encounter_date));\n\n      const isValid = validF2F.length > 0 && validF2F.some(f2f => f2f.attestation);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: isValid ? 'Valid Face-to-Face encounter found' : 'No valid Face-to-Face encounter found',\n        data: {\n          f2fRequired: true,\n          isValid,\n          periodNumber: periodCount,\n          validWindow: {\n            start: windowStart.toISOString().split('T')[0],\n            end: windowEnd.toISOString().split('T')[0]\n          },\n          encounters: validF2F,\n          attestedCount: validF2F.filter(f => f.attestation).length\n        }\n      };\n    } catch (error) {\n      logger.error('Error validating F2F for certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error validating F2F encounter',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Soft delete certification\n   * DELETE /certifications/:id\n   *\n   * CMS Compliance Note: Certifications cannot be permanently deleted for audit trail purposes.\n   * This performs a soft delete by setting the deleted_at timestamp.\n   *\n   * Restrictions:\n   * - Cannot delete signed certifications (use revoke instead)\n   * - Cannot delete completed certifications\n   */\n  async deleteCertification(request, reply) {\n    try {\n      const { id } = request.params;\n      const certId = parseInt(id);\n      const { reason } = request.body || {};\n\n      const existing = await db\n        .select()\n        .from(certifications)\n        .where(and(\n          eq(certifications.id, certId),\n          isNull(certifications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Certification not found'\n        };\n      }\n\n      // Cannot delete signed certifications - must use revoke\n      if (existing[0].physician_signature) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete signed certifications. Use the revoke endpoint instead to maintain audit compliance.',\n          code: 'SIGNED_CERTIFICATION_CANNOT_DELETE'\n        };\n      }\n\n      // Cannot delete completed certifications\n      if (existing[0].certification_status === 'COMPLETED') {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete completed certifications. Use the revoke endpoint instead.',\n          code: 'COMPLETED_CERTIFICATION_CANNOT_DELETE'\n        };\n      }\n\n      // Perform soft delete\n      const result = await db\n        .update(certifications)\n        .set({\n          deleted_at: new Date(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(certifications.id, certId))\n        .returning();\n\n      // Log audit event for deletion\n      await logAudit(request, 'DELETE', 'certifications', certId);\n\n      // Also soft delete any associated alerts\n      await db\n        .update(certification_alerts)\n        .set({\n          alert_status: 'DISMISSED',\n          sent_at: new Date()\n        })\n        .where(and(\n          eq(certification_alerts.certification_id, certId),\n          eq(certification_alerts.alert_status, 'PENDING')\n        ));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Certification deleted successfully',\n        data: {\n          id: certId,\n          deletedAt: result[0].deleted_at,\n          deletedBy: request.user?.id,\n          reason: reason || 'No reason provided'\n        }\n      };\n    } catch (error) {\n      logger.error('Error deleting certification:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting certification',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new CertificationController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}