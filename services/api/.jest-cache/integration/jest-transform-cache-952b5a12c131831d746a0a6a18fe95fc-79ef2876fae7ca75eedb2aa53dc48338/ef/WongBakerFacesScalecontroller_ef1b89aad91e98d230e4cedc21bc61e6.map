{"version":3,"names":["cov_1dwtgip8z8","actualCoverage","db","wong_baker_faces_scales","WONG_BAKER_FACES","WONG_BAKER_PAIN_SEVERITY","faceIndexToScore","scoreToFaceIndex","calculatePainSeverity","patients","eq","and","desc","sql","gte","lte","between","logger","logAudit","WongBakerFacesScaleController","score","f","s","b","validateScore","data","errors","faceSelected","face_selected","undefined","push","numFace","parseInt","isNaN","reassessment_face","val","reassessment_score","validScores","includes","acceptable_pain_face","acceptable_pain_score","parent_pain_estimate","valid","length","getPatientAssessments","request","reply","patientId","params","limit","offset","from_date","to_date","query","conditions","patient_id","assessment_date","Date","assessments","select","from","where","orderBy","code","status","message","count","error","process","env","NODE_ENV","show","id","result","create","body","validation","painScore","painSeverity","painPresent","reassessmentScore","reassessmentFace","acceptablePainScore","acceptablePainFace","insert","values","pain_score","pain_severity","pain_present","assessed_by_id","user","created_by_id","updated_by_id","createdAt","updatedAt","returning","interpretation","face_info","severity_description","label","update","existing","signed_at","hasFaceUpdate","mergedData","_","updateData","set","delete","sign","signed_by_id","amend","amendment_reason","amended","amended_at","amended_by_id","index","min_score","max_score","getPatientStats","days","startDate","setDate","getDate","latestAssessment","countResult","avgResult","avg_score","avg_face","severityResult","groupBy","severityDistribution","row","faceResult","faceDistribution","faceInfo","total_assessments","latest_assessment","period_days","averages","parseFloat","score_range","max","min","severity_distribution","face_distribution","getPatientTrend","intervention_provided","intervention_effectiveness","reverse","getReference","name","full_name","description","reference","target_populations","scoring","faces","score_mapping","severity_interpretation","instructions","for_clinician","for_patient","pediatric_guidance","clinical_guidelines","reassessment_intervals","NO_PAIN","MILD","MODERATE","SEVERE","intervention_thresholds","non_pharmacological","pharmacological_consideration","urgent_intervention","hospice_considerations","when_to_use_alternative_scale","FLACC","PAINAD","NRS"],"sources":["WongBakerFacesScale.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  wong_baker_faces_scales,\n  WONG_BAKER_FACES,\n  WONG_BAKER_PAIN_SEVERITY,\n  faceIndexToScore,\n  scoreToFaceIndex,\n  calculatePainSeverity\n} from '../db/schemas/wongBakerFacesScale.schema.js';\nimport { patients } from '../db/schemas/index.js';\nimport { eq, and, desc, sql, gte, lte, between } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\nimport { logAudit } from '../middleware/audit.middleware.js';\n\n/**\n * Wong-Baker FACES Pain Rating Scale Controller\n * Manages visual pain assessments using the 6-face scale\n * Designed for pediatric patients, adults with language barriers, and those who prefer visual scales\n */\nclass WongBakerFacesScaleController {\n  /**\n   * Calculate pain severity based on score\n   * @param {number} score - Pain score (0, 2, 4, 6, 8, or 10)\n   * @returns {string} Pain severity classification\n   */\n  calculatePainSeverity(score) {\n    if (score === 0) return 'NO_PAIN';\n    if (score <= 3) return 'MILD';\n    if (score <= 6) return 'MODERATE';\n    return 'SEVERE';\n  }\n\n  /**\n   * Validate Wong-Baker FACES score\n   * Face index must be 0-5, pain score must be 0, 2, 4, 6, 8, or 10\n   * @param {object} data - Assessment data\n   * @returns {object} Validation result { valid: boolean, errors: string[] }\n   */\n  validateScore(data) {\n    const errors = [];\n    const faceSelected = data.face_selected;\n\n    if (faceSelected === undefined || faceSelected === null) {\n      errors.push('face_selected is required');\n    } else {\n      const numFace = parseInt(faceSelected);\n      if (isNaN(numFace) || numFace < 0 || numFace > 5) {\n        errors.push('face_selected must be between 0 and 5');\n      }\n    }\n\n    // Validate reassessment face/score if provided\n    if (data.reassessment_face !== undefined && data.reassessment_face !== null) {\n      const val = parseInt(data.reassessment_face);\n      if (isNaN(val) || val < 0 || val > 5) {\n        errors.push('reassessment_face must be between 0 and 5');\n      }\n    }\n\n    if (data.reassessment_score !== undefined && data.reassessment_score !== null) {\n      const val = parseInt(data.reassessment_score);\n      const validScores = [0, 2, 4, 6, 8, 10];\n      if (isNaN(val) || !validScores.includes(val)) {\n        errors.push('reassessment_score must be one of: 0, 2, 4, 6, 8, 10');\n      }\n    }\n\n    // Validate acceptable pain face/score if provided\n    if (data.acceptable_pain_face !== undefined && data.acceptable_pain_face !== null) {\n      const val = parseInt(data.acceptable_pain_face);\n      if (isNaN(val) || val < 0 || val > 5) {\n        errors.push('acceptable_pain_face must be between 0 and 5');\n      }\n    }\n\n    if (data.acceptable_pain_score !== undefined && data.acceptable_pain_score !== null) {\n      const val = parseInt(data.acceptable_pain_score);\n      const validScores = [0, 2, 4, 6, 8, 10];\n      if (isNaN(val) || !validScores.includes(val)) {\n        errors.push('acceptable_pain_score must be one of: 0, 2, 4, 6, 8, 10');\n      }\n    }\n\n    // Validate parent pain estimate if provided (0-10 scale)\n    if (data.parent_pain_estimate !== undefined && data.parent_pain_estimate !== null) {\n      const val = parseInt(data.parent_pain_estimate);\n      if (isNaN(val) || val < 0 || val > 10) {\n        errors.push('parent_pain_estimate must be between 0 and 10');\n      }\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  /**\n   * Get all Wong-Baker FACES assessments for a patient\n   * GET /patients/:patientId/wong-baker-faces-scales\n   */\n  async getPatientAssessments(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { limit = 50, offset = 0, from_date, to_date } = request.query;\n\n      let conditions = [eq(wong_baker_faces_scales.patient_id, parseInt(patientId))];\n\n      if (from_date) {\n        conditions.push(gte(wong_baker_faces_scales.assessment_date, new Date(from_date)));\n      }\n      if (to_date) {\n        conditions.push(lte(wong_baker_faces_scales.assessment_date, new Date(to_date)));\n      }\n\n      const assessments = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(and(...conditions))\n        .orderBy(desc(wong_baker_faces_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Wong-Baker FACES assessments retrieved successfully',\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching patient Wong-Baker FACES assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single Wong-Baker FACES assessment by ID\n   * GET /wong-baker-faces-scales/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Wong-Baker FACES assessment not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create a new Wong-Baker FACES assessment\n   * POST /patients/:patientId/wong-baker-faces-scales\n   */\n  async create(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const data = request.body;\n\n      // Validate score\n      const validation = this.validateScore(data);\n      if (!validation.valid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid Wong-Baker FACES score',\n          errors: validation.errors\n        };\n      }\n\n      // Calculate pain score from face selection\n      const faceSelected = parseInt(data.face_selected);\n      const painScore = faceIndexToScore(faceSelected);\n      const painSeverity = this.calculatePainSeverity(painScore);\n      const painPresent = painScore > 0;\n\n      // Calculate reassessment values if provided\n      let reassessmentScore = null;\n      let reassessmentFace = null;\n      if (data.reassessment_face !== undefined && data.reassessment_face !== null) {\n        reassessmentFace = parseInt(data.reassessment_face);\n        reassessmentScore = faceIndexToScore(reassessmentFace);\n      } else if (data.reassessment_score !== undefined && data.reassessment_score !== null) {\n        reassessmentScore = parseInt(data.reassessment_score);\n        reassessmentFace = scoreToFaceIndex(reassessmentScore);\n      }\n\n      // Calculate acceptable pain values if provided\n      let acceptablePainScore = null;\n      let acceptablePainFace = null;\n      if (data.acceptable_pain_face !== undefined && data.acceptable_pain_face !== null) {\n        acceptablePainFace = parseInt(data.acceptable_pain_face);\n        acceptablePainScore = faceIndexToScore(acceptablePainFace);\n      } else if (data.acceptable_pain_score !== undefined && data.acceptable_pain_score !== null) {\n        acceptablePainScore = parseInt(data.acceptable_pain_score);\n        acceptablePainFace = scoreToFaceIndex(acceptablePainScore);\n      }\n\n      const result = await db\n        .insert(wong_baker_faces_scales)\n        .values({\n          patient_id: parseInt(patientId),\n          ...data,\n          face_selected: faceSelected,\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          reassessment_face: reassessmentFace,\n          reassessment_score: reassessmentScore,\n          acceptable_pain_face: acceptablePainFace,\n          acceptable_pain_score: acceptablePainScore,\n          parent_pain_estimate: data.parent_pain_estimate !== undefined ? parseInt(data.parent_pain_estimate) : null,\n          assessment_date: data.assessment_date ? new Date(data.assessment_date) : new Date(),\n          assessed_by_id: data.assessed_by_id || request.user?.id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        })\n        .returning();\n\n      await logAudit(request, 'CREATE', 'wong_baker_faces_scales', result[0].id);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Wong-Baker FACES assessment created successfully',\n        data: result[0],\n        interpretation: {\n          face_selected: faceSelected,\n          face_info: WONG_BAKER_FACES[faceSelected],\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: WONG_BAKER_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error creating Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update a Wong-Baker FACES assessment\n   * PATCH /wong-baker-faces-scales/:id\n   */\n  async update(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Wong-Baker FACES assessment not found'\n        };\n      }\n\n      // Don't allow updates to signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update a signed Wong-Baker FACES assessment. Use amendment instead.'\n        };\n      }\n\n      // Validate scores if being updated\n      const hasFaceUpdate = data.face_selected !== undefined;\n      let faceSelected = existing[0].face_selected;\n      let painScore = existing[0].pain_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      if (hasFaceUpdate) {\n        const mergedData = {\n          face_selected: data.face_selected ?? existing[0].face_selected,\n          reassessment_face: data.reassessment_face ?? existing[0].reassessment_face,\n          reassessment_score: data.reassessment_score ?? existing[0].reassessment_score,\n          acceptable_pain_face: data.acceptable_pain_face ?? existing[0].acceptable_pain_face,\n          acceptable_pain_score: data.acceptable_pain_score ?? existing[0].acceptable_pain_score,\n          parent_pain_estimate: data.parent_pain_estimate ?? existing[0].parent_pain_estimate\n        };\n\n        const validation = this.validateScore(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid Wong-Baker FACES score',\n            errors: validation.errors\n          };\n        }\n\n        faceSelected = parseInt(mergedData.face_selected);\n        painScore = faceIndexToScore(faceSelected);\n        painSeverity = this.calculatePainSeverity(painScore);\n        painPresent = painScore > 0;\n      }\n\n      // Remove fields that shouldn't be updated directly\n      const { id: _, patient_id, created_by_id, createdAt, ...updateData } = data;\n\n      // Parse integer fields if present\n      if (updateData.face_selected !== undefined) updateData.face_selected = parseInt(updateData.face_selected);\n      if (updateData.reassessment_face !== undefined) updateData.reassessment_face = parseInt(updateData.reassessment_face);\n      if (updateData.reassessment_score !== undefined) updateData.reassessment_score = parseInt(updateData.reassessment_score);\n      if (updateData.acceptable_pain_face !== undefined) updateData.acceptable_pain_face = parseInt(updateData.acceptable_pain_face);\n      if (updateData.acceptable_pain_score !== undefined) updateData.acceptable_pain_score = parseInt(updateData.acceptable_pain_score);\n      if (updateData.parent_pain_estimate !== undefined) updateData.parent_pain_estimate = parseInt(updateData.parent_pain_estimate);\n\n      const result = await db\n        .update(wong_baker_faces_scales)\n        .set({\n          ...updateData,\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'wong_baker_faces_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Wong-Baker FACES assessment updated successfully',\n        data: result[0],\n        interpretation: {\n          face_selected: faceSelected,\n          face_info: WONG_BAKER_FACES[faceSelected],\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          severity_description: WONG_BAKER_PAIN_SEVERITY[painSeverity]?.label\n        }\n      };\n    } catch (error) {\n      logger.error('Error updating Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete a Wong-Baker FACES assessment\n   * DELETE /wong-baker-faces-scales/:id\n   */\n  async delete(request, reply) {\n    try {\n      const { id } = request.params;\n\n      // Check if assessment exists\n      const existing = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Wong-Baker FACES assessment not found'\n        };\n      }\n\n      // Don't allow deletion of signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete a signed Wong-Baker FACES assessment'\n        };\n      }\n\n      await db\n        .delete(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)));\n\n      await logAudit(request, 'DELETE', 'wong_baker_faces_scales', parseInt(id));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Wong-Baker FACES assessment deleted successfully'\n      };\n    } catch (error) {\n      logger.error('Error deleting Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Sign a Wong-Baker FACES assessment (21 CFR Part 11 compliance)\n   * POST /wong-baker-faces-scales/:id/sign\n   */\n  async sign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Wong-Baker FACES assessment not found'\n        };\n      }\n\n      if (existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Wong-Baker FACES assessment already signed'\n        };\n      }\n\n      const result = await db\n        .update(wong_baker_faces_scales)\n        .set({\n          signed_at: new Date(),\n          signed_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'wong_baker_faces_scales', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Wong-Baker FACES assessment signed successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error signing Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Amend a signed Wong-Baker FACES assessment\n   * POST /wong-baker-faces-scales/:id/amend\n   */\n  async amend(request, reply) {\n    try {\n      const { id } = request.params;\n      const { amendment_reason, ...updateData } = request.body;\n\n      if (!amendment_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Amendment reason is required'\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Wong-Baker FACES assessment not found'\n        };\n      }\n\n      if (!existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot amend an unsigned assessment. Use update instead.'\n        };\n      }\n\n      // Recalculate scores if face_selected is being amended\n      let faceSelected = existing[0].face_selected;\n      let painScore = existing[0].pain_score;\n      let painSeverity = existing[0].pain_severity;\n      let painPresent = existing[0].pain_present;\n\n      if (updateData.face_selected !== undefined) {\n        const mergedData = {\n          face_selected: updateData.face_selected ?? existing[0].face_selected,\n          reassessment_face: updateData.reassessment_face ?? existing[0].reassessment_face,\n          reassessment_score: updateData.reassessment_score ?? existing[0].reassessment_score,\n          acceptable_pain_face: updateData.acceptable_pain_face ?? existing[0].acceptable_pain_face,\n          acceptable_pain_score: updateData.acceptable_pain_score ?? existing[0].acceptable_pain_score,\n          parent_pain_estimate: updateData.parent_pain_estimate ?? existing[0].parent_pain_estimate\n        };\n\n        const validation = this.validateScore(mergedData);\n        if (!validation.valid) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid Wong-Baker FACES score',\n            errors: validation.errors\n          };\n        }\n\n        faceSelected = parseInt(mergedData.face_selected);\n        painScore = faceIndexToScore(faceSelected);\n        painSeverity = this.calculatePainSeverity(painScore);\n        painPresent = painScore > 0;\n      }\n\n      // Parse integer fields if present\n      if (updateData.face_selected !== undefined) updateData.face_selected = parseInt(updateData.face_selected);\n      if (updateData.reassessment_face !== undefined) updateData.reassessment_face = parseInt(updateData.reassessment_face);\n      if (updateData.reassessment_score !== undefined) updateData.reassessment_score = parseInt(updateData.reassessment_score);\n      if (updateData.acceptable_pain_face !== undefined) updateData.acceptable_pain_face = parseInt(updateData.acceptable_pain_face);\n      if (updateData.acceptable_pain_score !== undefined) updateData.acceptable_pain_score = parseInt(updateData.acceptable_pain_score);\n      if (updateData.parent_pain_estimate !== undefined) updateData.parent_pain_estimate = parseInt(updateData.parent_pain_estimate);\n\n      const result = await db\n        .update(wong_baker_faces_scales)\n        .set({\n          ...updateData,\n          pain_score: painScore,\n          pain_severity: painSeverity,\n          pain_present: painPresent,\n          amended: true,\n          amendment_reason,\n          amended_at: new Date(),\n          amended_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(wong_baker_faces_scales.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'AMEND', 'wong_baker_faces_scales', result[0].id, { amendment_reason });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Wong-Baker FACES assessment amended successfully',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error amending Wong-Baker FACES assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error amending Wong-Baker FACES assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get all Wong-Baker FACES assessments (with filters)\n   * GET /wong-baker-faces-scales\n   */\n  async index(request, reply) {\n    try {\n      const {\n        patient_id,\n        pain_severity,\n        min_score,\n        max_score,\n        face_selected,\n        limit = 50,\n        offset = 0\n      } = request.query;\n\n      const conditions = [];\n\n      if (patient_id) {\n        conditions.push(eq(wong_baker_faces_scales.patient_id, parseInt(patient_id)));\n      }\n      if (pain_severity) {\n        conditions.push(eq(wong_baker_faces_scales.pain_severity, pain_severity));\n      }\n      if (min_score !== undefined) {\n        conditions.push(gte(wong_baker_faces_scales.pain_score, parseInt(min_score)));\n      }\n      if (max_score !== undefined) {\n        conditions.push(lte(wong_baker_faces_scales.pain_score, parseInt(max_score)));\n      }\n      if (face_selected !== undefined) {\n        conditions.push(eq(wong_baker_faces_scales.face_selected, parseInt(face_selected)));\n      }\n\n      let query = db.select().from(wong_baker_faces_scales);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const assessments = await query\n        .orderBy(desc(wong_baker_faces_scales.assessment_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset)\n      };\n    } catch (error) {\n      logger.error('Error fetching Wong-Baker FACES assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get Wong-Baker FACES assessment statistics for a patient\n   * GET /patients/:patientId/wong-baker-faces-scales/stats\n   */\n  async getPatientStats(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      // Get the most recent assessment\n      const latestAssessment = await db\n        .select()\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.patient_id, parseInt(patientId)))\n        .orderBy(desc(wong_baker_faces_scales.assessment_date))\n        .limit(1);\n\n      // Get count of assessments\n      const countResult = await db\n        .select({ count: sql`count(*)` })\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.patient_id, parseInt(patientId)));\n\n      // Get average scores for the time period\n      const avgResult = await db\n        .select({\n          avg_score: sql`avg(pain_score)`,\n          max_score: sql`max(pain_score)`,\n          min_score: sql`min(pain_score)`,\n          avg_face: sql`avg(face_selected)`\n        })\n        .from(wong_baker_faces_scales)\n        .where(\n          and(\n            eq(wong_baker_faces_scales.patient_id, parseInt(patientId)),\n            gte(wong_baker_faces_scales.assessment_date, startDate)\n          )\n        );\n\n      // Get severity distribution\n      const severityResult = await db\n        .select({\n          pain_severity: wong_baker_faces_scales.pain_severity,\n          count: sql`count(*)`\n        })\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.patient_id, parseInt(patientId)))\n        .groupBy(wong_baker_faces_scales.pain_severity);\n\n      const severityDistribution = {};\n      for (const row of severityResult) {\n        severityDistribution[row.pain_severity || 'UNKNOWN'] = parseInt(row.count);\n      }\n\n      // Get face selection distribution\n      const faceResult = await db\n        .select({\n          face_selected: wong_baker_faces_scales.face_selected,\n          count: sql`count(*)`\n        })\n        .from(wong_baker_faces_scales)\n        .where(eq(wong_baker_faces_scales.patient_id, parseInt(patientId)))\n        .groupBy(wong_baker_faces_scales.face_selected);\n\n      const faceDistribution = {};\n      for (const row of faceResult) {\n        const faceInfo = WONG_BAKER_FACES[row.face_selected];\n        faceDistribution[row.face_selected] = {\n          count: parseInt(row.count),\n          label: faceInfo?.label,\n          score: faceInfo?.score\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          total_assessments: parseInt(countResult[0]?.count || 0),\n          latest_assessment: latestAssessment[0] || null,\n          period_days: parseInt(days),\n          averages: {\n            pain_score: parseFloat(avgResult[0]?.avg_score) || null,\n            face_selected: parseFloat(avgResult[0]?.avg_face) || null\n          },\n          score_range: {\n            max: parseInt(avgResult[0]?.max_score) || null,\n            min: parseInt(avgResult[0]?.min_score) || null\n          },\n          severity_distribution: severityDistribution,\n          face_distribution: faceDistribution\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching Wong-Baker FACES assessment stats:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES assessment statistics',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get Wong-Baker FACES score trend for a patient\n   * GET /patients/:patientId/wong-baker-faces-scales/trend\n   */\n  async getPatientTrend(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30, limit = 100 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      const assessments = await db\n        .select({\n          id: wong_baker_faces_scales.id,\n          assessment_date: wong_baker_faces_scales.assessment_date,\n          face_selected: wong_baker_faces_scales.face_selected,\n          pain_score: wong_baker_faces_scales.pain_score,\n          pain_severity: wong_baker_faces_scales.pain_severity,\n          intervention_provided: wong_baker_faces_scales.intervention_provided,\n          intervention_effectiveness: wong_baker_faces_scales.intervention_effectiveness,\n          reassessment_score: wong_baker_faces_scales.reassessment_score,\n          reassessment_face: wong_baker_faces_scales.reassessment_face\n        })\n        .from(wong_baker_faces_scales)\n        .where(\n          and(\n            eq(wong_baker_faces_scales.patient_id, parseInt(patientId)),\n            gte(wong_baker_faces_scales.assessment_date, startDate)\n          )\n        )\n        .orderBy(desc(wong_baker_faces_scales.assessment_date))\n        .limit(parseInt(limit));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          period_days: parseInt(days),\n          assessments: assessments.reverse(), // Chronological order for charting\n          count: assessments.length\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching Wong-Baker FACES trend:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES trend data',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get Wong-Baker FACES scoring reference\n   * GET /wong-baker-faces-scales/reference\n   */\n  async getReference(request, reply) {\n    try {\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          name: 'Wong-Baker FACES Pain Rating Scale',\n          full_name: 'Wong-Baker FACES Pain Rating Scale',\n          description: 'Visual pain assessment tool using 6 faces representing increasing levels of pain. Originally developed for pediatric patients but widely used for patients of all ages who prefer visual scales or have language barriers.',\n          reference: 'Wong DL, Baker CM. Pain in children: comparison of assessment scales. Pediatric Nursing, 1988;14(1):9-17.',\n          target_populations: [\n            'Pediatric patients (3+ years)',\n            'Adults who prefer visual scales',\n            'Patients with language barriers',\n            'Patients with mild cognitive impairment who can still self-report',\n            'Elderly patients'\n          ],\n          scoring: {\n            faces: WONG_BAKER_FACES,\n            score_mapping: {\n              'Face 0': '0 - No Hurt',\n              'Face 1': '2 - Hurts Little Bit',\n              'Face 2': '4 - Hurts Little More',\n              'Face 3': '6 - Hurts Even More',\n              'Face 4': '8 - Hurts Whole Lot',\n              'Face 5': '10 - Hurts Worst'\n            },\n            severity_interpretation: WONG_BAKER_PAIN_SEVERITY\n          },\n          instructions: {\n            for_clinician: 'Show the patient the faces and explain that each face shows how much or how little pain someone feels. Ask the patient to point to or identify the face that best describes their own pain.',\n            for_patient: 'Point to the face that shows how much you hurt right now.',\n            pediatric_guidance: 'Use age-appropriate language. For young children, explain \"This face shows no hurt\" for face 0 through \"This face shows the worst hurt\" for face 5.'\n          },\n          clinical_guidelines: {\n            reassessment_intervals: {\n              NO_PAIN: '4-8 hours or as clinically indicated',\n              MILD: '2-4 hours',\n              MODERATE: '30-60 minutes after intervention',\n              SEVERE: '15-30 minutes after intervention'\n            },\n            intervention_thresholds: {\n              non_pharmacological: 'Score >= 2 (Face 1 or higher)',\n              pharmacological_consideration: 'Score >= 4 (Face 2 or higher)',\n              urgent_intervention: 'Score >= 8 (Face 4 or higher)'\n            },\n            hospice_considerations: [\n              'Focus on comfort goals rather than complete pain elimination',\n              'Consider patient\\'s acceptable pain level when setting goals',\n              'Visual scale particularly helpful for patients with communication difficulties',\n              'Include family/caregiver in pain management discussions',\n              'For pediatric hospice, involve parents in assessment when possible'\n            ]\n          },\n          when_to_use_alternative_scale: {\n            FLACC: 'For non-verbal patients, infants, or severely cognitively impaired',\n            PAINAD: 'For patients with advanced dementia',\n            NRS: 'For cognitively intact adults who prefer numeric scales'\n          }\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching Wong-Baker FACES reference:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching Wong-Baker FACES reference',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new WongBakerFacesScaleController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA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","ignoreList":[]}