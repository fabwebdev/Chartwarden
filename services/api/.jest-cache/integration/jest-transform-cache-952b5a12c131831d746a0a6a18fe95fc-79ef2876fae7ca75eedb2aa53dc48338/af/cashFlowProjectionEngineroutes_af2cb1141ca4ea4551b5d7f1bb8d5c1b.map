{"version":3,"names":["cov_xjrvx1i78","actualCoverage","CashFlowProjectionEngineController","authenticate","checkPermission","cashFlowProjectionEngineRoutes","fastify","options","f","s","addHook","post","preHandler","schema","description","tags","body","type","required","properties","categoryCode","categoryName","categoryType","enum","parentCategoryId","defaultPaymentFrequency","isFixedExpense","seasonalVarianceExpected","response","success","message","data","createExpenseCategory","bind","get","querystring","includeInactive","count","getExpenseCategories","scheduleName","scheduleType","expenseCategoryId","payeeName","payeeId","baseAmount","variableComponent","estimatedTotal","paymentFrequency","paymentDay","nextPaymentDate","format","effectiveStartDate","effectiveEndDate","isPerpetual","earlyPaymentDiscountRate","earlyPaymentDiscountDays","priorityLevel","canBeDeferred","maxDeferralDays","notes","createPaymentSchedule","beforeDate","getPaymentSchedules","startDate","endDate","dateRange","totals","grandTotal","getPaymentsDue","streamName","streamType","payerId","customerSegment","expectedMonthlyRevenue","minimumRevenue","maximumRevenue","paymentCycle","expectedCollectionDay","averageDaysToCollection","baseCollectionRate","seasonalAdjustmentFactors","isSeasonal","createRecurringRevenueStream","totalMonthlyRevenue","getRecurringRevenueStreams","scenarioName","scenarioType","collectionRateAdjustment","daysToCollectionAdjustment","writeOffRateAdjustment","revenueGrowthRate","expenseInflationRate","payrollGrowthRate","vendorCostAdjustment","isDefault","createScenario","getScenarios","horizonDays","default","periodType","scenarioId","openingCashBalance","includeScheduledPayments","includeRecurringRevenue","adjustForSeasonality","generateProjection","generateRolling13WeekProjection","generateQuarterlyProjection","generateScenarioComparison","put","params","id","actualCollections","actualOutflows","actualEndingCash","updateProjectionActuals","analysisMonths","dimension","calculateHistoricalPatterns","startPeriod","endPeriod","getCashFlowSummaryReport","exportProjectionToCSV","entityType","entityId","getAuditLog"],"sources":["cashFlowProjectionEngine.routes.js"],"sourcesContent":["import CashFlowProjectionEngineController from '../controllers/CashFlowProjectionEngine.controller.js';\nimport { authenticate } from '../middleware/betterAuth.middleware.js';\nimport { checkPermission } from '../middleware/permission.middleware.js';\n\n/**\n * Cash Flow Projection Engine Routes\n * Comprehensive cash flow forecasting with payment timing and collection forecasts\n *\n * All routes require authentication and specific permissions\n */\nexport default async function cashFlowProjectionEngineRoutes(fastify, options) {\n  // Apply authentication middleware to all routes\n  fastify.addHook('onRequest', authenticate);\n\n  // ============================================\n  // EXPENSE CATEGORY ENDPOINTS\n  // ============================================\n\n  /**\n   * 1. Create expense category\n   * POST /api/cashflow/expense-categories\n   * Permission: revenue:create\n   */\n  fastify.post(\n    '/expense-categories',\n    {\n      preHandler: checkPermission('revenue:create'),\n      schema: {\n        description: 'Create expense category for cash flow categorization',\n        tags: ['Cash Flow - Expense Categories'],\n        body: {\n          type: 'object',\n          required: ['categoryCode', 'categoryName', 'categoryType'],\n          properties: {\n            categoryCode: { type: 'string', description: 'Unique category code' },\n            categoryName: { type: 'string', description: 'Category display name' },\n            categoryType: {\n              type: 'string',\n              enum: ['PAYROLL', 'VENDOR', 'RENT', 'UTILITIES', 'SUPPLIES', 'CAPITAL_EXPENDITURE', 'OTHER'],\n              description: 'Type of expense'\n            },\n            parentCategoryId: { type: 'number', description: 'Parent category for hierarchy' },\n            defaultPaymentFrequency: { type: 'string', description: 'Default payment frequency' },\n            isFixedExpense: { type: 'boolean', description: 'Is this a fixed expense' },\n            seasonalVarianceExpected: { type: 'boolean', description: 'Expect seasonal variance' },\n            description: { type: 'string', description: 'Category description' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.createExpenseCategory.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 2. List expense categories\n   * GET /api/cashflow/expense-categories\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/expense-categories',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'List all expense categories',\n        tags: ['Cash Flow - Expense Categories'],\n        querystring: {\n          type: 'object',\n          properties: {\n            includeInactive: { type: 'string', enum: ['true', 'false'], description: 'Include inactive categories' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getExpenseCategories.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // PAYMENT SCHEDULE ENDPOINTS\n  // ============================================\n\n  /**\n   * 3. Create payment schedule\n   * POST /api/cashflow/payment-schedules\n   * Permission: revenue:create\n   */\n  fastify.post(\n    '/payment-schedules',\n    {\n      preHandler: checkPermission('revenue:create'),\n      schema: {\n        description: 'Create scheduled payment obligation (payroll, rent, vendor, etc.)',\n        tags: ['Cash Flow - Payment Schedules'],\n        body: {\n          type: 'object',\n          required: ['scheduleName', 'scheduleType', 'baseAmount', 'paymentFrequency', 'nextPaymentDate', 'effectiveStartDate'],\n          properties: {\n            scheduleName: { type: 'string', description: 'Schedule name' },\n            scheduleType: {\n              type: 'string',\n              enum: ['PAYROLL', 'RENT', 'VENDOR', 'UTILITY', 'INSURANCE', 'CAPITAL_EXPENSE', 'LOAN_PAYMENT', 'TAX', 'OTHER'],\n              description: 'Type of payment schedule'\n            },\n            expenseCategoryId: { type: 'number', description: 'Expense category reference' },\n            payeeName: { type: 'string', description: 'Payee/vendor name' },\n            payeeId: { type: 'string', description: 'External vendor ID' },\n            baseAmount: { type: 'number', description: 'Base payment amount in cents' },\n            variableComponent: { type: 'number', description: 'Variable component in cents' },\n            estimatedTotal: { type: 'number', description: 'Estimated total payment in cents' },\n            paymentFrequency: {\n              type: 'string',\n              enum: ['WEEKLY', 'BIWEEKLY', 'SEMIMONTHLY', 'MONTHLY', 'QUARTERLY', 'ANNUAL', 'ONE_TIME'],\n              description: 'Payment frequency'\n            },\n            paymentDay: { type: 'number', description: 'Day of month/week for payment' },\n            nextPaymentDate: { type: 'string', format: 'date', description: 'Next payment date' },\n            effectiveStartDate: { type: 'string', format: 'date', description: 'Schedule start date' },\n            effectiveEndDate: { type: 'string', format: 'date', description: 'Schedule end date' },\n            isPerpetual: { type: 'boolean', description: 'Is schedule perpetual' },\n            earlyPaymentDiscountRate: { type: 'number', description: 'Early payment discount in basis points' },\n            earlyPaymentDiscountDays: { type: 'number', description: 'Days before due for discount' },\n            priorityLevel: {\n              type: 'string',\n              enum: ['CRITICAL', 'HIGH', 'NORMAL', 'LOW', 'DEFERRABLE'],\n              description: 'Payment priority'\n            },\n            canBeDeferred: { type: 'boolean', description: 'Can payment be deferred' },\n            maxDeferralDays: { type: 'number', description: 'Maximum deferral days' },\n            notes: { type: 'string', description: 'Notes' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.createPaymentSchedule.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 4. List active payment schedules\n   * GET /api/cashflow/payment-schedules\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/payment-schedules',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'List active payment schedules',\n        tags: ['Cash Flow - Payment Schedules'],\n        querystring: {\n          type: 'object',\n          properties: {\n            scheduleType: { type: 'string', description: 'Filter by schedule type' },\n            priorityLevel: { type: 'string', description: 'Filter by priority level' },\n            beforeDate: { type: 'string', format: 'date', description: 'Filter by next payment before date' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getPaymentSchedules.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 5. Get payments due in date range\n   * GET /api/cashflow/payment-schedules/due\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/payment-schedules/due',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'Get expanded list of payments due within a date range',\n        tags: ['Cash Flow - Payment Schedules'],\n        querystring: {\n          type: 'object',\n          required: ['startDate', 'endDate'],\n          properties: {\n            startDate: { type: 'string', format: 'date', description: 'Start date' },\n            endDate: { type: 'string', format: 'date', description: 'End date' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              dateRange: { type: 'object' },\n              totals: { type: 'object' },\n              grandTotal: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getPaymentsDue.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // RECURRING REVENUE ENDPOINTS\n  // ============================================\n\n  /**\n   * 6. Create recurring revenue stream\n   * POST /api/cashflow/recurring-revenue\n   * Permission: revenue:create\n   */\n  fastify.post(\n    '/recurring-revenue',\n    {\n      preHandler: checkPermission('revenue:create'),\n      schema: {\n        description: 'Create recurring revenue stream with payment cycles',\n        tags: ['Cash Flow - Recurring Revenue'],\n        body: {\n          type: 'object',\n          required: ['streamName', 'streamType', 'expectedMonthlyRevenue', 'paymentCycle', 'effectiveStartDate'],\n          properties: {\n            streamName: { type: 'string', description: 'Revenue stream name' },\n            streamType: {\n              type: 'string',\n              enum: ['PATIENT_SERVICE', 'CONTRACT', 'SUBSCRIPTION', 'GRANT', 'OTHER'],\n              description: 'Type of revenue stream'\n            },\n            payerId: { type: 'number', description: 'Payer reference' },\n            customerSegment: { type: 'string', description: 'Customer segment (MEDICARE, MEDICAID, etc.)' },\n            expectedMonthlyRevenue: { type: 'number', description: 'Expected monthly revenue in cents' },\n            minimumRevenue: { type: 'number', description: 'Minimum guaranteed revenue in cents' },\n            maximumRevenue: { type: 'number', description: 'Maximum revenue cap in cents' },\n            paymentCycle: {\n              type: 'string',\n              enum: ['WEEKLY', 'BIWEEKLY', 'MONTHLY', 'QUARTERLY'],\n              description: 'Payment cycle'\n            },\n            expectedCollectionDay: { type: 'number', description: 'Expected day of collection' },\n            averageDaysToCollection: { type: 'number', description: 'Average days to collect' },\n            baseCollectionRate: { type: 'number', description: 'Expected collection rate in basis points' },\n            effectiveStartDate: { type: 'string', format: 'date', description: 'Start date' },\n            effectiveEndDate: { type: 'string', format: 'date', description: 'End date' },\n            seasonalAdjustmentFactors: { type: 'object', description: 'Monthly seasonal factors' },\n            isSeasonal: { type: 'boolean', description: 'Is revenue seasonal' },\n            notes: { type: 'string', description: 'Notes' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.createRecurringRevenueStream.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 7. List active recurring revenue streams\n   * GET /api/cashflow/recurring-revenue\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/recurring-revenue',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'List active recurring revenue streams',\n        tags: ['Cash Flow - Recurring Revenue'],\n        querystring: {\n          type: 'object',\n          properties: {\n            streamType: { type: 'string', description: 'Filter by stream type' },\n            customerSegment: { type: 'string', description: 'Filter by customer segment' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              totalMonthlyRevenue: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getRecurringRevenueStreams.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // SCENARIO ENDPOINTS\n  // ============================================\n\n  /**\n   * 8. Create scenario\n   * POST /api/cashflow/scenarios\n   * Permission: revenue:forecast\n   */\n  fastify.post(\n    '/scenarios',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Create cash flow scenario with adjustable assumptions',\n        tags: ['Cash Flow - Scenarios'],\n        body: {\n          type: 'object',\n          required: ['scenarioName', 'scenarioType'],\n          properties: {\n            scenarioName: { type: 'string', description: 'Scenario name' },\n            scenarioType: {\n              type: 'string',\n              enum: ['BASE', 'OPTIMISTIC', 'PESSIMISTIC', 'CUSTOM', 'STRESS_TEST'],\n              description: 'Type of scenario'\n            },\n            description: { type: 'string', description: 'Scenario description' },\n            collectionRateAdjustment: { type: 'number', description: 'Collection rate adjustment in basis points' },\n            daysToCollectionAdjustment: { type: 'number', description: 'Days to collection adjustment' },\n            writeOffRateAdjustment: { type: 'number', description: 'Write-off rate adjustment in basis points' },\n            revenueGrowthRate: { type: 'number', description: 'Revenue growth rate in basis points' },\n            expenseInflationRate: { type: 'number', description: 'Expense inflation rate in basis points' },\n            payrollGrowthRate: { type: 'number', description: 'Payroll growth rate in basis points' },\n            vendorCostAdjustment: { type: 'number', description: 'Vendor cost adjustment in basis points' },\n            isDefault: { type: 'boolean', description: 'Is default scenario' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.createScenario.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 9. List scenarios\n   * GET /api/cashflow/scenarios\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/scenarios',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'List available cash flow scenarios',\n        tags: ['Cash Flow - Scenarios'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getScenarios.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // PROJECTION ENDPOINTS\n  // ============================================\n\n  /**\n   * 10. Generate cash flow projection\n   * POST /api/cashflow/projections\n   * Permission: revenue:forecast\n   */\n  fastify.post(\n    '/projections',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Generate comprehensive cash flow projection',\n        tags: ['Cash Flow - Projections'],\n        body: {\n          type: 'object',\n          properties: {\n            horizonDays: { type: 'number', default: 90, description: 'Projection horizon in days (30, 60, 90, etc.)' },\n            periodType: {\n              type: 'string',\n              enum: ['WEEKLY', 'MONTHLY', 'QUARTERLY', 'ANNUAL'],\n              default: 'MONTHLY',\n              description: 'Projection period type'\n            },\n            scenarioId: { type: 'number', description: 'Scenario ID to use' },\n            openingCashBalance: { type: 'number', default: 0, description: 'Opening cash balance in cents' },\n            includeScheduledPayments: { type: 'boolean', default: true, description: 'Include scheduled payments' },\n            includeRecurringRevenue: { type: 'boolean', default: true, description: 'Include recurring revenue' },\n            adjustForSeasonality: { type: 'boolean', default: true, description: 'Adjust for seasonal patterns' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.generateProjection.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 11. Generate 13-week rolling projection\n   * POST /api/cashflow/projections/13-week\n   * Permission: revenue:forecast\n   */\n  fastify.post(\n    '/projections/13-week',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Generate rolling 13-week cash flow projection (industry standard)',\n        tags: ['Cash Flow - Projections'],\n        body: {\n          type: 'object',\n          properties: {\n            openingCashBalance: { type: 'number', default: 0, description: 'Opening cash balance in cents' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.generateRolling13WeekProjection.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 12. Generate quarterly projection\n   * POST /api/cashflow/projections/quarterly\n   * Permission: revenue:forecast\n   */\n  fastify.post(\n    '/projections/quarterly',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Generate quarterly cash flow projection for 1 year',\n        tags: ['Cash Flow - Projections'],\n        body: {\n          type: 'object',\n          properties: {\n            openingCashBalance: { type: 'number', default: 0, description: 'Opening cash balance in cents' }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.generateQuarterlyProjection.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 13. Generate multi-scenario comparison\n   * POST /api/cashflow/projections/scenario-comparison\n   * Permission: revenue:forecast\n   */\n  fastify.post(\n    '/projections/scenario-comparison',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Generate projections for all scenarios (base, optimistic, pessimistic) for comparison',\n        tags: ['Cash Flow - Projections'],\n        body: {\n          type: 'object',\n          properties: {\n            horizonDays: { type: 'number', default: 90, description: 'Projection horizon in days' },\n            periodType: { type: 'string', default: 'MONTHLY', description: 'Period type' },\n            openingCashBalance: { type: 'number', default: 0, description: 'Opening cash balance in cents' },\n            includeScheduledPayments: { type: 'boolean', default: true },\n            includeRecurringRevenue: { type: 'boolean', default: true }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.generateScenarioComparison.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 14. Update projection with actuals\n   * PUT /api/cashflow/projections/:id/actuals\n   * Permission: revenue:forecast\n   */\n  fastify.put(\n    '/projections/:id/actuals',\n    {\n      preHandler: checkPermission('revenue:forecast'),\n      schema: {\n        description: 'Update cash flow projection with actual results for variance analysis',\n        tags: ['Cash Flow - Projections'],\n        params: {\n          type: 'object',\n          required: ['id'],\n          properties: {\n            id: { type: 'number', description: 'Forecast period ID' }\n          }\n        },\n        body: {\n          type: 'object',\n          required: ['actualCollections', 'actualOutflows'],\n          properties: {\n            actualCollections: { type: 'number', description: 'Actual collections in cents' },\n            actualOutflows: { type: 'number', description: 'Actual outflows in cents' },\n            actualEndingCash: { type: 'number', description: 'Actual ending cash balance in cents' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.updateProjectionActuals.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // HISTORICAL ANALYSIS ENDPOINTS\n  // ============================================\n\n  /**\n   * 15. Calculate historical patterns\n   * POST /api/cashflow/historical-patterns\n   * Permission: revenue:analyze\n   */\n  fastify.post(\n    '/historical-patterns',\n    {\n      preHandler: checkPermission('revenue:analyze'),\n      schema: {\n        description: 'Calculate historical collection patterns for forecasting model training',\n        tags: ['Cash Flow - Historical Analysis'],\n        body: {\n          type: 'object',\n          properties: {\n            analysisMonths: { type: 'number', default: 12, description: 'Months of history to analyze' },\n            dimension: {\n              type: 'string',\n              enum: ['OVERALL', 'PAYER', 'SEGMENT'],\n              default: 'OVERALL',\n              description: 'Analysis dimension'\n            }\n          }\n        },\n        response: {\n          201: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n              count: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.calculateHistoricalPatterns.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // REPORT ENDPOINTS\n  // ============================================\n\n  /**\n   * 16. Get cash flow summary report\n   * GET /api/cashflow/reports/summary\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/reports/summary',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'Get cash flow summary report with projected vs actual analysis',\n        tags: ['Cash Flow - Reports'],\n        querystring: {\n          type: 'object',\n          required: ['startPeriod', 'endPeriod'],\n          properties: {\n            startPeriod: { type: 'string', description: 'Start period (YYYY-MM or Q1-YYYY)' },\n            endPeriod: { type: 'string', description: 'End period (YYYY-MM or Q1-YYYY)' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: { type: 'object' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getCashFlowSummaryReport.bind(CashFlowProjectionEngineController)\n  );\n\n  /**\n   * 17. Export projection to CSV\n   * GET /api/cashflow/reports/export/:id\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/reports/export/:id',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'Export cash flow projection to CSV format',\n        tags: ['Cash Flow - Reports'],\n        params: {\n          type: 'object',\n          required: ['id'],\n          properties: {\n            id: { type: 'number', description: 'Projection ID' }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.exportProjectionToCSV.bind(CashFlowProjectionEngineController)\n  );\n\n  // ============================================\n  // AUDIT ENDPOINTS\n  // ============================================\n\n  /**\n   * 18. Get audit log\n   * GET /api/cashflow/audit/:entityType/:entityId\n   * Permission: revenue:view\n   */\n  fastify.get(\n    '/audit/:entityType/:entityId',\n    {\n      preHandler: checkPermission('revenue:view'),\n      schema: {\n        description: 'Get audit log for cash flow entity (tracks assumption changes)',\n        tags: ['Cash Flow - Audit'],\n        params: {\n          type: 'object',\n          required: ['entityType', 'entityId'],\n          properties: {\n            entityType: {\n              type: 'string',\n              enum: ['SCENARIO', 'FORECAST', 'PAYMENT_SCHEDULE', 'RECURRING_REVENUE', 'EXPENSE_CATEGORY'],\n              description: 'Entity type'\n            },\n            entityId: { type: 'number', description: 'Entity ID' }\n          }\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              count: { type: 'number' },\n              data: { type: 'array' }\n            }\n          }\n        }\n      }\n    },\n    CashFlowProjectionEngineController.getAuditLog.bind(CashFlowProjectionEngineController)\n  );\n}\n"],"mappings":"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","ignoreList":[]}