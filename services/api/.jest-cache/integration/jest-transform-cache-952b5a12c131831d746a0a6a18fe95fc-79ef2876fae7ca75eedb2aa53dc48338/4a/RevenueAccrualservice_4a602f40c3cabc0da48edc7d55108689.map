{"version":3,"names":["cov_2mq2vivdwm","actualCoverage","db","revenue_accruals","revenue_adjustments","revenue_recognition_periods","claims","eq","and","gte","lte","sql","desc","nanoid","logger","RevenueAccrualService","constructor","f","s","recognitionMethods","ON_SERVICE","ON_SUBMISSION","ON_PAYMENT","contractRateTypes","PER_DIEM","FFS","CAPITATED","BUNDLED","defaultCollectionProbability","MEDICARE","MEDICAID","COMMERCIAL","PRIVATE_PAY","DEFAULT","createAccrualForClaim","claimId","userId","b","claim","select","from","where","id","limit","Error","expectedReimbursement","calculateExpectedReimbursement","recognitionMethod","service_type","collectionProbability","calculateCollectionProbability","serviceMonth","date_of_service_from","substring","fiscalYear","parseInt","month","fiscalQuarter","Math","ceil","accrual","insert","values","accrual_id","claim_id","patient_id","payer_id","accrual_date","Date","service_date_from","service_date_to","date_of_service_to","service_month","billed_amount","total_charge","expected_reimbursement","amount","accrued_amount","recognition_method","recognition_status","recognition_date","contract_rate_type","rateType","expected_payment_days","expectedDays","confidence_level","confidence","collection_probability","revenue_period","fiscal_year","fiscal_quarter","calculation_method","calculationMethod","assumptions","created_by_id","returning","error","payer_type","round","payerType","contractRate","perDiemRate","stateVariance","negotiatedRate","updateAccrualFromPayment","paymentAmount","eraPaymentId","newCollectedAmount","collected_amount","update","set","updated_at","adjustmentAmount","createAdjustment","accrualId","adjustmentType","reason","sourceType","adjustmentData","sourceReferenceId","denialId","appealId","impactsCurrentPeriod","requiresApproval","periodImpacted","toISOString","adjustment","adjustment_date","adjustment_type","adjustment_amount","source_type","source_reference_id","denial_id","appeal_id","era_payment_id","impacts_current_period","period_impacted","requires_approval","approved","newAdjustedAmount","adjusted_amount","writeOffBalance","writeOffAmount","newWrittenOffAmount","written_off_amount","closePeriod","periodLabel","periodType","periodStart","periodEnd","parsePeriodLabel","accruals","totals","reduce","acc","totalBilled","totalAccrued","totalCollected","totalWrittenOff","totalAdjusted","netRevenue","arAging","calculateARAging","dso","calculateDSO","period","period_type","period_start","period_end","period_label","status","closed_date","closed_by_id","total_billed","total_accrued","total_collected","total_written_off","total_adjustments","net_revenue","total_claims","length","days_sales_outstanding","ar_aging_0_30","aging_0_30","ar_aging_31_60","aging_31_60","ar_aging_61_90","aging_61_90","ar_aging_91_120","aging_91_120","ar_aging_over_120","aging_over_120","ending_ar","total_ar","asOfDate","asOf","aging","forEach","outstandingBalance","serviceDate","daysOld","floor","daysInPeriod","ar","revenue","year","split","map","Number","quarter","startMonth","getAccrualsForPeriod","filters","query","payerId","orderBy","getRevenueSummary","startDate","endDate","summary","totalClaims","result"],"sources":["RevenueAccrual.service.js"],"sourcesContent":["import { db } from '../db/index.js';\nimport {\n  revenue_accruals,\n  revenue_adjustments,\n  revenue_recognition_periods\n} from '../db/schemas/index.js';\nimport { claims } from '../db/schemas/billing.schema.js';\nimport { eq, and, gte, lte, sql, desc } from 'drizzle-orm';\nimport { nanoid } from 'nanoid';\n\nimport { logger } from '../utils/logger.js';\n/**\n * Revenue Accrual Service\n * Phase 3D - Revenue Recognition & Accrual Management\n *\n * Purpose: Track expected revenue as claims progress through lifecycle\n * Features:\n *   - Automatic accrual creation on claim submission\n *   - Expected reimbursement calculation\n *   - Revenue recognition upon service delivery\n *   - Integration with ERA payments and denials\n *   - Period close and AR aging\n *   - GAAP-compliant revenue recognition\n */\nclass RevenueAccrualService {\n  constructor() {\n    // Recognition methods\n    this.recognitionMethods = {\n      ON_SERVICE: 'ON_SERVICE',         // Recognize when service delivered\n      ON_SUBMISSION: 'ON_SUBMISSION',   // Recognize when claim submitted\n      ON_PAYMENT: 'ON_PAYMENT'          // Recognize only when payment received (cash basis)\n    };\n\n    // Contract rate types\n    this.contractRateTypes = {\n      PER_DIEM: 'PER_DIEM',       // Daily rate\n      FFS: 'FFS',                 // Fee for service\n      CAPITATED: 'CAPITATED',     // Fixed monthly rate\n      BUNDLED: 'BUNDLED'          // Episode-based payment\n    };\n\n    // Default collection probabilities by payer type (basis points)\n    this.defaultCollectionProbability = {\n      MEDICARE: 9500,      // 95%\n      MEDICAID: 9000,      // 90%\n      COMMERCIAL: 8500,    // 85%\n      PRIVATE_PAY: 7000,   // 70%\n      DEFAULT: 8000        // 80%\n    };\n  }\n\n  /**\n   * Create revenue accrual for a claim\n   * Called when claim is submitted\n   */\n  async createAccrualForClaim(claimId, userId = null) {\n    try {\n      // Get claim details\n      const [claim] = await db.select()\n        .from(claims)\n        .where(eq(claims.id, claimId))\n        .limit(1);\n\n      if (!claim) {\n        throw new Error(`Claim not found: ${claimId}`);\n      }\n\n      // Calculate expected reimbursement\n      const expectedReimbursement = await this.calculateExpectedReimbursement(claim);\n\n      // Determine recognition method (default: ON_SERVICE for hospice)\n      const recognitionMethod = claim.service_type === 'HOSPICE'\n        ? this.recognitionMethods.ON_SERVICE\n        : this.recognitionMethods.ON_SUBMISSION;\n\n      // Calculate collection probability\n      const collectionProbability = await this.calculateCollectionProbability(claim);\n\n      // Determine revenue period (service month)\n      const serviceMonth = claim.date_of_service_from.substring(0, 7); // YYYY-MM\n      const fiscalYear = parseInt(serviceMonth.substring(0, 4));\n      const month = parseInt(serviceMonth.substring(5, 7));\n      const fiscalQuarter = Math.ceil(month / 3);\n\n      // Create accrual\n      const [accrual] = await db.insert(revenue_accruals)\n        .values({\n          accrual_id: `ACCR-${nanoid(12)}`,\n          claim_id: claimId,\n          patient_id: claim.patient_id,\n          payer_id: claim.payer_id,\n          accrual_date: new Date(),\n          service_date_from: claim.date_of_service_from,\n          service_date_to: claim.date_of_service_to,\n          service_month: serviceMonth,\n          billed_amount: claim.total_charge || 0,\n          expected_reimbursement: expectedReimbursement.amount,\n          accrued_amount: expectedReimbursement.amount,\n          recognition_method: recognitionMethod,\n          recognition_status: 'ACCRUED',\n          recognition_date: recognitionMethod === this.recognitionMethods.ON_SERVICE\n            ? claim.date_of_service_from\n            : new Date(),\n          contract_rate_type: expectedReimbursement.rateType,\n          expected_payment_days: expectedReimbursement.expectedDays,\n          confidence_level: expectedReimbursement.confidence,\n          collection_probability: collectionProbability,\n          revenue_period: serviceMonth,\n          fiscal_year: fiscalYear,\n          fiscal_quarter: fiscalQuarter,\n          calculation_method: expectedReimbursement.calculationMethod,\n          assumptions: expectedReimbursement.assumptions,\n          created_by_id: userId\n        })\n        .returning();\n\n      return accrual;\n    } catch (error) {\n      logger.error('Error creating revenue accrual:', error)\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate expected reimbursement based on payer contracts\n   */\n  async calculateExpectedReimbursement(claim) {\n    // This is a simplified version - in production, would look up actual contract rates\n    let amount = claim.total_charge || 0;\n    let rateType = this.contractRateTypes.FFS;\n    let expectedDays = 30;\n    let confidence = 'MEDIUM';\n    let calculationMethod = 'Default calculation';\n    let assumptions = {};\n\n    // Medicare typically pays ~90-95% of billed charges for hospice\n    if (claim.payer_type === 'MEDICARE') {\n      amount = Math.round((claim.total_charge || 0) * 0.93); // 93% collection rate\n      rateType = this.contractRateTypes.PER_DIEM;\n      expectedDays = 25; // Medicare typically pays faster\n      confidence = 'HIGH';\n      calculationMethod = 'Medicare per-diem rate calculation';\n      assumptions = {\n        payerType: 'MEDICARE',\n        contractRate: 0.93,\n        perDiemRate: true\n      };\n    }\n    // Medicaid varies by state but typically 80-85%\n    else if (claim.payer_type === 'MEDICAID') {\n      amount = Math.round((claim.total_charge || 0) * 0.82); // 82% collection rate\n      rateType = this.contractRateTypes.PER_DIEM;\n      expectedDays = 40; // Medicaid can be slower\n      confidence = 'MEDIUM';\n      calculationMethod = 'Medicaid per-diem rate calculation';\n      assumptions = {\n        payerType: 'MEDICAID',\n        contractRate: 0.82,\n        stateVariance: true\n      };\n    }\n    // Commercial payers typically 75-85% due to contract negotiations\n    else if (claim.payer_type === 'COMMERCIAL') {\n      amount = Math.round((claim.total_charge || 0) * 0.80); // 80% collection rate\n      rateType = this.contractRateTypes.FFS;\n      expectedDays = 35;\n      confidence = 'MEDIUM';\n      calculationMethod = 'Commercial contract rate estimation';\n      assumptions = {\n        payerType: 'COMMERCIAL',\n        contractRate: 0.80,\n        negotiatedRate: true\n      };\n    }\n\n    return {\n      amount,\n      rateType,\n      expectedDays,\n      confidence,\n      calculationMethod,\n      assumptions\n    };\n  }\n\n  /**\n   * Calculate collection probability based on payer history\n   */\n  async calculateCollectionProbability(claim) {\n    // In production, would look up actual payer payment patterns\n    // For now, use defaults by payer type\n    return this.defaultCollectionProbability[claim.payer_type]\n      || this.defaultCollectionProbability.DEFAULT;\n  }\n\n  /**\n   * Update accrual when payment is received\n   */\n  async updateAccrualFromPayment(claimId, paymentAmount, eraPaymentId, userId = null) {\n    const [accrual] = await db.select()\n      .from(revenue_accruals)\n      .where(eq(revenue_accruals.claim_id, claimId))\n      .limit(1);\n\n    if (!accrual) {\n      throw new Error(`Accrual not found for claim: ${claimId}`);\n    }\n\n    // Update collected amount\n    const newCollectedAmount = (accrual.collected_amount || 0) + paymentAmount;\n\n    await db.update(revenue_accruals)\n      .set({\n        collected_amount: newCollectedAmount,\n        recognition_status: newCollectedAmount >= accrual.accrued_amount ? 'COLLECTED' : 'PARTIALLY_COLLECTED',\n        updated_at: new Date()\n      })\n      .where(eq(revenue_accruals.id, accrual.id));\n\n    // If payment is less than expected, create adjustment\n    if (paymentAmount < accrual.expected_reimbursement) {\n      const adjustmentAmount = paymentAmount - accrual.expected_reimbursement;\n\n      await this.createAdjustment({\n        accrualId: accrual.id,\n        claimId,\n        adjustmentType: 'CONTRACTUAL',\n        adjustmentAmount,\n        reason: 'Contractual adjustment from ERA payment',\n        sourceType: 'ERA',\n        eraPaymentId,\n        userId\n      });\n    }\n  }\n\n  /**\n   * Create revenue adjustment\n   */\n  async createAdjustment(adjustmentData) {\n    const {\n      accrualId,\n      claimId,\n      adjustmentType,\n      adjustmentAmount,\n      reason,\n      sourceType = 'MANUAL',\n      sourceReferenceId = null,\n      denialId = null,\n      appealId = null,\n      eraPaymentId = null,\n      impactsCurrentPeriod = true,\n      requiresApproval = false,\n      userId = null\n    } = adjustmentData;\n\n    // Get accrual to determine period\n    const [accrual] = await db.select()\n      .from(revenue_accruals)\n      .where(eq(revenue_accruals.id, accrualId))\n      .limit(1);\n\n    const periodImpacted = impactsCurrentPeriod\n      ? accrual.revenue_period\n      : new Date().toISOString().substring(0, 7);\n\n    const [adjustment] = await db.insert(revenue_adjustments)\n      .values({\n        accrual_id: accrualId,\n        claim_id: claimId,\n        adjustment_date: new Date(),\n        adjustment_type: adjustmentType,\n        adjustment_amount: adjustmentAmount,\n        reason,\n        source_type: sourceType,\n        source_reference_id: sourceReferenceId,\n        denial_id: denialId,\n        appeal_id: appealId,\n        era_payment_id: eraPaymentId,\n        impacts_current_period: impactsCurrentPeriod,\n        period_impacted: periodImpacted,\n        requires_approval: requiresApproval,\n        approved: !requiresApproval, // Auto-approve if not required\n        created_by_id: userId\n      })\n      .returning();\n\n    // Update accrual adjusted amount\n    const newAdjustedAmount = (accrual.adjusted_amount || 0) + adjustmentAmount;\n    await db.update(revenue_accruals)\n      .set({\n        adjusted_amount: newAdjustedAmount,\n        updated_at: new Date()\n      })\n      .where(eq(revenue_accruals.id, accrualId));\n\n    return adjustment;\n  }\n\n  /**\n   * Write off uncollectible balance\n   */\n  async writeOffBalance(accrualId, writeOffAmount, reason, userId) {\n    const [accrual] = await db.select()\n      .from(revenue_accruals)\n      .where(eq(revenue_accruals.id, accrualId))\n      .limit(1);\n\n    if (!accrual) {\n      throw new Error(`Accrual not found: ${accrualId}`);\n    }\n\n    // Create write-off adjustment\n    await this.createAdjustment({\n      accrualId,\n      claimId: accrual.claim_id,\n      adjustmentType: 'WRITE_OFF',\n      adjustmentAmount: -writeOffAmount, // Negative to reduce revenue\n      reason,\n      sourceType: 'MANUAL',\n      requiresApproval: writeOffAmount > 100000, // Require approval for write-offs over $1000\n      userId\n    });\n\n    // Update accrual\n    const newWrittenOffAmount = (accrual.written_off_amount || 0) + writeOffAmount;\n    await db.update(revenue_accruals)\n      .set({\n        written_off_amount: newWrittenOffAmount,\n        recognition_status: 'WRITTEN_OFF',\n        updated_at: new Date()\n      })\n      .where(eq(revenue_accruals.id, accrualId));\n  }\n\n  /**\n   * Close revenue period (monthly/quarterly close)\n   */\n  async closePeriod(periodLabel, periodType = 'MONTHLY', userId) {\n    // Calculate period dates\n    const { periodStart, periodEnd, fiscalYear, fiscalQuarter } = this.parsePeriodLabel(periodLabel, periodType);\n\n    // Get all accruals for period\n    const accruals = await db.select()\n      .from(revenue_accruals)\n      .where(eq(revenue_accruals.revenue_period, periodLabel));\n\n    // Calculate totals\n    const totals = accruals.reduce((acc, accrual) => {\n      acc.totalBilled += accrual.billed_amount || 0;\n      acc.totalAccrued += accrual.accrued_amount || 0;\n      acc.totalCollected += accrual.collected_amount || 0;\n      acc.totalWrittenOff += accrual.written_off_amount || 0;\n      acc.totalAdjusted += accrual.adjusted_amount || 0;\n      return acc;\n    }, {\n      totalBilled: 0,\n      totalAccrued: 0,\n      totalCollected: 0,\n      totalWrittenOff: 0,\n      totalAdjusted: 0\n    });\n\n    const netRevenue = totals.totalAccrued + totals.totalAdjusted - totals.totalWrittenOff;\n\n    // Get AR aging\n    const arAging = await this.calculateARAging(periodEnd);\n\n    // Calculate DSO\n    const dso = await this.calculateDSO(periodLabel);\n\n    // Create or update period record\n    const [period] = await db.insert(revenue_recognition_periods)\n      .values({\n        period_type: periodType,\n        period_start: periodStart,\n        period_end: periodEnd,\n        period_label: periodLabel,\n        fiscal_year: fiscalYear,\n        fiscal_quarter: fiscalQuarter,\n        status: 'CLOSED',\n        closed_date: new Date(),\n        closed_by_id: userId,\n        total_billed: totals.totalBilled,\n        total_accrued: totals.totalAccrued,\n        total_collected: totals.totalCollected,\n        total_written_off: totals.totalWrittenOff,\n        total_adjustments: totals.totalAdjusted,\n        net_revenue: netRevenue,\n        total_claims: accruals.length,\n        days_sales_outstanding: dso,\n        ar_aging_0_30: arAging.aging_0_30,\n        ar_aging_31_60: arAging.aging_31_60,\n        ar_aging_61_90: arAging.aging_61_90,\n        ar_aging_91_120: arAging.aging_91_120,\n        ar_aging_over_120: arAging.aging_over_120,\n        ending_ar: arAging.total_ar\n      })\n      .returning();\n\n    return period;\n  }\n\n  /**\n   * Calculate AR aging buckets\n   */\n  async calculateARAging(asOfDate) {\n    const asOf = new Date(asOfDate);\n\n    // Get all outstanding accruals\n    const accruals = await db.select()\n      .from(revenue_accruals)\n      .where(\n        and(\n          sql`${revenue_accruals.accrued_amount} > ${revenue_accruals.collected_amount} + ${revenue_accruals.written_off_amount}`,\n          lte(revenue_accruals.service_date_from, asOf)\n        )\n      );\n\n    const aging = {\n      aging_0_30: 0,\n      aging_31_60: 0,\n      aging_61_90: 0,\n      aging_91_120: 0,\n      aging_over_120: 0,\n      total_ar: 0\n    };\n\n    accruals.forEach(accrual => {\n      const outstandingBalance = accrual.accrued_amount - (accrual.collected_amount || 0) - (accrual.written_off_amount || 0);\n      const serviceDate = new Date(accrual.service_date_from);\n      const daysOld = Math.floor((asOf - serviceDate) / (1000 * 60 * 60 * 24));\n\n      if (daysOld <= 30) {\n        aging.aging_0_30 += outstandingBalance;\n      } else if (daysOld <= 60) {\n        aging.aging_31_60 += outstandingBalance;\n      } else if (daysOld <= 90) {\n        aging.aging_61_90 += outstandingBalance;\n      } else if (daysOld <= 120) {\n        aging.aging_91_120 += outstandingBalance;\n      } else {\n        aging.aging_over_120 += outstandingBalance;\n      }\n\n      aging.total_ar += outstandingBalance;\n    });\n\n    return aging;\n  }\n\n  /**\n   * Calculate Days Sales Outstanding (DSO)\n   */\n  async calculateDSO(periodLabel) {\n    // DSO = (Accounts Receivable / Total Revenue) Ã— Number of Days\n\n    const [period] = await db.select()\n      .from(revenue_recognition_periods)\n      .where(eq(revenue_recognition_periods.period_label, periodLabel))\n      .limit(1);\n\n    if (!period || !period.total_accrued) return null;\n\n    const daysInPeriod = 30; // Approximate for monthly\n    const ar = period.ending_ar || 0;\n    const revenue = period.total_accrued || 1; // Avoid division by zero\n\n    const dso = (ar / revenue) * daysInPeriod;\n    return Math.round(dso * 100) / 100; // Round to 2 decimals\n  }\n\n  /**\n   * Parse period label to get dates\n   */\n  parsePeriodLabel(periodLabel, periodType) {\n    let periodStart, periodEnd, fiscalYear, fiscalQuarter;\n\n    if (periodType === 'MONTHLY') {\n      // Format: YYYY-MM\n      const [year, month] = periodLabel.split('-').map(Number);\n      periodStart = new Date(year, month - 1, 1);\n      periodEnd = new Date(year, month, 0); // Last day of month\n      fiscalYear = year;\n      fiscalQuarter = Math.ceil(month / 3);\n    } else if (periodType === 'QUARTERLY') {\n      // Format: YYYY-Q1\n      const [year, quarter] = periodLabel.split('-Q').map(Number);\n      const startMonth = (quarter - 1) * 3;\n      periodStart = new Date(year, startMonth, 1);\n      periodEnd = new Date(year, startMonth + 3, 0);\n      fiscalYear = year;\n      fiscalQuarter = quarter;\n    }\n\n    return { periodStart, periodEnd, fiscalYear, fiscalQuarter };\n  }\n\n  /**\n   * Get accruals for a period\n   */\n  async getAccrualsForPeriod(periodLabel, filters = {}) {\n    let query = db.select()\n      .from(revenue_accruals)\n      .where(eq(revenue_accruals.revenue_period, periodLabel));\n\n    if (filters.payerId) {\n      query = query.where(eq(revenue_accruals.payer_id, filters.payerId));\n    }\n\n    if (filters.status) {\n      query = query.where(eq(revenue_accruals.recognition_status, filters.status));\n    }\n\n    const accruals = await query.orderBy(desc(revenue_accruals.accrual_date));\n\n    return accruals;\n  }\n\n  /**\n   * Get revenue summary\n   */\n  async getRevenueSummary(startDate, endDate) {\n    const summary = await db.select({\n      totalBilled: sql`SUM(${revenue_accruals.billed_amount})::bigint`,\n      totalAccrued: sql`SUM(${revenue_accruals.accrued_amount})::bigint`,\n      totalCollected: sql`SUM(${revenue_accruals.collected_amount})::bigint`,\n      totalAdjusted: sql`SUM(${revenue_accruals.adjusted_amount})::bigint`,\n      totalWrittenOff: sql`SUM(${revenue_accruals.written_off_amount})::bigint`,\n      totalClaims: sql`COUNT(*)::int`\n    })\n      .from(revenue_accruals)\n      .where(\n        and(\n          gte(revenue_accruals.service_date_from, startDate),\n          lte(revenue_accruals.service_date_from, endDate)\n        )\n      );\n\n    const result = summary[0];\n    return {\n      ...result,\n      netRevenue: (result.totalAccrued || 0) + (result.totalAdjusted || 0) - (result.totalWrittenOff || 0)\n    };\n  }\n}\n\nexport default new RevenueAccrualService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA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","ignoreList":[]}