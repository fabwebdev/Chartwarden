{"version":3,"names":["cov_26ej129f3j","actualCoverage","pgTable","bigint","varchar","timestamp","index","patients","s","id","mode","primaryKey","generatedByDefaultAsIdentity","first_name","length","last_name","middle_name","mi","preferred_name","suffix","date_of_birth","gender","marital_status","preferred_language","ssn","medicare_beneficiary_id","medicaid_id","medical_record_number","email","primary_phone","emergency_contact_name","emergency_contact_phone","emergency_contact_relationship","oxygen_dependent","patient_consents","hipaa_received","veterans_status","dme_provider","patient_pharmacy_id","primary_diagnosis_id","race_ethnicity_id","liaison_primary_id","liaison_secondary_id","dnr_id","emergency_preparedness_level_id","patient_identifier_id","status","default","deleted_at","createdAt","defaultNow","notNull","updatedAt","table","f","lastNameIdx","on","firstNameIdx","dobIdx","mbiIdx","mrnIdx","statusIdx","deletedAtIdx"],"sources":["patient.schema.js"],"sourcesContent":["import { pgTable, bigint, varchar, timestamp, index } from 'drizzle-orm/pg-core';\n\nexport const patients = pgTable('patients', {\n  id: bigint('id', { mode: 'number' }).primaryKey().generatedByDefaultAsIdentity(),\n\n  // Name fields\n  first_name: varchar('first_name', { length: 255 }),\n  last_name: varchar('last_name', { length: 255 }),\n  middle_name: varchar('middle_name', { length: 255 }),\n  mi: varchar('mi', { length: 255 }), // Middle Initial\n  preferred_name: varchar('preferred_name', { length: 255 }),\n  suffix: varchar('suffix', { length: 255 }), // Name suffix (Jr., Sr., III, etc.)\n\n  // Basic demographics\n  date_of_birth: varchar('date_of_birth', { length: 255 }),\n  gender: varchar('gender', { length: 255 }),\n  marital_status: varchar('marital_status', { length: 50 }),\n  preferred_language: varchar('preferred_language', { length: 100 }),\n\n  // Identifiers (sensitive PII)\n  ssn: varchar('ssn', { length: 255 }), // Social Security Number - sensitive PII\n  medicare_beneficiary_id: varchar('medicare_beneficiary_id', { length: 50 }), // MBI for hospice billing\n  medicaid_id: varchar('medicaid_id', { length: 50 }), // For dual-eligible patients\n  medical_record_number: varchar('medical_record_number', { length: 100 }), // Internal identifier\n\n  // Contact information (direct patient contact)\n  email: varchar('email', { length: 255 }),\n  primary_phone: varchar('primary_phone', { length: 50 }),\n\n  // Emergency contact (quick reference)\n  emergency_contact_name: varchar('emergency_contact_name', { length: 255 }),\n  emergency_contact_phone: varchar('emergency_contact_phone', { length: 50 }),\n  emergency_contact_relationship: varchar('emergency_contact_relationship', { length: 100 }),\n\n  // HIPAA and consent flags (stored as bigint: 0/1)\n  oxygen_dependent: bigint('oxygen_dependent', { mode: 'number' }), // Boolean as number (0/1) - Patient requires oxygen therapy\n  patient_consents: bigint('patient_consents', { mode: 'number' }), // Boolean as number (0/1) - Patient has given consent\n  hipaa_received: bigint('hipaa_received', { mode: 'number' }), // Boolean as number (0/1) - HIPAA documents received\n  veterans_status: bigint('veterans_status', { mode: 'number' }), // Boolean as number (0/1) - Veterans status (yes/no)\n\n  // DME (Durable Medical Equipment)\n  dme_provider: varchar('dme_provider', { length: 255 }), // DME equipment type: none, wheelchair, oxygen, bed, over bed table, pressure mattress\n\n  // Foreign keys to related tables\n  patient_pharmacy_id: bigint('patient_pharmacy_id', { mode: 'number' }),\n  primary_diagnosis_id: bigint('primary_diagnosis_id', { mode: 'number' }),\n  race_ethnicity_id: bigint('race_ethnicity_id', { mode: 'number' }),\n  liaison_primary_id: bigint('liaison_primary_id', { mode: 'number' }),\n  liaison_secondary_id: bigint('liaison_secondary_id', { mode: 'number' }),\n  dnr_id: bigint('dnr_id', { mode: 'number' }),\n  emergency_preparedness_level_id: bigint('emergency_preparedness_level_id', { mode: 'number' }),\n  patient_identifier_id: bigint('patient_identifier_id', { mode: 'number' }),\n\n  // Status and soft delete\n  status: varchar('status', { length: 50 }).default('active'), // active, inactive, discharged, deceased\n  deleted_at: timestamp('deleted_at'), // Soft delete timestamp\n\n  // Timestamps\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull(),\n}, (table) => ({\n  // Indexes for commonly searched fields\n  lastNameIdx: index('idx_patients_last_name').on(table.last_name),\n  firstNameIdx: index('idx_patients_first_name').on(table.first_name),\n  dobIdx: index('idx_patients_date_of_birth').on(table.date_of_birth),\n  mbiIdx: index('idx_patients_medicare_beneficiary_id').on(table.medicare_beneficiary_id),\n  mrnIdx: index('idx_patients_medical_record_number').on(table.medical_record_number),\n  statusIdx: index('idx_patients_status').on(table.status),\n  deletedAtIdx: index('idx_patients_deleted_at').on(table.deleted_at),\n}));"],"mappings":"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","ignoreList":[]}