d48036a200f0cb1b1267fce1e2dab360
/* istanbul ignore next */
function cov_re7ylni20() {
  var path = "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/services/CacheService.js";
  var hash = "0b4932cfe89c392764638630c65f0aa593e5d634";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/fabrice/Sites/chartwarden/Chartwarden/services/api/src/services/CacheService.js",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 19
        },
        end: {
          line: 7,
          column: 23
        }
      },
      "1": {
        start: {
          line: 11,
          column: 8
        },
        end: {
          line: 11,
          column: 26
        }
      },
      "2": {
        start: {
          line: 12,
          column: 8
        },
        end: {
          line: 12,
          column: 42
        }
      },
      "3": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 54
        }
      },
      "4": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 41
        }
      },
      "5": {
        start: {
          line: 15,
          column: 8
        },
        end: {
          line: 15,
          column: 30
        }
      },
      "6": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 20
        }
      },
      "7": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 77,
          column: 9
        }
      },
      "8": {
        start: {
          line: 26,
          column: 16
        },
        end: {
          line: 29,
          column: 19
        }
      },
      "9": {
        start: {
          line: 30,
          column: 16
        },
        end: {
          line: 30,
          column: 22
        }
      },
      "10": {
        start: {
          line: 34,
          column: 16
        },
        end: {
          line: 34,
          column: 69
        }
      },
      "11": {
        start: {
          line: 35,
          column: 16
        },
        end: {
          line: 35,
          column: 45
        }
      },
      "12": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 36,
          column: 22
        }
      },
      "13": {
        start: {
          line: 39,
          column: 16
        },
        end: {
          line: 64,
          column: 17
        }
      },
      "14": {
        start: {
          line: 41,
          column: 35
        },
        end: {
          line: 41,
          column: 68
        }
      },
      "15": {
        start: {
          line: 42,
          column: 20
        },
        end: {
          line: 42,
          column: 50
        }
      },
      "16": {
        start: {
          line: 45,
          column: 40
        },
        end: {
          line: 45,
          column: 72
        }
      },
      "17": {
        start: {
          line: 46,
          column: 20
        },
        end: {
          line: 55,
          column: 21
        }
      },
      "18": {
        start: {
          line: 47,
          column: 24
        },
        end: {
          line: 47,
          column: 45
        }
      },
      "19": {
        start: {
          line: 48,
          column: 24
        },
        end: {
          line: 48,
          column: 72
        }
      },
      "20": {
        start: {
          line: 50,
          column: 24
        },
        end: {
          line: 50,
          column: 103
        }
      },
      "21": {
        start: {
          line: 51,
          column: 24
        },
        end: {
          line: 54,
          column: 27
        }
      },
      "22": {
        start: {
          line: 57,
          column: 20
        },
        end: {
          line: 59,
          column: 23
        }
      },
      "23": {
        start: {
          line: 60,
          column: 20
        },
        end: {
          line: 63,
          column: 23
        }
      },
      "24": {
        start: {
          line: 65,
          column: 16
        },
        end: {
          line: 65,
          column: 22
        }
      },
      "25": {
        start: {
          line: 70,
          column: 16
        },
        end: {
          line: 75,
          column: 18
        }
      },
      "26": {
        start: {
          line: 71,
          column: 31
        },
        end: {
          line: 71,
          column: 36
        }
      },
      "27": {
        start: {
          line: 72,
          column: 31
        },
        end: {
          line: 72,
          column: 40
        }
      },
      "28": {
        start: {
          line: 73,
          column: 31
        },
        end: {
          line: 73,
          column: 36
        }
      },
      "29": {
        start: {
          line: 76,
          column: 16
        },
        end: {
          line: 76,
          column: 22
        }
      },
      "30": {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 39
        }
      },
      "31": {
        start: {
          line: 97,
          column: 25
        },
        end: {
          line: 97,
          column: 46
        }
      },
      "32": {
        start: {
          line: 99,
          column: 8
        },
        end: {
          line: 101,
          column: 9
        }
      },
      "33": {
        start: {
          line: 100,
          column: 12
        },
        end: {
          line: 100,
          column: 64
        }
      },
      "34": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 52
        }
      },
      "35": {
        start: {
          line: 112,
          column: 25
        },
        end: {
          line: 112,
          column: 46
        }
      },
      "36": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 116,
          column: 9
        }
      },
      "37": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 115,
          column: 52
        }
      },
      "38": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 118,
          column: 40
        }
      },
      "39": {
        start: {
          line: 127,
          column: 25
        },
        end: {
          line: 127,
          column: 46
        }
      },
      "40": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 131,
          column: 9
        }
      },
      "41": {
        start: {
          line: 130,
          column: 12
        },
        end: {
          line: 130,
          column: 52
        }
      },
      "42": {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 133,
          column: 44
        }
      },
      "43": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 144,
          column: 9
        }
      },
      "44": {
        start: {
          line: 142,
          column: 28
        },
        end: {
          line: 142,
          column: 60
        }
      },
      "45": {
        start: {
          line: 143,
          column: 12
        },
        end: {
          line: 143,
          column: 31
        }
      },
      "46": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 30
        }
      },
      "47": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 147,
          column: 20
        }
      },
      "48": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 161,
          column: 9
        }
      },
      "49": {
        start: {
          line: 156,
          column: 32
        },
        end: {
          line: 156,
          column: 64
        }
      },
      "50": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 160,
          column: 14
        }
      },
      "51": {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 168,
          column: 9
        }
      },
      "52": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 167,
          column: 14
        }
      },
      "53": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 170,
          column: 39
        }
      },
      "54": {
        start: {
          line: 179,
          column: 25
        },
        end: {
          line: 179,
          column: 46
        }
      },
      "55": {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 183,
          column: 9
        }
      },
      "56": {
        start: {
          line: 182,
          column: 12
        },
        end: {
          line: 182,
          column: 55
        }
      },
      "57": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 185,
          column: 40
        }
      },
      "58": {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 193,
          column: 53
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 10,
            column: 4
          },
          end: {
            line: 10,
            column: 5
          }
        },
        loc: {
          start: {
            line: 10,
            column: 18
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 23,
            column: 5
          }
        },
        loc: {
          start: {
            line: 23,
            column: 17
          },
          end: {
            line: 78,
            column: 5
          }
        },
        line: 23
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 71,
            column: 25
          },
          end: {
            line: 71,
            column: 26
          }
        },
        loc: {
          start: {
            line: 71,
            column: 31
          },
          end: {
            line: 71,
            column: 36
          }
        },
        line: 71
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 72,
            column: 25
          },
          end: {
            line: 72,
            column: 26
          }
        },
        loc: {
          start: {
            line: 72,
            column: 31
          },
          end: {
            line: 72,
            column: 40
          }
        },
        line: 72
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 73,
            column: 25
          },
          end: {
            line: 73,
            column: 26
          }
        },
        loc: {
          start: {
            line: 73,
            column: 31
          },
          end: {
            line: 73,
            column: 36
          }
        },
        line: 73
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 74,
            column: 30
          },
          end: {
            line: 74,
            column: 31
          }
        },
        loc: {
          start: {
            line: 74,
            column: 36
          },
          end: {
            line: 74,
            column: 38
          }
        },
        line: 74
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 85,
            column: 4
          },
          end: {
            line: 85,
            column: 5
          }
        },
        loc: {
          start: {
            line: 85,
            column: 21
          },
          end: {
            line: 87,
            column: 5
          }
        },
        line: 85
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 96,
            column: 4
          },
          end: {
            line: 96,
            column: 5
          }
        },
        loc: {
          start: {
            line: 96,
            column: 31
          },
          end: {
            line: 104,
            column: 5
          }
        },
        line: 96
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 111,
            column: 4
          },
          end: {
            line: 111,
            column: 5
          }
        },
        loc: {
          start: {
            line: 111,
            column: 19
          },
          end: {
            line: 119,
            column: 5
          }
        },
        line: 111
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 126,
            column: 5
          }
        },
        loc: {
          start: {
            line: 126,
            column: 19
          },
          end: {
            line: 134,
            column: 5
          }
        },
        line: 126
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 140,
            column: 4
          },
          end: {
            line: 140,
            column: 5
          }
        },
        loc: {
          start: {
            line: 140,
            column: 18
          },
          end: {
            line: 148,
            column: 5
          }
        },
        line: 140
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 154,
            column: 4
          },
          end: {
            line: 154,
            column: 5
          }
        },
        loc: {
          start: {
            line: 154,
            column: 18
          },
          end: {
            line: 171,
            column: 5
          }
        },
        line: 154
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 178,
            column: 4
          },
          end: {
            line: 178,
            column: 5
          }
        },
        loc: {
          start: {
            line: 178,
            column: 22
          },
          end: {
            line: 186,
            column: 5
          }
        },
        line: 178
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 192,
            column: 4
          },
          end: {
            line: 192,
            column: 5
          }
        },
        loc: {
          start: {
            line: 192,
            column: 16
          },
          end: {
            line: 194,
            column: 5
          }
        },
        line: 192
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 24,
            column: 8
          },
          end: {
            line: 77,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 30,
            column: 22
          }
        }, {
          start: {
            line: 32,
            column: 12
          },
          end: {
            line: 36,
            column: 22
          }
        }, {
          start: {
            line: 38,
            column: 12
          },
          end: {
            line: 65,
            column: 22
          }
        }, {
          start: {
            line: 67,
            column: 12
          },
          end: {
            line: 67,
            column: 24
          }
        }, {
          start: {
            line: 68,
            column: 12
          },
          end: {
            line: 76,
            column: 22
          }
        }],
        line: 24
      },
      "1": {
        loc: {
          start: {
            line: 46,
            column: 20
          },
          end: {
            line: 55,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 20
          },
          end: {
            line: 55,
            column: 21
          }
        }, {
          start: {
            line: 49,
            column: 27
          },
          end: {
            line: 55,
            column: 21
          }
        }],
        line: 46
      },
      "2": {
        loc: {
          start: {
            line: 52,
            column: 36
          },
          end: {
            line: 52,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 52,
            column: 36
          },
          end: {
            line: 52,
            column: 51
          }
        }, {
          start: {
            line: 52,
            column: 55
          },
          end: {
            line: 52,
            column: 58
          }
        }],
        line: 52
      },
      "3": {
        loc: {
          start: {
            line: 61,
            column: 32
          },
          end: {
            line: 61,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 61,
            column: 32
          },
          end: {
            line: 61,
            column: 47
          }
        }, {
          start: {
            line: 61,
            column: 51
          },
          end: {
            line: 61,
            column: 54
          }
        }],
        line: 61
      },
      "4": {
        loc: {
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 101,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 101,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "5": {
        loc: {
          start: {
            line: 99,
            column: 12
          },
          end: {
            line: 99,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 12
          },
          end: {
            line: 99,
            column: 25
          }
        }, {
          start: {
            line: 99,
            column: 29
          },
          end: {
            line: 99,
            column: 41
          }
        }],
        line: 99
      },
      "6": {
        loc: {
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 114
      },
      "7": {
        loc: {
          start: {
            line: 114,
            column: 12
          },
          end: {
            line: 114,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 114,
            column: 12
          },
          end: {
            line: 114,
            column: 25
          }
        }, {
          start: {
            line: 114,
            column: 29
          },
          end: {
            line: 114,
            column: 41
          }
        }],
        line: 114
      },
      "8": {
        loc: {
          start: {
            line: 129,
            column: 8
          },
          end: {
            line: 131,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 129,
            column: 8
          },
          end: {
            line: 131,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 129
      },
      "9": {
        loc: {
          start: {
            line: 129,
            column: 12
          },
          end: {
            line: 129,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 129,
            column: 12
          },
          end: {
            line: 129,
            column: 25
          }
        }, {
          start: {
            line: 129,
            column: 29
          },
          end: {
            line: 129,
            column: 41
          }
        }],
        line: 129
      },
      "10": {
        loc: {
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 144,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 144,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 141
      },
      "11": {
        loc: {
          start: {
            line: 141,
            column: 12
          },
          end: {
            line: 141,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 141,
            column: 12
          },
          end: {
            line: 141,
            column: 25
          }
        }, {
          start: {
            line: 141,
            column: 29
          },
          end: {
            line: 141,
            column: 41
          }
        }],
        line: 141
      },
      "12": {
        loc: {
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 161,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 161,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 155
      },
      "13": {
        loc: {
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 25
          }
        }, {
          start: {
            line: 155,
            column: 29
          },
          end: {
            line: 155,
            column: 41
          }
        }],
        line: 155
      },
      "14": {
        loc: {
          start: {
            line: 163,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 163,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 163
      },
      "15": {
        loc: {
          start: {
            line: 181,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 181
      },
      "16": {
        loc: {
          start: {
            line: 181,
            column: 12
          },
          end: {
            line: 181,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 181,
            column: 12
          },
          end: {
            line: 181,
            column: 25
          }
        }, {
          start: {
            line: 181,
            column: 29
          },
          end: {
            line: 181,
            column: 41
          }
        }],
        line: 181
      },
      "17": {
        loc: {
          start: {
            line: 193,
            column: 15
          },
          end: {
            line: 193,
            column: 52
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 193,
            column: 31
          },
          end: {
            line: 193,
            column: 38
          }
        }, {
          start: {
            line: 193,
            column: 41
          },
          end: {
            line: 193,
            column: 52
          }
        }],
        line: 193
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    b: {
      "0": [0, 0, 0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0]
    },
    inputSourceMap: null,
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "0b4932cfe89c392764638630c65f0aa593e5d634"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_re7ylni20 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_re7ylni20();
import NodeCache from 'node-cache';
import cacheConfig from '../config/cache.config.js';
import { logger } from '../utils/logger.js';

// Redis service will be lazy-loaded when needed
let redisService =
/* istanbul ignore next */
(cov_re7ylni20().s[0]++, null);
class CacheService {
  constructor() {
    /* istanbul ignore next */
    cov_re7ylni20().f[0]++;
    cov_re7ylni20().s[1]++;
    this.cache = null;
    /* istanbul ignore next */
    cov_re7ylni20().s[2]++;
    this.driver = cacheConfig.default;
    /* istanbul ignore next */
    cov_re7ylni20().s[3]++;
    this.config = cacheConfig.stores[this.driver];
    /* istanbul ignore next */
    cov_re7ylni20().s[4]++;
    this.prefix = cacheConfig.prefix;
    /* istanbul ignore next */
    cov_re7ylni20().s[5]++;
    this.useRedis = false;
    /* istanbul ignore next */
    cov_re7ylni20().s[6]++;
    this.init();
  }

  /**
   * Initialize the cache based on the configured driver
   */
  async init() {
    /* istanbul ignore next */
    cov_re7ylni20().f[1]++;
    cov_re7ylni20().s[7]++;
    switch (this.driver) {
      case 'memory':
        /* istanbul ignore next */
        cov_re7ylni20().b[0][0]++;
        cov_re7ylni20().s[8]++;
        this.cache = new NodeCache({
          stdTTL: this.config.ttl,
          maxKeys: this.config.max
        });
        /* istanbul ignore next */
        cov_re7ylni20().s[9]++;
        break;
      case 'file':
        /* istanbul ignore next */
        cov_re7ylni20().b[0][1]++;
        cov_re7ylni20().s[10]++;
        // File-based caching would require additional implementation
        logger.warn('File-based caching not yet implemented');
        /* istanbul ignore next */
        cov_re7ylni20().s[11]++;
        this.cache = new NodeCache();
        /* istanbul ignore next */
        cov_re7ylni20().s[12]++;
        break;
      case 'redis':
        /* istanbul ignore next */
        cov_re7ylni20().b[0][2]++;
        cov_re7ylni20().s[13]++;
        try {
          // Lazy load Redis service
          const module =
          /* istanbul ignore next */
          (cov_re7ylni20().s[14]++, await import('./RedisService.js'));
          /* istanbul ignore next */
          cov_re7ylni20().s[15]++;
          redisService = module.default;

          // Test Redis connection
          const isConnected =
          /* istanbul ignore next */
          (cov_re7ylni20().s[16]++, await redisService.isConnected());
          /* istanbul ignore next */
          cov_re7ylni20().s[17]++;
          if (isConnected) {
            /* istanbul ignore next */
            cov_re7ylni20().b[1][0]++;
            cov_re7ylni20().s[18]++;
            this.useRedis = true;
            /* istanbul ignore next */
            cov_re7ylni20().s[19]++;
            logger.info('CacheService: Using Redis driver');
          } else {
            /* istanbul ignore next */
            cov_re7ylni20().b[1][1]++;
            cov_re7ylni20().s[20]++;
            logger.warn('CacheService: Redis not available, falling back to memory cache');
            /* istanbul ignore next */
            cov_re7ylni20().s[21]++;
            this.cache = new NodeCache({
              stdTTL:
              /* istanbul ignore next */
              (cov_re7ylni20().b[2][0]++, this.config.ttl) ||
              /* istanbul ignore next */
              (cov_re7ylni20().b[2][1]++, 600),
              maxKeys: 100
            });
          }
        } catch (error) {
          /* istanbul ignore next */
          cov_re7ylni20().s[22]++;
          logger.warn('CacheService: Redis driver failed to initialize, falling back to memory cache', {
            error: error.message
          });
          /* istanbul ignore next */
          cov_re7ylni20().s[23]++;
          this.cache = new NodeCache({
            stdTTL:
            /* istanbul ignore next */
            (cov_re7ylni20().b[3][0]++, this.config.ttl) ||
            /* istanbul ignore next */
            (cov_re7ylni20().b[3][1]++, 600),
            maxKeys: 100
          });
        }
        /* istanbul ignore next */
        cov_re7ylni20().s[24]++;
        break;
      case 'null':
        /* istanbul ignore next */
        cov_re7ylni20().b[0][3]++;
      default:
        /* istanbul ignore next */
        cov_re7ylni20().b[0][4]++;
        cov_re7ylni20().s[25]++;
        // No caching
        this.cache = {
          set: () => {
            /* istanbul ignore next */
            cov_re7ylni20().f[2]++;
            cov_re7ylni20().s[26]++;
            return false;
          },
          get: () => {
            /* istanbul ignore next */
            cov_re7ylni20().f[3]++;
            cov_re7ylni20().s[27]++;
            return undefined;
          },
          del: () => {
            /* istanbul ignore next */
            cov_re7ylni20().f[4]++;
            cov_re7ylni20().s[28]++;
            return false;
          },
          flushAll: () => {
            /* istanbul ignore next */
            cov_re7ylni20().f[5]++;
          }
        };
        /* istanbul ignore next */
        cov_re7ylni20().s[29]++;
        break;
    }
  }

  /**
   * Generate a prefixed cache key
   * @param {string} key - The cache key
   * @returns {string} The prefixed cache key
   */
  generateKey(key) {
    /* istanbul ignore next */
    cov_re7ylni20().f[6]++;
    cov_re7ylni20().s[30]++;
    return `${this.prefix}:${key}`;
  }

  /**
   * Store an item in the cache
   * @param {string} key - The cache key
   * @param {*} value - The value to cache
   * @param {number} ttl - Time to live in seconds (optional)
   * @returns {Promise<boolean>} Success status
   */
  async set(key, value, ttl) {
    /* istanbul ignore next */
    cov_re7ylni20().f[7]++;
    const cacheKey =
    /* istanbul ignore next */
    (cov_re7ylni20().s[31]++, this.generateKey(key));
    /* istanbul ignore next */
    cov_re7ylni20().s[32]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[5][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[5][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[4][0]++;
      cov_re7ylni20().s[33]++;
      return await redisService.set(cacheKey, value, ttl);
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[4][1]++;
    }
    cov_re7ylni20().s[34]++;
    return this.cache.set(cacheKey, value, ttl);
  }

  /**
   * Retrieve an item from the cache
   * @param {string} key - The cache key
   * @returns {Promise<*>} The cached value or undefined/null
   */
  async get(key) {
    /* istanbul ignore next */
    cov_re7ylni20().f[8]++;
    const cacheKey =
    /* istanbul ignore next */
    (cov_re7ylni20().s[35]++, this.generateKey(key));
    /* istanbul ignore next */
    cov_re7ylni20().s[36]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[7][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[7][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[6][0]++;
      cov_re7ylni20().s[37]++;
      return await redisService.get(cacheKey);
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[6][1]++;
    }
    cov_re7ylni20().s[38]++;
    return this.cache.get(cacheKey);
  }

  /**
   * Delete an item from the cache
   * @param {string} key - The cache key
   * @returns {Promise<boolean>} Success status
   */
  async del(key) {
    /* istanbul ignore next */
    cov_re7ylni20().f[9]++;
    const cacheKey =
    /* istanbul ignore next */
    (cov_re7ylni20().s[39]++, this.generateKey(key));
    /* istanbul ignore next */
    cov_re7ylni20().s[40]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[9][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[9][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[8][0]++;
      cov_re7ylni20().s[41]++;
      return await redisService.del(cacheKey);
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[8][1]++;
    }
    cov_re7ylni20().s[42]++;
    return this.cache.del(cacheKey) > 0;
  }

  /**
   * Flush all cached items
   * @returns {Promise<boolean>} Success status
   */
  async flush() {
    /* istanbul ignore next */
    cov_re7ylni20().f[10]++;
    cov_re7ylni20().s[43]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[11][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[11][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[10][0]++;
      const deleted =
      /* istanbul ignore next */
      (cov_re7ylni20().s[44]++, await redisService.flushPrefix());
      /* istanbul ignore next */
      cov_re7ylni20().s[45]++;
      return deleted > 0;
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[10][1]++;
    }
    cov_re7ylni20().s[46]++;
    this.cache.flushAll();
    /* istanbul ignore next */
    cov_re7ylni20().s[47]++;
    return true;
  }

  /**
   * Get cache statistics
   * @returns {Promise<Object>} Cache statistics
   */
  async stats() {
    /* istanbul ignore next */
    cov_re7ylni20().f[11]++;
    cov_re7ylni20().s[48]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[13][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[13][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[12][0]++;
      const healthCheck =
      /* istanbul ignore next */
      (cov_re7ylni20().s[49]++, await redisService.healthCheck());
      /* istanbul ignore next */
      cov_re7ylni20().s[50]++;
      return {
        driver: 'redis',
        ...healthCheck
      };
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[12][1]++;
    }
    cov_re7ylni20().s[51]++;
    if (this.cache.getStats) {
      /* istanbul ignore next */
      cov_re7ylni20().b[14][0]++;
      cov_re7ylni20().s[52]++;
      return {
        driver: this.driver,
        ...this.cache.getStats()
      };
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[14][1]++;
    }
    cov_re7ylni20().s[53]++;
    return {
      driver: this.driver
    };
  }

  /**
   * Check if cache key exists
   * @param {string} key - The cache key
   * @returns {Promise<boolean>} Exists status
   */
  async exists(key) {
    /* istanbul ignore next */
    cov_re7ylni20().f[12]++;
    const cacheKey =
    /* istanbul ignore next */
    (cov_re7ylni20().s[54]++, this.generateKey(key));
    /* istanbul ignore next */
    cov_re7ylni20().s[55]++;
    if (
    /* istanbul ignore next */
    (cov_re7ylni20().b[16][0]++, this.useRedis) &&
    /* istanbul ignore next */
    (cov_re7ylni20().b[16][1]++, redisService)) {
      /* istanbul ignore next */
      cov_re7ylni20().b[15][0]++;
      cov_re7ylni20().s[56]++;
      return await redisService.exists(cacheKey);
    } else
    /* istanbul ignore next */
    {
      cov_re7ylni20().b[15][1]++;
    }
    cov_re7ylni20().s[57]++;
    return this.cache.has(cacheKey);
  }

  /**
   * Get current driver name
   * @returns {string} Driver name
   */
  getDriver() {
    /* istanbul ignore next */
    cov_re7ylni20().f[13]++;
    cov_re7ylni20().s[58]++;
    return this.useRedis ?
    /* istanbul ignore next */
    (cov_re7ylni20().b[17][0]++, 'redis') :
    /* istanbul ignore next */
    (cov_re7ylni20().b[17][1]++, this.driver);
  }
}
export default new CacheService();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfcmU3eWxuaTIwIiwiYWN0dWFsQ292ZXJhZ2UiLCJOb2RlQ2FjaGUiLCJjYWNoZUNvbmZpZyIsImxvZ2dlciIsInJlZGlzU2VydmljZSIsInMiLCJDYWNoZVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImYiLCJjYWNoZSIsImRyaXZlciIsImRlZmF1bHQiLCJjb25maWciLCJzdG9yZXMiLCJwcmVmaXgiLCJ1c2VSZWRpcyIsImluaXQiLCJiIiwic3RkVFRMIiwidHRsIiwibWF4S2V5cyIsIm1heCIsIndhcm4iLCJtb2R1bGUiLCJpc0Nvbm5lY3RlZCIsImluZm8iLCJlcnJvciIsIm1lc3NhZ2UiLCJzZXQiLCJnZXQiLCJ1bmRlZmluZWQiLCJkZWwiLCJmbHVzaEFsbCIsImdlbmVyYXRlS2V5Iiwia2V5IiwidmFsdWUiLCJjYWNoZUtleSIsImZsdXNoIiwiZGVsZXRlZCIsImZsdXNoUHJlZml4Iiwic3RhdHMiLCJoZWFsdGhDaGVjayIsImdldFN0YXRzIiwiZXhpc3RzIiwiaGFzIiwiZ2V0RHJpdmVyIl0sInNvdXJjZXMiOlsiQ2FjaGVTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOb2RlQ2FjaGUgZnJvbSAnbm9kZS1jYWNoZSc7XG5pbXBvcnQgY2FjaGVDb25maWcgZnJvbSAnLi4vY29uZmlnL2NhY2hlLmNvbmZpZy5qcyc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5cbi8vIFJlZGlzIHNlcnZpY2Ugd2lsbCBiZSBsYXp5LWxvYWRlZCB3aGVuIG5lZWRlZFxubGV0IHJlZGlzU2VydmljZSA9IG51bGw7XG5cbmNsYXNzIENhY2hlU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRyaXZlciA9IGNhY2hlQ29uZmlnLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY2FjaGVDb25maWcuc3RvcmVzW3RoaXMuZHJpdmVyXTtcbiAgICAgICAgdGhpcy5wcmVmaXggPSBjYWNoZUNvbmZpZy5wcmVmaXg7XG4gICAgICAgIHRoaXMudXNlUmVkaXMgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjYWNoZSBiYXNlZCBvbiB0aGUgY29uZmlndXJlZCBkcml2ZXJcbiAgICAgKi9cbiAgICBhc3luYyBpbml0KCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZHJpdmVyKSB7XG4gICAgICAgICAgICBjYXNlICdtZW1vcnknOlxuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTm9kZUNhY2hlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RkVFRMOiB0aGlzLmNvbmZpZy50dGwsXG4gICAgICAgICAgICAgICAgICAgIG1heEtleXM6IHRoaXMuY29uZmlnLm1heFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdmaWxlJzpcbiAgICAgICAgICAgICAgICAvLyBGaWxlLWJhc2VkIGNhY2hpbmcgd291bGQgcmVxdWlyZSBhZGRpdGlvbmFsIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0ZpbGUtYmFzZWQgY2FjaGluZyBub3QgeWV0IGltcGxlbWVudGVkJylcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE5vZGVDYWNoZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdyZWRpcyc6XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGF6eSBsb2FkIFJlZGlzIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlID0gYXdhaXQgaW1wb3J0KCcuL1JlZGlzU2VydmljZS5qcycpO1xuICAgICAgICAgICAgICAgICAgICByZWRpc1NlcnZpY2UgPSBtb2R1bGUuZGVmYXVsdDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUZXN0IFJlZGlzIGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSBhd2FpdCByZWRpc1NlcnZpY2UuaXNDb25uZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZVJlZGlzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdDYWNoZVNlcnZpY2U6IFVzaW5nIFJlZGlzIGRyaXZlcicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0NhY2hlU2VydmljZTogUmVkaXMgbm90IGF2YWlsYWJsZSwgZmFsbGluZyBiYWNrIHRvIG1lbW9yeSBjYWNoZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBOb2RlQ2FjaGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFRUTDogdGhpcy5jb25maWcudHRsIHx8IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhLZXlzOiAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0NhY2hlU2VydmljZTogUmVkaXMgZHJpdmVyIGZhaWxlZCB0byBpbml0aWFsaXplLCBmYWxsaW5nIGJhY2sgdG8gbWVtb3J5IGNhY2hlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTm9kZUNhY2hlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZFRUTDogdGhpcy5jb25maWcudHRsIHx8IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEtleXM6IDEwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBObyBjYWNoaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiAoKSA9PiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGRlbDogKCkgPT4gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQWxsOiAoKSA9PiB7fVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBwcmVmaXhlZCBjYWNoZSBrZXlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGNhY2hlIGtleVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwcmVmaXhlZCBjYWNoZSBrZXlcbiAgICAgKi9cbiAgICBnZW5lcmF0ZUtleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMucHJlZml4fToke2tleX1gO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTdG9yZSBhbiBpdGVtIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgY2FjaGUga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0dGwgLSBUaW1lIHRvIGxpdmUgaW4gc2Vjb25kcyAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFN1Y2Nlc3Mgc3RhdHVzXG4gICAgICovXG4gICAgYXN5bmMgc2V0KGtleSwgdmFsdWUsIHR0bCkge1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuZ2VuZXJhdGVLZXkoa2V5KTtcblxuICAgICAgICBpZiAodGhpcy51c2VSZWRpcyAmJiByZWRpc1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZWRpc1NlcnZpY2Uuc2V0KGNhY2hlS2V5LCB2YWx1ZSwgdHRsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgdmFsdWUsIHR0bCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgY2FjaGUga2V5XG4gICAgICogQHJldHVybnMge1Byb21pc2U8Kj59IFRoZSBjYWNoZWQgdmFsdWUgb3IgdW5kZWZpbmVkL251bGxcbiAgICAgKi9cbiAgICBhc3luYyBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZUtleShrZXkpO1xuXG4gICAgICAgIGlmICh0aGlzLnVzZVJlZGlzICYmIHJlZGlzU2VydmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlZGlzU2VydmljZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gaXRlbSBmcm9tIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgY2FjaGUga2V5XG4gICAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFN1Y2Nlc3Mgc3RhdHVzXG4gICAgICovXG4gICAgYXN5bmMgZGVsKGtleSkge1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuZ2VuZXJhdGVLZXkoa2V5KTtcblxuICAgICAgICBpZiAodGhpcy51c2VSZWRpcyAmJiByZWRpc1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZWRpc1NlcnZpY2UuZGVsKGNhY2hlS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmRlbChjYWNoZUtleSkgPiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsdXNoIGFsbCBjYWNoZWQgaXRlbXNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gU3VjY2VzcyBzdGF0dXNcbiAgICAgKi9cbiAgICBhc3luYyBmbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlUmVkaXMgJiYgcmVkaXNTZXJ2aWNlKSB7XG4gICAgICAgICAgICBjb25zdCBkZWxldGVkID0gYXdhaXQgcmVkaXNTZXJ2aWNlLmZsdXNoUHJlZml4KCk7XG4gICAgICAgICAgICByZXR1cm4gZGVsZXRlZCA+IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlLmZsdXNoQWxsKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjYWNoZSBzdGF0aXN0aWNzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ2FjaGUgc3RhdGlzdGljc1xuICAgICAqL1xuICAgIGFzeW5jIHN0YXRzKCkge1xuICAgICAgICBpZiAodGhpcy51c2VSZWRpcyAmJiByZWRpc1NlcnZpY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWx0aENoZWNrID0gYXdhaXQgcmVkaXNTZXJ2aWNlLmhlYWx0aENoZWNrKCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRyaXZlcjogJ3JlZGlzJyxcbiAgICAgICAgICAgICAgICAuLi5oZWFsdGhDaGVja1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmdldFN0YXRzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRyaXZlcjogdGhpcy5kcml2ZXIsXG4gICAgICAgICAgICAgICAgLi4udGhpcy5jYWNoZS5nZXRTdGF0cygpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgZHJpdmVyOiB0aGlzLmRyaXZlciB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNhY2hlIGtleSBleGlzdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGNhY2hlIGtleVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBFeGlzdHMgc3RhdHVzXG4gICAgICovXG4gICAgYXN5bmMgZXhpc3RzKGtleSkge1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuZ2VuZXJhdGVLZXkoa2V5KTtcblxuICAgICAgICBpZiAodGhpcy51c2VSZWRpcyAmJiByZWRpc1NlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZWRpc1NlcnZpY2UuZXhpc3RzKGNhY2hlS2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmhhcyhjYWNoZUtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGN1cnJlbnQgZHJpdmVyIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBEcml2ZXIgbmFtZVxuICAgICAqL1xuICAgIGdldERyaXZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlUmVkaXMgPyAncmVkaXMnIDogdGhpcy5kcml2ZXI7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FjaGVTZXJ2aWNlKCk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFlWTtJQUFBQSxhQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxhQUFBO0FBZlosT0FBT0UsU0FBUyxNQUFNLFlBQVk7QUFDbEMs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