{"version":3,"names":["cov_sa34c8mxk","actualCoverage","controller","PERMISSIONS","requireAnyPermission","wongBakerFacesScaleRoutes","fastify","options","f","s","get","preHandler","VIEW_PATIENT","VIEW_CLINICAL_NOTES","getPatientAssessments","bind","post","CREATE_CLINICAL_NOTES","create","getPatientStats","getPatientTrend","getReference","index","show","patch","UPDATE_CLINICAL_NOTES","update","delete","DELETE_CLINICAL_NOTES","sign","amend"],"sources":["wongBakerFacesScale.routes.js"],"sourcesContent":["import controller from '../controllers/WongBakerFacesScale.controller.js';\nimport { PERMISSIONS } from '../config/rbac.js';\nimport { requireAnyPermission } from '../middleware/rbac.middleware.js';\n\n/**\n * Wong-Baker FACES Pain Rating Scale Routes\n * Visual pain assessment using 6-face scale\n * Designed for pediatric patients, adults with language barriers, and those who prefer visual scales\n */\nexport default async function wongBakerFacesScaleRoutes(fastify, options) {\n  // =========================================\n  // Patient-specific assessment routes\n  // =========================================\n\n  // Get all Wong-Baker FACES assessments for a patient\n  fastify.get('/patients/:patientId/wong-baker-faces-scales', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_PATIENT, PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getPatientAssessments.bind(controller));\n\n  // Create a new Wong-Baker FACES assessment for a patient\n  fastify.post('/patients/:patientId/wong-baker-faces-scales', {\n    preHandler: [requireAnyPermission(PERMISSIONS.CREATE_CLINICAL_NOTES)]\n  }, controller.create.bind(controller));\n\n  // Get Wong-Baker FACES assessment statistics for a patient\n  fastify.get('/patients/:patientId/wong-baker-faces-scales/stats', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_PATIENT, PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getPatientStats.bind(controller));\n\n  // Get Wong-Baker FACES score trend for a patient\n  fastify.get('/patients/:patientId/wong-baker-faces-scales/trend', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_PATIENT, PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getPatientTrend.bind(controller));\n\n  // =========================================\n  // Assessment management routes\n  // =========================================\n\n  // Get Wong-Baker FACES scoring reference (public within authenticated routes)\n  fastify.get('/wong-baker-faces-scales/reference', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.getReference.bind(controller));\n\n  // Get all Wong-Baker FACES assessments (with filters)\n  fastify.get('/wong-baker-faces-scales', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.index.bind(controller));\n\n  // Get a single Wong-Baker FACES assessment by ID\n  fastify.get('/wong-baker-faces-scales/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.VIEW_CLINICAL_NOTES)]\n  }, controller.show.bind(controller));\n\n  // Update a Wong-Baker FACES assessment\n  fastify.patch('/wong-baker-faces-scales/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.update.bind(controller));\n\n  // Delete a Wong-Baker FACES assessment\n  fastify.delete('/wong-baker-faces-scales/:id', {\n    preHandler: [requireAnyPermission(PERMISSIONS.DELETE_CLINICAL_NOTES)]\n  }, controller.delete.bind(controller));\n\n  // =========================================\n  // Signature and compliance routes (21 CFR Part 11)\n  // =========================================\n\n  // Sign a Wong-Baker FACES assessment\n  fastify.post('/wong-baker-faces-scales/:id/sign', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.sign.bind(controller));\n\n  // Amend a signed Wong-Baker FACES assessment\n  fastify.post('/wong-baker-faces-scales/:id/amend', {\n    preHandler: [requireAnyPermission(PERMISSIONS.UPDATE_CLINICAL_NOTES)]\n  }, controller.amend.bind(controller));\n}\n"],"mappings":"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","ignoreList":[]}