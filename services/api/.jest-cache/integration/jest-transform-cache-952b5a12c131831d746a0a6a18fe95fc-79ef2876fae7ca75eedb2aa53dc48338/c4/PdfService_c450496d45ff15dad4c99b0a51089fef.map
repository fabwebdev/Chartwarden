{"version":3,"names":["cov_1zodpk53ry","actualCoverage","pdfMake","vfsFonts","vfs","s","PdfService","generatePdf","docDefinition","filename","b","f","pdfDoc","createPdf","Promise","resolve","reject","getBuffer","buffer","Error","error","message","generatePatientChartPdf","patientData","content","text","style","firstName","lastName","dateOfBirth","styles","header","fontSize","bold","margin","subheader","tableHeader","color","defaultStyle","id","generateHisPdf","hisData","table","headerRows","widths","body","visitDate","visitTimeIn","visitTimeOut","travelTimeIn","travelTimeOut","documentationTime","associatedMileage","surcharge","pageBreak","mi","suffix","gender","maritalStatus","raceEthnicity","addressLine1","addressLine2","city","state","zipCode","primaryPhone","alternatePhone"],"sources":["PdfService.js"],"sourcesContent":["import pdfMake from 'pdfmake/build/pdfmake.js';\nimport vfsFonts from 'pdfmake/build/vfs_fonts.js';\n\n// Initialize pdfMake with fonts\nconst { vfs } = vfsFonts;\npdfMake.vfs = vfs;\n\nclass PdfService {\n    /**\n     * Generate a PDF document\n     * @param {Object} docDefinition - PDF document definition\n     * @param {String} filename - Name of the file to generate\n     * @return {Promise<Buffer>} - PDF as buffer\n     */\n    async generatePdf(docDefinition, filename = 'document.pdf') {\n        try {\n            // Create PDF document\n            const pdfDoc = pdfMake.createPdf(docDefinition);\n            \n            // Return promise that resolves with PDF buffer\n            return new Promise((resolve, reject) => {\n                pdfDoc.getBuffer((buffer) => {\n                    if (buffer) {\n                        resolve(buffer);\n                    } else {\n                        reject(new Error('Failed to generate PDF'));\n                    }\n                });\n            });\n        } catch (error) {\n            throw new Error(`PDF generation failed: ${error.message}`);\n        }\n    }\n\n    /**\n     * Generate a patient chart PDF\n     * @param {Object} patientData - Patient data to include in PDF\n     * @return {Promise<Buffer>} - PDF as buffer\n     */\n    async generatePatientChartPdf(patientData) {\n        const docDefinition = {\n            content: [\n                {\n                    text: 'Patient Chart',\n                    style: 'header'\n                },\n                {\n                    text: `Patient: ${patientData.firstName} ${patientData.lastName}`,\n                    style: 'subheader'\n                },\n                {\n                    text: `DOB: ${patientData.dateOfBirth}`,\n                    style: 'subheader'\n                },\n                // Add more patient information here\n                {\n                    text: 'Benefit Periods:',\n                    style: 'subheader'\n                },\n                // Add benefit periods data\n                {\n                    text: 'Clinical Notes:',\n                    style: 'subheader'\n                }\n                // Add clinical notes data\n            ],\n            styles: {\n                header: {\n                    fontSize: 22,\n                    bold: true,\n                    margin: [0, 0, 0, 10]\n                },\n                subheader: {\n                    fontSize: 16,\n                    bold: true,\n                    margin: [0, 10, 0, 5]\n                },\n                tableHeader: {\n                    bold: true,\n                    fontSize: 13,\n                    color: 'black'\n                }\n            },\n            defaultStyle: {\n                fontSize: 12\n            }\n        };\n\n        return await this.generatePdf(docDefinition, `patient-chart-${patientData.id}.pdf`);\n    }\n\n    /**\n     * Generate a HIS (Health Information System) PDF\n     * @param {Object} hisData - HIS data to include in PDF\n     * @return {Promise<Buffer>} - PDF as buffer\n     */\n    async generateHisPdf(hisData) {\n        const docDefinition = {\n            content: [\n                {\n                    text: 'Health Information System Report',\n                    style: 'header'\n                },\n                {\n                    text: 'Visit Information',\n                    style: 'subheader'\n                },\n                {\n                    table: {\n                        headerRows: 1,\n                        widths: ['*', '*'],\n                        body: [\n                            ['Field', 'Value'],\n                            ['Visit Date', hisData.visitDate || ''],\n                            ['Visit Time In', hisData.visitTimeIn || ''],\n                            ['Visit Time Out', hisData.visitTimeOut || ''],\n                            ['Travel Time In', hisData.travelTimeIn || ''],\n                            ['Travel Time Out', hisData.travelTimeOut || ''],\n                            ['Documentation Time', hisData.documentationTime || ''],\n                            ['Associated Mileage', hisData.associatedMileage || ''],\n                            ['Surcharge', hisData.surcharge || '']\n                        ]\n                    }\n                },\n                {\n                    text: 'Demographics',\n                    style: 'subheader',\n                    pageBreak: 'before'\n                },\n                {\n                    table: {\n                        headerRows: 1,\n                        widths: ['*', '*'],\n                        body: [\n                            ['Field', 'Value'],\n                            ['First Name', hisData.firstName || ''],\n                            ['MI', hisData.mi || ''],\n                            ['Last Name', hisData.lastName || ''],\n                            ['Suffix', hisData.suffix || ''],\n                            ['Date of Birth', hisData.dateOfBirth || ''],\n                            ['Gender', hisData.gender || ''],\n                            ['Marital Status', hisData.maritalStatus || ''],\n                            ['Race/Ethnicity', hisData.raceEthnicity || ''],\n                            ['Address Line 1', hisData.addressLine1 || ''],\n                            ['Address Line 2', hisData.addressLine2 || ''],\n                            ['City', hisData.city || ''],\n                            ['State', hisData.state || ''],\n                            ['ZIP Code', hisData.zipCode || ''],\n                            ['Primary Phone', hisData.primaryPhone || ''],\n                            ['Alternate Phone', hisData.alternatePhone || '']\n                        ]\n                    }\n                }\n                // Add more sections as needed\n            ],\n            styles: {\n                header: {\n                    fontSize: 22,\n                    bold: true,\n                    margin: [0, 0, 0, 10]\n                },\n                subheader: {\n                    fontSize: 18,\n                    bold: true,\n                    margin: [0, 20, 0, 10]\n                },\n                tableHeader: {\n                    bold: true,\n                    fontSize: 13,\n                    color: 'black'\n                }\n            },\n            defaultStyle: {\n                fontSize: 12\n            }\n        };\n\n        return await this.generatePdf(docDefinition, 'his-report.pdf');\n    }\n}\n\nexport default new PdfService();"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EA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","ignoreList":[]}