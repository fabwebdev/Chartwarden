{"version":3,"names":["cov_21pxev4m6z","actualCoverage","db","cap_tracking","patients","payment_applications","claims","compliance_status","compliance_issues","compliance_alert_config","compliance_notifications","cap_tracking_history","compliance_audit_log","eq","and","gte","lte","desc","asc","sql","or","isNull","inArray","between","lt","gt","count","sum","logger","CapTrackingController","calculateCap","request","reply","f","s","patient_id","cap_year","body","b","code","status","message","existing","select","from","where","parseInt","deleted_at","limit","startYear","cap_year_start","cap_year_end","cap_amount_cents","process","env","CAP_YEAR_AMOUNT_CENTS","paymentTotal","total","applied_amount","innerJoin","claim_id","id","service_start_date","service_end_date","total_payments_cents","remaining_cap_cents","utilization_percentage","toFixed","cap_exceeded","cap_exceeded_amount_cents","alerts_triggered","alert_80_triggered","alert_90_triggered","alert_95_triggered","push","capData","cap_year_start_date","cap_year_end_date","cap_exceeded_date","Date","toISOString","split","alert_80_date","alert_90_date","alert_95_date","last_calculated_at","calculation_status","updated_by_id","user","result","_storeCapHistory","update","set","returning","insert","values","created_by_id","length","_createCapComplianceIssues","_logAudit","data","error","NODE_ENV","undefined","getAllCaps","offset","sort","order","query","conditions","orderColumn","orderDir","results","cap","patient","first_name","last_name","medical_record_number","leftJoin","orderBy","pagination","pages","Math","ceil","getCapById","params","updateCap","updateData","updatedAt","deleteCap","getPatientCap","getPatientsApproachingCap","threshold","currentYear","getFullYear","yearToCheck","parseFloat","getCapExceededPatients","getCapUtilizationReport","summary","reduce","acc","record","total_patients","total_cap_amount","total_payments","total_remaining","patients_exceeded","total_exceeded_amount","patients_above_80","patients_above_90","patients_above_95","average_utilization","r","breakdown","getCapMetrics","months","currentData","startDate","setMonth","getMonth","historicalData","snapshot_date","metrics","current_year","total_cap_utilization","total_cap_amount_cents","patients_at_risk","patients_healthy","utilization_distribution","under_50","trends","forEach","util","trendMap","Map","date","has","total_utilization","entry","get","Array","map","getCapHistory","cap_tracking_id","bulkRecalculate","patient_ids","patientsToProcess","existingRecords","successful","failed","errors","patientId","mockRequest","mockReply","getComplianceStatus","overall_status","toUpperCase","compliance","getPatientCompliance","issues","createdAt","active_issues","getComplianceReports","report_type","start_date","end_date","report","generated_at","period","start","end","statusCounts","groupBy","issueCounts","category","issue_category","capSummary","exceeded","warning","healthy","compliance_status_distribution","row","issues_by_category","cap_tracking_summary","getComplianceIssues","severity","issue","createComplianceIssue","issueData","_updateComplianceStatus","updateComplianceIssue","resolved_at","resolved_by_id","resolveComplianceIssue","resolution_notes","getAlertConfigs","alert_type","upsertAlertConfig","configData","toggleAlertConfig","is_enabled","getNotifications","type","notification_type","whereClause","notification","userId","capRecord","alertsTriggered","alert","issueType","issue_type","title","description","related_cap_tracking_id","issuesCount","criticalCount","find","i","highCount","totalOpen","overallStatus","score","max","capStatus","statusData","overall_score","toString","cap_compliance_status","active_issues_count","critical_issues_count","last_compliance_check","action","resourceType","resourceId","oldValues","newValues","user_id","user_email","email","user_role","role","ip_address","ip","user_agent","headers","resource_type","resource_id","old_values","JSON","stringify","new_values","request_method","method","request_path","url","request_params"],"sources":["CapTracking.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  cap_tracking,\n  patients,\n  payment_applications,\n  claims,\n  compliance_status,\n  compliance_issues,\n  compliance_alert_config,\n  compliance_notifications,\n  cap_tracking_history,\n  compliance_audit_log\n} from '../db/schemas/index.js';\nimport { eq, and, gte, lte, desc, asc, sql, or, isNull, inArray, between, lt, gt, count, sum } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\n\n/**\n * Cap Tracking Controller\n * Manages Medicare hospice cap amount tracking and compliance monitoring\n * CRITICAL: CMS compliance requirement\n */\nclass CapTrackingController {\n\n  // ============================================================================\n  // CAP TRACKING CORE ENDPOINTS\n  // ============================================================================\n\n  /**\n   * Calculate cap for a patient for a given cap year\n   * POST /billing/cap-tracking/calculate\n   *\n   * Body: { patient_id, cap_year }\n   * Response: { status, data: { cap_tracking_record, alerts_triggered } }\n   */\n  async calculateCap(request, reply) {\n    try {\n      const { patient_id, cap_year } = request.body;\n\n      if (!patient_id || !cap_year) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Missing required fields: patient_id, cap_year'\n        };\n      }\n\n      // Get or create cap tracking record\n      const existing = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.patient_id, parseInt(patient_id)),\n          eq(cap_tracking.cap_year, parseInt(cap_year)),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .limit(1);\n\n      // Calculate cap year dates (Oct 1 - Sep 30)\n      const startYear = cap_year - 1;\n      const cap_year_start = `${startYear}-10-01`;\n      const cap_year_end = `${cap_year}-09-30`;\n\n      // FY 2025 cap amount: $34,465.34 = 3446534 cents\n      // This should be configurable by year\n      const cap_amount_cents = parseInt(process.env.CAP_YEAR_AMOUNT_CENTS) || 3446534;\n\n      // Calculate total payments in cap year\n      const paymentTotal = await db\n        .select({\n          total: sql`COALESCE(SUM(${payment_applications.applied_amount}), 0)`\n        })\n        .from(payment_applications)\n        .innerJoin(claims, eq(payment_applications.claim_id, claims.id))\n        .where(and(\n          eq(claims.patient_id, parseInt(patient_id)),\n          gte(claims.service_start_date, cap_year_start),\n          lte(claims.service_end_date, cap_year_end),\n          isNull(claims.deleted_at)\n        ));\n\n      const total_payments_cents = parseInt(paymentTotal[0]?.total || 0);\n      const remaining_cap_cents = cap_amount_cents - total_payments_cents;\n      const utilization_percentage = ((total_payments_cents / cap_amount_cents) * 100).toFixed(2);\n\n      // Check if cap exceeded\n      const cap_exceeded = total_payments_cents > cap_amount_cents;\n      const cap_exceeded_amount_cents = cap_exceeded ? total_payments_cents - cap_amount_cents : null;\n\n      // Check alert thresholds\n      const alerts_triggered = [];\n      const alert_80_triggered = utilization_percentage >= 80;\n      const alert_90_triggered = utilization_percentage >= 90;\n      const alert_95_triggered = utilization_percentage >= 95;\n\n      if (alert_80_triggered && (!existing[0] || !existing[0].alert_80_triggered)) {\n        alerts_triggered.push('80%');\n      }\n      if (alert_90_triggered && (!existing[0] || !existing[0].alert_90_triggered)) {\n        alerts_triggered.push('90%');\n      }\n      if (alert_95_triggered && (!existing[0] || !existing[0].alert_95_triggered)) {\n        alerts_triggered.push('95%');\n      }\n\n      const capData = {\n        patient_id: parseInt(patient_id),\n        cap_year: parseInt(cap_year),\n        cap_year_start_date: cap_year_start,\n        cap_year_end_date: cap_year_end,\n        cap_amount_cents: cap_amount_cents,\n        total_payments_cents: total_payments_cents,\n        remaining_cap_cents: remaining_cap_cents,\n        utilization_percentage: utilization_percentage,\n        cap_exceeded: cap_exceeded,\n        cap_exceeded_date: cap_exceeded && !existing[0]?.cap_exceeded ? new Date().toISOString().split('T')[0] : existing[0]?.cap_exceeded_date,\n        cap_exceeded_amount_cents: cap_exceeded_amount_cents,\n        alert_80_triggered: alert_80_triggered,\n        alert_80_date: alert_80_triggered && !existing[0]?.alert_80_triggered ? new Date() : existing[0]?.alert_80_date,\n        alert_90_triggered: alert_90_triggered,\n        alert_90_date: alert_90_triggered && !existing[0]?.alert_90_triggered ? new Date() : existing[0]?.alert_90_date,\n        alert_95_triggered: alert_95_triggered,\n        alert_95_date: alert_95_triggered && !existing[0]?.alert_95_triggered ? new Date() : existing[0]?.alert_95_date,\n        last_calculated_at: new Date(),\n        calculation_status: 'CURRENT',\n        updated_by_id: request.user?.id\n      };\n\n      let result;\n      if (existing[0]) {\n        // Store history before update\n        await this._storeCapHistory(existing[0], request.user?.id);\n\n        // Update existing record\n        result = await db\n          .update(cap_tracking)\n          .set(capData)\n          .where(eq(cap_tracking.id, existing[0].id))\n          .returning();\n      } else {\n        // Create new record\n        result = await db\n          .insert(cap_tracking)\n          .values({\n            ...capData,\n            created_by_id: request.user?.id\n          })\n          .returning();\n      }\n\n      // Create compliance issues if thresholds exceeded\n      if (alerts_triggered.length > 0) {\n        await this._createCapComplianceIssues(result[0], alerts_triggered, request.user?.id);\n      }\n\n      // Log audit event\n      await this._logAudit(request, 'CALCULATE', 'CAP_TRACKING', result[0].id, parseInt(patient_id), existing[0] || null, result[0]);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Cap calculated successfully',\n        data: {\n          cap_tracking: result[0],\n          alerts_triggered: alerts_triggered\n        }\n      };\n    } catch (error) {\n      logger.error('Error calculating cap:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error calculating cap',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get all cap tracking records with pagination\n   * GET /caps\n   *\n   * Query: { cap_year?, status?, limit?, offset?, sort?, order? }\n   * Response: { status, data: [cap_tracking_records], pagination }\n   */\n  async getAllCaps(request, reply) {\n    try {\n      const {\n        cap_year,\n        status,\n        limit = 50,\n        offset = 0,\n        sort = 'cap_year',\n        order = 'desc'\n      } = request.query;\n\n      const conditions = [isNull(cap_tracking.deleted_at)];\n\n      if (cap_year) {\n        conditions.push(eq(cap_tracking.cap_year, parseInt(cap_year)));\n      }\n\n      if (status === 'exceeded') {\n        conditions.push(eq(cap_tracking.cap_exceeded, true));\n      } else if (status === 'warning') {\n        conditions.push(and(\n          gte(cap_tracking.utilization_percentage, 80),\n          eq(cap_tracking.cap_exceeded, false)\n        ));\n      } else if (status === 'normal') {\n        conditions.push(lt(cap_tracking.utilization_percentage, 80));\n      }\n\n      // Get total count\n      const [{ count: total }] = await db\n        .select({ count: sql`COUNT(*)` })\n        .from(cap_tracking)\n        .where(and(...conditions));\n\n      // Get paginated results with patient info\n      const orderColumn = cap_tracking[sort] || cap_tracking.cap_year;\n      const orderDir = order === 'asc' ? asc(orderColumn) : desc(orderColumn);\n\n      const results = await db\n        .select({\n          cap: cap_tracking,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(cap_tracking)\n        .leftJoin(patients, eq(cap_tracking.patient_id, patients.id))\n        .where(and(...conditions))\n        .orderBy(orderDir)\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        pagination: {\n          total: parseInt(total),\n          limit: parseInt(limit),\n          offset: parseInt(offset),\n          pages: Math.ceil(parseInt(total) / parseInt(limit))\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching cap records:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching cap records',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap tracking by ID\n   * GET /caps/:id\n   */\n  async getCapById(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const [result] = await db\n        .select({\n          cap: cap_tracking,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(cap_tracking)\n        .leftJoin(patients, eq(cap_tracking.patient_id, patients.id))\n        .where(and(\n          eq(cap_tracking.id, parseInt(id)),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Cap tracking record not found'\n        };\n      }\n\n      // Log audit event\n      await this._logAudit(request, 'READ', 'CAP_TRACKING', result.cap.id, result.cap.patient_id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error fetching cap by ID:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching cap record',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update cap tracking record\n   * PUT /caps/:id\n   */\n  async updateCap(request, reply) {\n    try {\n      const { id } = request.params;\n      const updateData = request.body;\n\n      // Get existing record\n      const [existing] = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.id, parseInt(id)),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Cap tracking record not found'\n        };\n      }\n\n      // Store history before update\n      await this._storeCapHistory(existing, request.user?.id);\n\n      // Update record\n      const [result] = await db\n        .update(cap_tracking)\n        .set({\n          ...updateData,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(cap_tracking.id, parseInt(id)))\n        .returning();\n\n      // Log audit event\n      await this._logAudit(request, 'UPDATE', 'CAP_TRACKING', result.id, result.patient_id, existing, result);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Cap tracking record updated successfully',\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error updating cap:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating cap record',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete cap tracking record (soft delete)\n   * DELETE /caps/:id\n   */\n  async deleteCap(request, reply) {\n    try {\n      const { id } = request.params;\n\n      // Get existing record\n      const [existing] = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.id, parseInt(id)),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Cap tracking record not found'\n        };\n      }\n\n      // Soft delete\n      const [result] = await db\n        .update(cap_tracking)\n        .set({\n          deleted_at: new Date(),\n          updated_by_id: request.user?.id\n        })\n        .where(eq(cap_tracking.id, parseInt(id)))\n        .returning();\n\n      // Log audit event\n      await this._logAudit(request, 'DELETE', 'CAP_TRACKING', result.id, result.patient_id, existing, result);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Cap tracking record deleted successfully'\n      };\n    } catch (error) {\n      logger.error('Error deleting cap:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting cap record',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap tracking for a patient\n   * GET /patients/:id/cap-tracking\n   *\n   * Query: { cap_year? }\n   * Response: { status, data: [cap_tracking_records] }\n   */\n  async getPatientCap(request, reply) {\n    try {\n      const { id } = request.params;\n      const { cap_year } = request.query;\n\n      const conditions = [\n        eq(cap_tracking.patient_id, parseInt(id)),\n        isNull(cap_tracking.deleted_at)\n      ];\n\n      if (cap_year) {\n        conditions.push(eq(cap_tracking.cap_year, parseInt(cap_year)));\n      }\n\n      const results = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(...conditions))\n        .orderBy(desc(cap_tracking.cap_year));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching patient cap:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching patient cap',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get patients approaching cap\n   * GET /billing/cap-tracking/approaching\n   *\n   * Query: { threshold? (default 80), cap_year? }\n   * Response: { status, data: [patients_with_cap_tracking] }\n   */\n  async getPatientsApproachingCap(request, reply) {\n    try {\n      const { threshold = 80, cap_year } = request.query;\n      const currentYear = new Date().getFullYear();\n      const yearToCheck = cap_year ? parseInt(cap_year) : currentYear;\n\n      const results = await db\n        .select({\n          cap: cap_tracking,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(cap_tracking)\n        .leftJoin(patients, eq(cap_tracking.patient_id, patients.id))\n        .where(and(\n          eq(cap_tracking.cap_year, yearToCheck),\n          gte(cap_tracking.utilization_percentage, parseFloat(threshold)),\n          eq(cap_tracking.cap_exceeded, false),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .orderBy(desc(cap_tracking.utilization_percentage));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching patients approaching cap:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching patients approaching cap',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap exceeded patients\n   * GET /billing/cap-tracking/exceeded\n   *\n   * Query: { cap_year? }\n   * Response: { status, data: [patients_exceeding_cap] }\n   */\n  async getCapExceededPatients(request, reply) {\n    try {\n      const { cap_year } = request.query;\n      const currentYear = new Date().getFullYear();\n      const yearToCheck = cap_year ? parseInt(cap_year) : currentYear;\n\n      const results = await db\n        .select({\n          cap: cap_tracking,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(cap_tracking)\n        .leftJoin(patients, eq(cap_tracking.patient_id, patients.id))\n        .where(and(\n          eq(cap_tracking.cap_year, yearToCheck),\n          eq(cap_tracking.cap_exceeded, true),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .orderBy(desc(cap_tracking.cap_exceeded_amount_cents));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching cap exceeded patients:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching cap exceeded patients',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap utilization report\n   * GET /billing/cap-tracking/report\n   *\n   * Query: { cap_year? }\n   * Response: { status, data: { summary, breakdown } }\n   */\n  async getCapUtilizationReport(request, reply) {\n    try {\n      const { cap_year } = request.query;\n      const currentYear = new Date().getFullYear();\n      const yearToCheck = cap_year ? parseInt(cap_year) : currentYear;\n\n      const results = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.cap_year, yearToCheck),\n          isNull(cap_tracking.deleted_at)\n        ));\n\n      // Calculate summary statistics\n      const summary = results.reduce((acc, record) => {\n        acc.total_patients += 1;\n        acc.total_cap_amount += record.cap_amount_cents;\n        acc.total_payments += record.total_payments_cents;\n        acc.total_remaining += record.remaining_cap_cents;\n\n        if (record.cap_exceeded) {\n          acc.patients_exceeded += 1;\n          acc.total_exceeded_amount += record.cap_exceeded_amount_cents || 0;\n        }\n\n        if (record.utilization_percentage >= 80) acc.patients_above_80 += 1;\n        if (record.utilization_percentage >= 90) acc.patients_above_90 += 1;\n        if (record.utilization_percentage >= 95) acc.patients_above_95 += 1;\n\n        return acc;\n      }, {\n        total_patients: 0,\n        total_cap_amount: 0,\n        total_payments: 0,\n        total_remaining: 0,\n        patients_exceeded: 0,\n        total_exceeded_amount: 0,\n        patients_above_80: 0,\n        patients_above_90: 0,\n        patients_above_95: 0\n      });\n\n      // Add average utilization\n      summary.average_utilization = results.length > 0\n        ? (results.reduce((sum, r) => sum + parseFloat(r.utilization_percentage), 0) / results.length).toFixed(2)\n        : 0;\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          summary: summary,\n          breakdown: results\n        }\n      };\n    } catch (error) {\n      logger.error('Error generating cap utilization report:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error generating cap utilization report',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap utilization metrics and historical trends\n   * GET /caps/metrics\n   *\n   * Query: { cap_year?, months? }\n   */\n  async getCapMetrics(request, reply) {\n    try {\n      const { cap_year, months = 12 } = request.query;\n      const currentYear = new Date().getFullYear();\n      const yearToCheck = cap_year ? parseInt(cap_year) : currentYear;\n\n      // Get current snapshot\n      const currentData = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.cap_year, yearToCheck),\n          isNull(cap_tracking.deleted_at)\n        ));\n\n      // Get historical trends\n      const startDate = new Date();\n      startDate.setMonth(startDate.getMonth() - parseInt(months));\n\n      const historicalData = await db\n        .select()\n        .from(cap_tracking_history)\n        .where(and(\n          eq(cap_tracking_history.cap_year, yearToCheck),\n          gte(cap_tracking_history.snapshot_date, startDate.toISOString().split('T')[0])\n        ))\n        .orderBy(asc(cap_tracking_history.snapshot_date));\n\n      // Calculate metrics\n      const metrics = {\n        current_year: yearToCheck,\n        total_patients: currentData.length,\n        total_cap_utilization: 0,\n        average_utilization: 0,\n        total_payments_cents: 0,\n        total_cap_amount_cents: 0,\n        patients_exceeded: 0,\n        patients_at_risk: 0, // 80-99% utilization\n        patients_healthy: 0, // < 80% utilization\n        utilization_distribution: {\n          under_50: 0,\n          '50_to_79': 0,\n          '80_to_89': 0,\n          '90_to_99': 0,\n          '100_plus': 0\n        },\n        trends: []\n      };\n\n      // Calculate distribution\n      currentData.forEach(record => {\n        const util = parseFloat(record.utilization_percentage);\n        metrics.total_payments_cents += record.total_payments_cents;\n        metrics.total_cap_amount_cents += record.cap_amount_cents;\n\n        if (record.cap_exceeded) {\n          metrics.patients_exceeded++;\n          metrics.utilization_distribution['100_plus']++;\n        } else if (util >= 90) {\n          metrics.patients_at_risk++;\n          metrics.utilization_distribution['90_to_99']++;\n        } else if (util >= 80) {\n          metrics.patients_at_risk++;\n          metrics.utilization_distribution['80_to_89']++;\n        } else if (util >= 50) {\n          metrics.patients_healthy++;\n          metrics.utilization_distribution['50_to_79']++;\n        } else {\n          metrics.patients_healthy++;\n          metrics.utilization_distribution.under_50++;\n        }\n      });\n\n      if (currentData.length > 0) {\n        metrics.total_cap_utilization = ((metrics.total_payments_cents / metrics.total_cap_amount_cents) * 100).toFixed(2);\n        metrics.average_utilization = (currentData.reduce((sum, r) => sum + parseFloat(r.utilization_percentage), 0) / currentData.length).toFixed(2);\n      }\n\n      // Aggregate historical trends by date\n      const trendMap = new Map();\n      historicalData.forEach(record => {\n        const date = record.snapshot_date;\n        if (!trendMap.has(date)) {\n          trendMap.set(date, {\n            date,\n            total_payments: 0,\n            total_utilization: 0,\n            count: 0\n          });\n        }\n        const entry = trendMap.get(date);\n        entry.total_payments += record.total_payments_cents;\n        entry.total_utilization += parseFloat(record.utilization_percentage);\n        entry.count++;\n      });\n\n      metrics.trends = Array.from(trendMap.values()).map(entry => ({\n        date: entry.date,\n        average_utilization: (entry.total_utilization / entry.count).toFixed(2),\n        total_payments_cents: entry.total_payments\n      }));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: metrics\n      };\n    } catch (error) {\n      logger.error('Error fetching cap metrics:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching cap metrics',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get cap tracking history for a patient\n   * GET /caps/:id/history\n   */\n  async getCapHistory(request, reply) {\n    try {\n      const { id } = request.params;\n      const { limit = 100, offset = 0 } = request.query;\n\n      const results = await db\n        .select()\n        .from(cap_tracking_history)\n        .where(eq(cap_tracking_history.cap_tracking_id, parseInt(id)))\n        .orderBy(desc(cap_tracking_history.snapshot_date))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching cap history:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching cap history',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Bulk recalculate caps for all patients\n   * POST /caps/recalculate\n   *\n   * Body: { cap_year?, patient_ids? }\n   */\n  async bulkRecalculate(request, reply) {\n    try {\n      const { cap_year, patient_ids } = request.body;\n      const currentYear = new Date().getFullYear();\n      const yearToCheck = cap_year ? parseInt(cap_year) : currentYear;\n\n      // Get patients to recalculate\n      let patientsToProcess;\n      if (patient_ids && patient_ids.length > 0) {\n        patientsToProcess = patient_ids.map(id => parseInt(id));\n      } else {\n        // Get all patients with cap tracking records for the year\n        const existingRecords = await db\n          .select({ patient_id: cap_tracking.patient_id })\n          .from(cap_tracking)\n          .where(and(\n            eq(cap_tracking.cap_year, yearToCheck),\n            isNull(cap_tracking.deleted_at)\n          ));\n        patientsToProcess = existingRecords.map(r => r.patient_id);\n      }\n\n      const results = {\n        total: patientsToProcess.length,\n        successful: 0,\n        failed: 0,\n        errors: []\n      };\n\n      // Process each patient\n      for (const patientId of patientsToProcess) {\n        try {\n          // Simulate the request object for calculateCap\n          const mockRequest = {\n            body: { patient_id: patientId, cap_year: yearToCheck },\n            user: request.user\n          };\n          const mockReply = { code: () => {} };\n\n          await this.calculateCap(mockRequest, mockReply);\n          results.successful++;\n        } catch (error) {\n          results.failed++;\n          results.errors.push({\n            patient_id: patientId,\n            error: error.message\n          });\n        }\n      }\n\n      // Log audit event\n      await this._logAudit(request, 'BULK_RECALCULATE', 'CAP_TRACKING', null, null, null, { results });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Bulk recalculation completed',\n        data: results\n      };\n    } catch (error) {\n      logger.error('Error in bulk recalculation:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error in bulk recalculation',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // COMPLIANCE STATUS ENDPOINTS\n  // ============================================================================\n\n  /**\n   * Get overall compliance status\n   * GET /compliance/status\n   *\n   * Query: { status?, limit?, offset? }\n   */\n  async getComplianceStatus(request, reply) {\n    try {\n      const { status, limit = 50, offset = 0 } = request.query;\n\n      const conditions = [isNull(compliance_status.deleted_at)];\n\n      if (status) {\n        conditions.push(eq(compliance_status.overall_status, status.toUpperCase()));\n      }\n\n      const [{ count: total }] = await db\n        .select({ count: sql`COUNT(*)` })\n        .from(compliance_status)\n        .where(and(...conditions));\n\n      const results = await db\n        .select({\n          compliance: compliance_status,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(compliance_status)\n        .leftJoin(patients, eq(compliance_status.patient_id, patients.id))\n        .where(and(...conditions))\n        .orderBy(desc(compliance_status.updatedAt))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        pagination: {\n          total: parseInt(total),\n          limit: parseInt(limit),\n          offset: parseInt(offset),\n          pages: Math.ceil(parseInt(total) / parseInt(limit))\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching compliance status:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching compliance status',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get compliance status for a patient\n   * GET /patients/:id/compliance\n   */\n  async getPatientCompliance(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const [result] = await db\n        .select()\n        .from(compliance_status)\n        .where(and(\n          eq(compliance_status.patient_id, parseInt(id)),\n          isNull(compliance_status.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Compliance status not found for this patient'\n        };\n      }\n\n      // Get active issues\n      const issues = await db\n        .select()\n        .from(compliance_issues)\n        .where(and(\n          eq(compliance_issues.patient_id, parseInt(id)),\n          eq(compliance_issues.status, 'OPEN'),\n          isNull(compliance_issues.deleted_at)\n        ))\n        .orderBy(desc(compliance_issues.createdAt));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          status: result,\n          active_issues: issues\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching patient compliance:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching patient compliance',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get compliance reports\n   * GET /compliance/reports\n   *\n   * Query: { report_type?, start_date?, end_date? }\n   */\n  async getComplianceReports(request, reply) {\n    try {\n      const { report_type = 'summary', start_date, end_date } = request.query;\n\n      const report = {\n        generated_at: new Date().toISOString(),\n        report_type,\n        period: {\n          start: start_date || null,\n          end: end_date || null\n        }\n      };\n\n      // Get compliance status counts\n      const statusCounts = await db\n        .select({\n          status: compliance_status.overall_status,\n          count: sql`COUNT(*)`\n        })\n        .from(compliance_status)\n        .where(isNull(compliance_status.deleted_at))\n        .groupBy(compliance_status.overall_status);\n\n      // Get issue counts by category\n      const issueCounts = await db\n        .select({\n          category: compliance_issues.issue_category,\n          status: compliance_issues.status,\n          count: sql`COUNT(*)`\n        })\n        .from(compliance_issues)\n        .where(isNull(compliance_issues.deleted_at))\n        .groupBy(compliance_issues.issue_category, compliance_issues.status);\n\n      // Get cap tracking summary\n      const currentYear = new Date().getFullYear();\n      const capSummary = await db\n        .select({\n          total: sql`COUNT(*)`,\n          exceeded: sql`SUM(CASE WHEN cap_exceeded THEN 1 ELSE 0 END)`,\n          warning: sql`SUM(CASE WHEN utilization_percentage >= 80 AND NOT cap_exceeded THEN 1 ELSE 0 END)`,\n          healthy: sql`SUM(CASE WHEN utilization_percentage < 80 THEN 1 ELSE 0 END)`\n        })\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.cap_year, currentYear),\n          isNull(cap_tracking.deleted_at)\n        ));\n\n      report.data = {\n        compliance_status_distribution: statusCounts.reduce((acc, row) => {\n          acc[row.status] = parseInt(row.count);\n          return acc;\n        }, {}),\n        issues_by_category: issueCounts,\n        cap_tracking_summary: capSummary[0] || {\n          total: 0,\n          exceeded: 0,\n          warning: 0,\n          healthy: 0\n        }\n      };\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: report\n      };\n    } catch (error) {\n      logger.error('Error generating compliance reports:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error generating compliance reports',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // COMPLIANCE ISSUES ENDPOINTS\n  // ============================================================================\n\n  /**\n   * Get all compliance issues\n   * GET /compliance/issues\n   *\n   * Query: { status?, category?, severity?, patient_id?, limit?, offset? }\n   */\n  async getComplianceIssues(request, reply) {\n    try {\n      const { status, category, severity, patient_id, limit = 50, offset = 0 } = request.query;\n\n      const conditions = [isNull(compliance_issues.deleted_at)];\n\n      if (status) conditions.push(eq(compliance_issues.status, status.toUpperCase()));\n      if (category) conditions.push(eq(compliance_issues.issue_category, category.toUpperCase()));\n      if (severity) conditions.push(eq(compliance_issues.severity, severity.toUpperCase()));\n      if (patient_id) conditions.push(eq(compliance_issues.patient_id, parseInt(patient_id)));\n\n      const [{ count: total }] = await db\n        .select({ count: sql`COUNT(*)` })\n        .from(compliance_issues)\n        .where(and(...conditions));\n\n      const results = await db\n        .select({\n          issue: compliance_issues,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name,\n            medical_record_number: patients.medical_record_number\n          }\n        })\n        .from(compliance_issues)\n        .leftJoin(patients, eq(compliance_issues.patient_id, patients.id))\n        .where(and(...conditions))\n        .orderBy(desc(compliance_issues.severity), desc(compliance_issues.createdAt))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        pagination: {\n          total: parseInt(total),\n          limit: parseInt(limit),\n          offset: parseInt(offset),\n          pages: Math.ceil(parseInt(total) / parseInt(limit))\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching compliance issues:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching compliance issues',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create a compliance issue\n   * POST /compliance/issues\n   */\n  async createComplianceIssue(request, reply) {\n    try {\n      const issueData = request.body;\n\n      const [result] = await db\n        .insert(compliance_issues)\n        .values({\n          ...issueData,\n          created_by_id: request.user?.id\n        })\n        .returning();\n\n      // Update compliance status\n      await this._updateComplianceStatus(issueData.patient_id, request.user?.id);\n\n      // Log audit event\n      await this._logAudit(request, 'CREATE', 'COMPLIANCE_ISSUE', result.id, issueData.patient_id, null, result);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Compliance issue created successfully',\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error creating compliance issue:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating compliance issue',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update a compliance issue\n   * PUT /compliance/issues/:id\n   */\n  async updateComplianceIssue(request, reply) {\n    try {\n      const { id } = request.params;\n      const updateData = request.body;\n\n      const [existing] = await db\n        .select()\n        .from(compliance_issues)\n        .where(and(\n          eq(compliance_issues.id, parseInt(id)),\n          isNull(compliance_issues.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Compliance issue not found'\n        };\n      }\n\n      // Handle resolution\n      if (updateData.status === 'RESOLVED' && existing.status !== 'RESOLVED') {\n        updateData.resolved_at = new Date();\n        updateData.resolved_by_id = request.user?.id;\n      }\n\n      const [result] = await db\n        .update(compliance_issues)\n        .set({\n          ...updateData,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(compliance_issues.id, parseInt(id)))\n        .returning();\n\n      // Update compliance status\n      await this._updateComplianceStatus(existing.patient_id, request.user?.id);\n\n      // Log audit event\n      await this._logAudit(request, 'UPDATE', 'COMPLIANCE_ISSUE', result.id, result.patient_id, existing, result);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Compliance issue updated successfully',\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error updating compliance issue:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating compliance issue',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Resolve a compliance issue\n   * POST /compliance/issues/:id/resolve\n   */\n  async resolveComplianceIssue(request, reply) {\n    try {\n      const { id } = request.params;\n      const { resolution_notes } = request.body;\n\n      const [existing] = await db\n        .select()\n        .from(compliance_issues)\n        .where(and(\n          eq(compliance_issues.id, parseInt(id)),\n          isNull(compliance_issues.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Compliance issue not found'\n        };\n      }\n\n      const [result] = await db\n        .update(compliance_issues)\n        .set({\n          status: 'RESOLVED',\n          resolved_at: new Date(),\n          resolved_by_id: request.user?.id,\n          resolution_notes,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(compliance_issues.id, parseInt(id)))\n        .returning();\n\n      // Update compliance status\n      await this._updateComplianceStatus(existing.patient_id, request.user?.id);\n\n      // Log audit event\n      await this._logAudit(request, 'RESOLVE', 'COMPLIANCE_ISSUE', result.id, result.patient_id, existing, result);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Compliance issue resolved successfully',\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error resolving compliance issue:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error resolving compliance issue',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // ALERT CONFIGURATION ENDPOINTS\n  // ============================================================================\n\n  /**\n   * Get alert configurations\n   * GET /compliance/alerts/config\n   */\n  async getAlertConfigs(request, reply) {\n    try {\n      const results = await db\n        .select()\n        .from(compliance_alert_config)\n        .where(isNull(compliance_alert_config.deleted_at))\n        .orderBy(asc(compliance_alert_config.alert_type));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching alert configs:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching alert configurations',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create or update alert configuration\n   * POST /compliance/alerts/config\n   */\n  async upsertAlertConfig(request, reply) {\n    try {\n      const configData = request.body;\n\n      // Check if config exists\n      const [existing] = await db\n        .select()\n        .from(compliance_alert_config)\n        .where(eq(compliance_alert_config.alert_type, configData.alert_type))\n        .limit(1);\n\n      let result;\n      if (existing) {\n        [result] = await db\n          .update(compliance_alert_config)\n          .set({\n            ...configData,\n            updated_by_id: request.user?.id,\n            updatedAt: new Date()\n          })\n          .where(eq(compliance_alert_config.id, existing.id))\n          .returning();\n      } else {\n        [result] = await db\n          .insert(compliance_alert_config)\n          .values({\n            ...configData,\n            created_by_id: request.user?.id\n          })\n          .returning();\n      }\n\n      // Log audit event\n      await this._logAudit(request, existing ? 'UPDATE' : 'CREATE', 'ALERT_CONFIG', result.id, null, existing, result);\n\n      reply.code(existing ? 200 : 201);\n      return {\n        status: existing ? 200 : 201,\n        message: `Alert configuration ${existing ? 'updated' : 'created'} successfully`,\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error upserting alert config:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error saving alert configuration',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Toggle alert enabled status\n   * PUT /compliance/alerts/config/:id/toggle\n   */\n  async toggleAlertConfig(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const [existing] = await db\n        .select()\n        .from(compliance_alert_config)\n        .where(eq(compliance_alert_config.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Alert configuration not found'\n        };\n      }\n\n      const [result] = await db\n        .update(compliance_alert_config)\n        .set({\n          is_enabled: !existing.is_enabled,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(compliance_alert_config.id, parseInt(id)))\n        .returning();\n\n      // Log audit event\n      await this._logAudit(request, 'TOGGLE', 'ALERT_CONFIG', result.id, null, existing, result);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: `Alert ${result.is_enabled ? 'enabled' : 'disabled'} successfully`,\n        data: result\n      };\n    } catch (error) {\n      logger.error('Error toggling alert config:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error toggling alert configuration',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get notification history\n   * GET /compliance/notifications\n   *\n   * Query: { patient_id?, status?, type?, limit?, offset? }\n   */\n  async getNotifications(request, reply) {\n    try {\n      const { patient_id, status, type, limit = 50, offset = 0 } = request.query;\n\n      const conditions = [];\n\n      if (patient_id) conditions.push(eq(compliance_notifications.patient_id, parseInt(patient_id)));\n      if (status) conditions.push(eq(compliance_notifications.status, status.toUpperCase()));\n      if (type) conditions.push(eq(compliance_notifications.notification_type, type.toUpperCase()));\n\n      const whereClause = conditions.length > 0 ? and(...conditions) : undefined;\n\n      const [{ count: total }] = await db\n        .select({ count: sql`COUNT(*)` })\n        .from(compliance_notifications)\n        .where(whereClause);\n\n      const results = await db\n        .select({\n          notification: compliance_notifications,\n          patient: {\n            id: patients.id,\n            first_name: patients.first_name,\n            last_name: patients.last_name\n          }\n        })\n        .from(compliance_notifications)\n        .leftJoin(patients, eq(compliance_notifications.patient_id, patients.id))\n        .where(whereClause)\n        .orderBy(desc(compliance_notifications.createdAt))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length,\n        pagination: {\n          total: parseInt(total),\n          limit: parseInt(limit),\n          offset: parseInt(offset),\n          pages: Math.ceil(parseInt(total) / parseInt(limit))\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching notifications:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching notifications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  // ============================================================================\n  // HELPER METHODS\n  // ============================================================================\n\n  /**\n   * Store cap tracking history\n   * @private\n   */\n  async _storeCapHistory(record, userId) {\n    try {\n      await db\n        .insert(cap_tracking_history)\n        .values({\n          cap_tracking_id: record.id,\n          patient_id: record.patient_id,\n          cap_year: record.cap_year,\n          snapshot_date: new Date().toISOString().split('T')[0],\n          cap_amount_cents: record.cap_amount_cents,\n          total_payments_cents: record.total_payments_cents,\n          remaining_cap_cents: record.remaining_cap_cents,\n          utilization_percentage: record.utilization_percentage,\n          cap_exceeded: record.cap_exceeded,\n          created_by_id: userId\n        });\n    } catch (error) {\n      logger.error('Error storing cap history:', error);\n    }\n  }\n\n  /**\n   * Create compliance issues for cap alerts\n   * @private\n   */\n  async _createCapComplianceIssues(capRecord, alertsTriggered, userId) {\n    try {\n      for (const alert of alertsTriggered) {\n        const issueType = alert === '80%' ? 'CAP_WARNING_80' :\n          alert === '90%' ? 'CAP_WARNING_90' :\n            alert === '95%' ? 'CAP_WARNING_95' : 'CAP_EXCEEDED';\n\n        const severity = alert === '80%' ? 'MEDIUM' :\n          alert === '90%' ? 'HIGH' : 'CRITICAL';\n\n        await db\n          .insert(compliance_issues)\n          .values({\n            patient_id: capRecord.patient_id,\n            issue_type: issueType,\n            issue_category: 'CAP',\n            severity,\n            title: `Cap utilization reached ${alert}`,\n            description: `Patient has reached ${alert} cap utilization (${capRecord.utilization_percentage}%). Current payments: $${(capRecord.total_payments_cents / 100).toFixed(2)}`,\n            status: 'OPEN',\n            related_cap_tracking_id: capRecord.id,\n            created_by_id: userId\n          });\n      }\n\n      // Update compliance status\n      await this._updateComplianceStatus(capRecord.patient_id, userId);\n    } catch (error) {\n      logger.error('Error creating cap compliance issues:', error);\n    }\n  }\n\n  /**\n   * Update patient compliance status\n   * @private\n   */\n  async _updateComplianceStatus(patientId, userId) {\n    try {\n      // Get or create compliance status\n      let [existing] = await db\n        .select()\n        .from(compliance_status)\n        .where(eq(compliance_status.patient_id, parseInt(patientId)))\n        .limit(1);\n\n      // Count open issues by severity\n      const issuesCount = await db\n        .select({\n          severity: compliance_issues.severity,\n          count: sql`COUNT(*)`\n        })\n        .from(compliance_issues)\n        .where(and(\n          eq(compliance_issues.patient_id, parseInt(patientId)),\n          eq(compliance_issues.status, 'OPEN'),\n          isNull(compliance_issues.deleted_at)\n        ))\n        .groupBy(compliance_issues.severity);\n\n      const criticalCount = issuesCount.find(i => i.severity === 'CRITICAL')?.count || 0;\n      const highCount = issuesCount.find(i => i.severity === 'HIGH')?.count || 0;\n      const totalOpen = issuesCount.reduce((sum, i) => sum + parseInt(i.count), 0);\n\n      // Determine overall status\n      let overallStatus = 'COMPLIANT';\n      if (criticalCount > 0) {\n        overallStatus = 'NON_COMPLIANT';\n      } else if (highCount > 0) {\n        overallStatus = 'WARNING';\n      } else if (totalOpen > 0) {\n        overallStatus = 'PENDING_REVIEW';\n      }\n\n      // Calculate score (100 - deductions for issues)\n      const score = Math.max(0, 100 - (criticalCount * 30) - (highCount * 15) - (totalOpen * 5));\n\n      // Get cap status\n      const currentYear = new Date().getFullYear();\n      const [capRecord] = await db\n        .select()\n        .from(cap_tracking)\n        .where(and(\n          eq(cap_tracking.patient_id, parseInt(patientId)),\n          eq(cap_tracking.cap_year, currentYear),\n          isNull(cap_tracking.deleted_at)\n        ))\n        .limit(1);\n\n      const capStatus = capRecord?.cap_exceeded ? 'EXCEEDED' :\n        parseFloat(capRecord?.utilization_percentage || 0) >= 80 ? 'WARNING' : 'COMPLIANT';\n\n      const statusData = {\n        overall_status: overallStatus,\n        overall_score: score.toString(),\n        cap_compliance_status: capStatus,\n        active_issues_count: totalOpen,\n        critical_issues_count: parseInt(criticalCount),\n        last_compliance_check: new Date(),\n        updated_by_id: userId\n      };\n\n      if (existing) {\n        await db\n          .update(compliance_status)\n          .set({\n            ...statusData,\n            updatedAt: new Date()\n          })\n          .where(eq(compliance_status.id, existing.id));\n      } else {\n        await db\n          .insert(compliance_status)\n          .values({\n            patient_id: parseInt(patientId),\n            ...statusData,\n            created_by_id: userId\n          });\n      }\n    } catch (error) {\n      logger.error('Error updating compliance status:', error);\n    }\n  }\n\n  /**\n   * Log audit event for compliance operations\n   * @private\n   */\n  async _logAudit(request, action, resourceType, resourceId, patientId, oldValues = null, newValues = null) {\n    try {\n      await db\n        .insert(compliance_audit_log)\n        .values({\n          user_id: request.user?.id || 'system',\n          user_email: request.user?.email,\n          user_role: request.user?.role,\n          ip_address: request.ip,\n          user_agent: request.headers?.['user-agent'],\n          action,\n          resource_type: resourceType,\n          resource_id: resourceId,\n          patient_id: patientId,\n          old_values: oldValues ? JSON.stringify(oldValues) : null,\n          new_values: newValues ? JSON.stringify(newValues) : null,\n          request_method: request.method,\n          request_path: request.url,\n          request_params: request.params ? JSON.stringify(request.params) : null,\n          result: 'SUCCESS'\n        });\n    } catch (error) {\n      logger.error('Error logging audit event:', error);\n    }\n  }\n}\n\nexport default new CapTrackingController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}