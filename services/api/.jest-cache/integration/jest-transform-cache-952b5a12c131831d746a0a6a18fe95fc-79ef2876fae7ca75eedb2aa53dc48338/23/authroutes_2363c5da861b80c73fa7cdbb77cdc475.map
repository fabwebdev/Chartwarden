{"version":3,"names":["cov_1azyrwlmqw","actualCoverage","crypto","auth","fromNodeHeaders","authenticate","optionalAuth","requireRole","requirePermission","ROLES","PERMISSIONS","defineUserAbilities","serializeAbilities","ACTIONS","SUBJECTS","db","users","roles","user_has_roles","sessions","eq","and","gt","desc","validatePassword","PASSWORD_REQUIREMENTS","passwordHashingService","logger","authRateLimitKey","request","f","ip","s","b","headers","email","body","username","toLowerCase","authRoutes","fastify","options","post","config","rateLimit","max","timeWindow","keyGenerator","errorResponseBuilder","context","status","error","message","retryAfter","after","reply","password","firstName","lastName","passwordValidation","userInputs","filter","Boolean","valid","code","send","errors","map","type","msg","path","location","suggestions","strength","score","crackTime","warnings","length","warn","response","api","signUpEmail","cookies","authError","includes","info","Headers","forEach","value","key","header","Object","entries","Array","isArray","val","user","token","userData","updateData","trim","update","set","where","id","console","log","nameUpdateError","patientRole","select","from","name","limit","insert","values","user_id","role_id","parseInt","roleError","updatedUser","userResponse","userWithoutPassword","data","lockoutDuration","signInEmail","session","getSession","dbSessions","userId","expiresAt","Date","orderBy","createdAt","substring","sessionError","userRole","PATIENT","originalEmail","fullUser","dbUser","userRoles","roleRecords","role","statusCode","signOut","get","preHandler","ADMIN","DOCTOR","NURSE","VIEW_PATIENT","ROLE_PERMISSIONS","permissions","ability","serialized","abilities","actions","subjects","adminSecret","requiredSecret","process","env","ADMIN_SECRET","NODE_ENV","secretBuffer","Buffer","providedBuffer","timingSafeEqual","createAdminUser","default","result","generateCsrf","csrfToken","currentPassword","newPassword","updatePassword","success","validation","skipBreachCheck","skipHistoryCheck","policy","getPasswordPolicy","minLength","maxLength","breachCheck","breached"],"sources":["auth.routes.js"],"sourcesContent":["// Auth routes are now handled by Better Auth\n// This file is kept for backward compatibility and custom auth routes\n// All standard /api/auth/* routes are handled by Better Auth via server.js\n\nimport crypto from \"crypto\";\nimport auth from \"../config/betterAuth.js\";\nimport { fromNodeHeaders } from \"better-auth/node\";\nimport {\n  authenticate,\n  optionalAuth,\n} from \"../middleware/betterAuth.middleware.js\";\nimport {\n  requireRole,\n  requirePermission,\n} from \"../middleware/rbac.middleware.js\";\nimport { ROLES, PERMISSIONS } from \"../config/rbac.js\";\nimport { defineUserAbilities, serializeAbilities, ACTIONS, SUBJECTS } from \"../config/casl.js\";\nimport { db } from \"../config/db.drizzle.js\";\nimport { users, roles, user_has_roles, sessions } from \"../db/schemas/index.js\";\nimport { eq, and, gt, desc } from \"drizzle-orm\";\nimport { validatePassword, PASSWORD_REQUIREMENTS } from \"../utils/passwordSecurity.js\";\nimport { passwordHashingService } from \"../services/PasswordHashing.service.js\";\n\nimport { logger } from '../utils/logger.js';\n// Rate limit key generator (IP + email combination for better security)\nfunction authRateLimitKey(request) {\n  const ip = request.ip || request.headers['x-forwarded-for'] || 'unknown';\n  const email = request.body?.email || request.body?.username || '';\n  if (email) {\n    return `${ip}:${email.toLowerCase()}`;\n  }\n  return ip;\n}\n\n// Fastify plugin for auth routes\nasync function authRoutes(fastify, options) {\n  // Sign up route with rate limiting\n  fastify.post(\"/sign-up\", {\n    config: {\n      rateLimit: {\n        max: 3, // 3 signup attempts\n        timeWindow: '1 hour', // per hour\n        keyGenerator: authRateLimitKey,\n        errorResponseBuilder: function(request, context) {\n          return {\n            status: 429,\n            error: 'Too Many Signup Attempts',\n            message: 'Too many signup attempts. Please try again in 1 hour.',\n            retryAfter: context.after\n          };\n        }\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      // SECURITY: TICKET #006 - Validate password strength before signup\n      const { password, email, firstName, lastName } = request.body;\n\n      if (password) {\n        // Validate password with comprehensive security checks\n        const passwordValidation = await validatePassword(password, {\n          userInputs: [email, firstName, lastName].filter(Boolean)\n        });\n\n        if (!passwordValidation.valid) {\n          return reply.code(422).send({\n            status: 422,\n            message: 'Password does not meet security requirements',\n            errors: passwordValidation.errors.map(error => ({\n              type: 'field',\n              msg: error,\n              path: 'password',\n              location: 'body'\n            })),\n            suggestions: passwordValidation.suggestions,\n            strength: {\n              score: passwordValidation.strength?.score,\n              crackTime: passwordValidation.strength?.crackTime\n            }\n          });\n        }\n\n        // Log warnings (if any)\n        if (passwordValidation.warnings.length > 0) {\n          logger.warn('Password validation warnings:', passwordValidation.warnings)\n        }\n      }\n\n      let response;\n      try {\n        response = await auth.api.signUpEmail({\n          body: request.body,\n          headers: fromNodeHeaders(request.headers),\n          cookies: request.cookies,\n        });\n      } catch (authError) {\n        // Handle Better Auth validation errors\n        logger.error(\"Better Auth signup error:\", authError);\n        \n        // Check for password validation errors\n        if (authError.message?.includes(\"too short\") || authError.message?.includes(\"Password is too short\")) {\n          return reply.code(422).send({\n            status: 422,\n            message: \"Password validation failed\",\n            errors: [\n              {\n                type: \"field\",\n                msg: \"Password must be at least 12 characters long (HIPAA requirement)\",\n                path: \"password\",\n                location: \"body\",\n              },\n            ],\n          });\n        }\n        \n        // Handle other Better Auth errors\n        return reply.code(400).send({\n          status: 400,\n          message: \"Failed to create user account\",\n          error: authError.message || \"Unknown error during signup\",\n        });\n      }\n\n      logger.info(\"Better Auth sign-up response:\", response)\n\n      // Forward headers from Better Auth response (including set-cookie headers)\n      // Better Auth may return a Web API Response or a plain object\n      if (response && response.headers) {\n        // Handle Web API Headers object\n        if (\n          response.headers instanceof Headers ||\n          typeof response.headers.forEach === \"function\"\n        ) {\n          response.headers.forEach((value, key) => {\n            reply.header(key, value);\n          });\n        }\n        // Handle plain object with headers\n        else if (typeof response.headers === \"object\") {\n          Object.entries(response.headers).forEach(([key, value]) => {\n            if (Array.isArray(value)) {\n              value.forEach((val) => reply.header(key, val));\n            } else {\n              reply.header(key, value);\n            }\n          });\n        }\n      }\n\n      // Instead of returning the token in the response body,\n      // we'll rely on the cookies being set by Better Auth\n      if (response && response.user) {\n        const { token, headers, ...userData } = response;\n\n        // Update user with firstName and lastName (required fields)\n        try {\n          const { firstName, lastName } = request.body;\n\n          // Validate firstName and lastName are provided\n          if (!firstName || !lastName) {\n            return reply.code(400).send({\n              status: 400,\n              message: \"Validation failed\",\n              errors: [\n                ...(!firstName\n                  ? [\n                      {\n                        type: \"field\",\n                        msg: \"First name is required\",\n                        path: \"firstName\",\n                        location: \"body\",\n                      },\n                    ]\n                  : []),\n                ...(!lastName\n                  ? [\n                      {\n                        type: \"field\",\n                        msg: \"Last name is required\",\n                        path: \"lastName\",\n                        location: \"body\",\n                      },\n                    ]\n                  : []),\n              ],\n            });\n          }\n\n          // Update user with firstName and lastName\n          const updateData = {\n            firstName: firstName.trim(),\n            lastName: lastName.trim(),\n          };\n\n          await db\n            .update(users)\n            .set(updateData)\n            .where(eq(users.id, response.user.id));\n\n          console.log(\n            `Updated user ${response.user.id} with firstName/lastName`\n          );\n        } catch (nameUpdateError) {\n          logger.error(\"Error updating firstName/lastName:\", nameUpdateError)\n          return reply.code(500).send({\n            status: 500,\n            message: \"Error saving user details\",\n          });\n        }\n\n        // Assign default role to the user\n        try {\n          // Get the \"patient\" role from the database\n          const patientRole = await db\n            .select()\n            .from(roles)\n            .where(eq(roles.name, \"patient\"))\n            .limit(1);\n\n          if (patientRole.length > 0) {\n            // Insert the user-role association\n            await db.insert(user_has_roles).values({\n              user_id: response.user.id,\n              role_id: parseInt(patientRole[0].id), // Convert to integer\n            });\n\n            console.log(\n              `Assigned default 'patient' role to user ${response.user.id}`\n            );\n          } else {\n            console.warn(\n              \"Patient role not found in database. Skipping role assignment.\"\n            );\n          }\n        } catch (roleError) {\n          logger.error(\"Error assigning default role:\", roleError)\n          // Don't fail the signup if role assignment fails, just log it\n        }\n\n        // Fetch updated user with firstName and lastName\n        const updatedUser = await db\n          .select()\n          .from(users)\n          .where(eq(users.id, response.user.id))\n          .limit(1);\n\n        const userResponse =\n          updatedUser.length > 0 ? updatedUser[0] : userData.user;\n        const { password, ...userWithoutPassword } = userResponse;\n\n        return {\n          status: 200,\n          message: \"User registered successfully\",\n          data: {\n            user: userWithoutPassword,\n          },\n        };\n      } else {\n        // Handle case where response structure is different\n        return {\n          status: 200,\n          message: \"User registered successfully\",\n          data: {\n            user: response,\n          },\n        };\n      }\n    } catch (error) {\n      logger.error(\"Sign up error:\", error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during sign up\",\n      };\n    }\n  });\n\n  // Sign in route with rate limiting (prevent brute-force)\n  fastify.post(\"/sign-in\", {\n    config: {\n      rateLimit: {\n        max: 5, // 5 login attempts\n        timeWindow: '15 minutes', // per 15 minutes\n        keyGenerator: authRateLimitKey,\n        errorResponseBuilder: function(request, context) {\n          return {\n            status: 429,\n            error: 'Too Many Login Attempts',\n            message: 'Too many login attempts. Please try again in 15 minutes.',\n            retryAfter: context.after,\n            lockoutDuration: '15 minutes'\n          };\n        }\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      // Authenticate with Better Auth\n      const response = await auth.api.signInEmail({\n        body: request.body,\n        headers: fromNodeHeaders(request.headers),\n        cookies: request.cookies,\n      });\n\n      if (!response || !response.user) {\n        return reply.code(401).send({\n          status: 401,\n          message: \"Invalid email or password\",\n          code: \"INVALID_EMAIL_OR_PASSWORD\",\n        });\n      }\n\n      // Forward headers from Better Auth response (including set-cookie headers)\n      // Better Auth may return a Web API Response or a plain object\n      if (response && response.headers) {\n        // Handle Web API Headers object\n        if (\n          response.headers instanceof Headers ||\n          typeof response.headers.forEach === \"function\"\n        ) {\n          response.headers.forEach((value, key) => {\n            reply.header(key, value);\n          });\n        }\n        // Handle plain object with headers\n        else if (typeof response.headers === \"object\") {\n          Object.entries(response.headers).forEach(([key, value]) => {\n            if (Array.isArray(value)) {\n              value.forEach((val) => reply.header(key, val));\n            } else {\n              reply.header(key, value);\n            }\n          });\n        }\n      }\n\n      // Check if Better Auth created a session automatically\n      // With autoSignIn: true, it should create a session\n      let session = null;\n      try {\n        session = await auth.api.getSession({\n          headers: fromNodeHeaders(request.headers),\n          cookies: request.cookies,\n        });\n\n        if (session) {\n          logger.info(\"âœ… Better Auth created session automatically\")\n        } else {\n          logger.info(\"âš ï¸ Better Auth didn't create session, checking DB...\")\n\n          // Check if session exists in DB but Better Auth can't read it\n          const dbSessions = await db\n            .select()\n            .from(sessions)\n            .where(\n              and(\n                eq(sessions.userId, response.user.id),\n                gt(sessions.expiresAt, new Date())\n              )\n            )\n            .orderBy(desc(sessions.createdAt))\n            .limit(1);\n\n          if (dbSessions.length > 0) {\n            console.log(\n              \"ðŸ“¦ Session exists in DB but Better Auth can't read it\"\n            );\n            console.log(\n              \"   Token format might be wrong. Token preview:\",\n              dbSessions[0].token.substring(0, 20)\n            );\n          } else {\n            logger.info(\"âŒ No session found in DB either\")\n          }\n        }\n      } catch (sessionError) {\n        logger.error(\"Error checking session:\", sessionError)\n      }\n\n      // Get user's full details from database (including firstName, lastName, and role)\n      let userRole = ROLES.PATIENT;\n\n      // Preserve original email case from request body\n      const originalEmail = request.body?.email || response.user.email;\n\n      let fullUser = {\n        ...response.user,\n        email: originalEmail, // Always use original email case from request\n      };\n\n      try {\n        // Fetch complete user record from database to get firstName and lastName\n        const dbUser = await db\n          .select()\n          .from(users)\n          .where(eq(users.id, response.user.id))\n          .limit(1);\n\n        if (dbUser.length > 0) {\n          // Update email in database to preserve original case (if different)\n          if (dbUser[0].email.toLowerCase() !== originalEmail.toLowerCase()) {\n            // Email case is different, update it in database\n            await db\n              .update(users)\n              .set({ email: originalEmail })\n              .where(eq(users.id, response.user.id));\n            console.log(\n              `ðŸ“§ Updated email case in database: ${dbUser[0].email} â†’ ${originalEmail}`\n            );\n          }\n\n          fullUser = {\n            ...response.user,\n            email: originalEmail, // Keep original email case from request, not from database\n            firstName: dbUser[0].firstName || null,\n            lastName: dbUser[0].lastName || null,\n          };\n        }\n\n        // Get user's role from database\n        const userRoles = await db\n          .select()\n          .from(user_has_roles)\n          .where(eq(user_has_roles.user_id, response.user.id))\n          .limit(1);\n\n        if (userRoles.length > 0) {\n          const roleRecords = await db\n            .select()\n            .from(roles)\n            .where(eq(roles.id, userRoles[0].role_id))\n            .limit(1);\n\n          if (roleRecords.length > 0) {\n            userRole = roleRecords[0].name;\n          }\n        }\n      } catch (error) {\n        logger.error(\"Error loading user details during sign-in:\", error)\n        // Continue with response.user if database fetch fails\n      }\n\n      // Remove password from response if present\n      const { password, ...userWithoutPassword } = fullUser;\n\n      return {\n        status: 200,\n        message: \"User logged in successfully\",\n        data: {\n          user: {\n            ...userWithoutPassword,\n            role: userRole,\n          },\n        },\n      };\n    } catch (error) {\n      logger.error(\"Sign in error:\", error)\n\n      // Handle Better Auth specific errors\n      if (error.statusCode === 401 || error.status === \"UNAUTHORIZED\") {\n        return reply.code(401).send({\n          status: 401,\n          message: error.body?.message || \"Invalid email or password\",\n          code: error.body?.code || \"INVALID_EMAIL_OR_PASSWORD\",\n        });\n      }\n\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during sign in\",\n      };\n    }\n  });\n\n  // Sign out route\n  fastify.post(\"/sign-out\", async (request, reply) => {\n    try {\n      const response = await auth.api.signOut({\n        headers: fromNodeHeaders(request.headers),\n        cookies: request.cookies,\n      });\n\n      // Forward headers from Better Auth response (including set-cookie headers to clear cookies)\n      // Better Auth may return a Web API Response or a plain object\n      if (response && response.headers) {\n        // Handle Web API Headers object\n        if (\n          response.headers instanceof Headers ||\n          typeof response.headers.forEach === \"function\"\n        ) {\n          response.headers.forEach((value, key) => {\n            reply.header(key, value);\n          });\n        }\n        // Handle plain object with headers\n        else if (typeof response.headers === \"object\") {\n          Object.entries(response.headers).forEach(([key, value]) => {\n            if (Array.isArray(value)) {\n              value.forEach((val) => reply.header(key, val));\n            } else {\n              reply.header(key, value);\n            }\n          });\n        }\n      }\n\n      return {\n        status: 200,\n        message: \"User logged out successfully\",\n      };\n    } catch (error) {\n      logger.error(\"Sign out error:\", error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during sign out\",\n      };\n    }\n  });\n\n  // Test RBAC - Admin only route\n  fastify.get(\n    \"/admin-only\",\n    {\n      preHandler: [authenticate, requireRole(ROLES.ADMIN)],\n    },\n    async (request, reply) => {\n      return {\n        status: 200,\n        message: \"Welcome, Admin!\",\n        data: {\n          user: request.user,\n          role: request.user.role,\n        },\n      };\n    }\n  );\n\n  // Test RBAC - Healthcare staff only route\n  fastify.get(\n    \"/medical-staff\",\n    {\n      preHandler: [\n        authenticate,\n        requireRole(ROLES.ADMIN, ROLES.DOCTOR, ROLES.NURSE),\n      ],\n    },\n    async (request, reply) => {\n      return {\n        status: 200,\n        message: \"Welcome, Medical Staff!\",\n        data: {\n          user: request.user,\n          role: request.user.role,\n        },\n      };\n    }\n  );\n\n  // Test RBAC - Permission based route\n  fastify.get(\n    \"/view-patients\",\n    {\n      preHandler: [authenticate, requirePermission(PERMISSIONS.VIEW_PATIENT)],\n    },\n    async (request, reply) => {\n      return {\n        status: 200,\n        message: \"You have permission to view patients!\",\n        data: {\n          user: request.user,\n          role: request.user.role,\n        },\n      };\n    }\n  );\n\n  // Get current user profile with role and permissions\n  fastify.get(\n    \"/me\",\n    {\n      preHandler: [authenticate],\n    },\n    async (request, reply) => {\n      try {\n        const { ROLE_PERMISSIONS } = await import(\"../config/rbac.js\");\n        const userRole = request.user.role || ROLES.PATIENT;\n        const permissions = ROLE_PERMISSIONS[userRole] || [];\n\n        // Ensure we're using the email from request.user (which comes from database via middleware)\n        // The middleware already fetches from database and preserves email case\n        const userData = {\n          ...request.user,\n          role: userRole,\n          permissions: permissions,\n        };\n\n        logger.info(\"ðŸ“§ /api/auth/me - Returning user email:\", userData.email)\n        logger.info(\"ðŸ“§ /api/auth/me - User ID:\", userData.id)\n\n        return {\n          status: 200,\n          message: \"User profile retrieved successfully\",\n          data: {\n            user: userData,\n          },\n        };\n      } catch (error) {\n        logger.error(\"Error fetching user profile:\", error)\n        reply.code(500);\n        return {\n          status: 500,\n          message: \"Server error while fetching user profile\",\n        };\n      }\n    }\n  );\n\n  // Get user's CASL abilities for frontend isomorphic authorization\n  fastify.get(\n    \"/abilities\",\n    {\n      preHandler: [authenticate],\n    },\n    async (request, reply) => {\n      try {\n        const user = request.user;\n\n        // Build user abilities\n        const ability = defineUserAbilities(user);\n\n        // Serialize for frontend consumption\n        const serialized = serializeAbilities(ability, user);\n\n        return {\n          status: 200,\n          message: \"User abilities retrieved successfully\",\n          data: {\n            abilities: serialized,\n            // Include static definitions for frontend reference\n            actions: ACTIONS,\n            subjects: SUBJECTS,\n          },\n        };\n      } catch (error) {\n        logger.error(\"Error fetching user abilities:\", error);\n        reply.code(500);\n        return {\n          status: 500,\n          message: \"Server error while fetching user abilities\",\n        };\n      }\n    }\n  );\n\n  // Special endpoint to create admin users\n  // SECURITY FIX: Require ADMIN_SECRET environment variable for admin creation\n  // This prevents unauthorized admin creation in production\n  fastify.post(\"/create-admin\", {\n    config: {\n      rateLimit: {\n        max: 3, // 3 admin creation attempts\n        timeWindow: '1 hour', // per hour\n        keyGenerator: (request) => request.ip,\n        errorResponseBuilder: function(request, context) {\n          return {\n            status: 429,\n            error: 'Too Many Admin Creation Attempts',\n            message: 'Too many admin creation attempts. Please try again later.',\n            retryAfter: context.after\n          };\n        }\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      const { email, password, name, firstName, lastName, adminSecret } = request.body;\n\n      // SECURITY: Require ADMIN_SECRET for admin creation\n      const requiredSecret = process.env.ADMIN_SECRET;\n\n      // In production, ADMIN_SECRET must be set\n      if (process.env.NODE_ENV === 'production' && !requiredSecret) {\n        logger.error(\"ADMIN_SECRET not configured in production - admin creation disabled\");\n        return reply.code(503).send({\n          status: 503,\n          message: \"Admin creation is not configured. Please contact system administrator.\",\n        });\n      }\n\n      // Validate admin secret if configured\n      if (requiredSecret) {\n        if (!adminSecret) {\n          logger.warn(\"Admin creation attempt without secret\", { ip: request.ip });\n          return reply.code(403).send({\n            status: 403,\n            message: \"Admin secret is required for admin creation.\",\n          });\n        }\n\n        // Use timing-safe comparison to prevent timing attacks\n        const secretBuffer = Buffer.from(requiredSecret);\n        const providedBuffer = Buffer.from(adminSecret);\n\n        if (secretBuffer.length !== providedBuffer.length ||\n            !crypto.timingSafeEqual(secretBuffer, providedBuffer)) {\n          logger.warn(\"Invalid admin secret provided\", { ip: request.ip });\n          return reply.code(403).send({\n            status: 403,\n            message: \"Invalid admin secret.\",\n          });\n        }\n      } else {\n        // Development mode warning\n        logger.warn(\n          \"SECURITY WARNING: Admin creation endpoint running without ADMIN_SECRET protection. Set ADMIN_SECRET environment variable.\"\n        );\n      }\n\n      // Import the createAdminUser function\n      const createAdminUser = (await import(\"../utils/createAdminUser.js\"))\n        .default;\n\n      // Create the admin user\n      const result = await createAdminUser(\n        email,\n        password,\n        name,\n        firstName,\n        lastName\n      );\n\n      logger.info(\"Admin user created successfully\", { email: result.email });\n\n      return {\n        status: 200,\n        message: \"Admin user created successfully\",\n        data: result,\n      };\n    } catch (error) {\n      logger.error(\"Error creating admin user:\", error);\n\n      // Return specific error messages for known issues\n      if (error.message?.includes('already exists')) {\n        return reply.code(409).send({\n          status: 409,\n          message: \"A user with this email already exists.\",\n        });\n      }\n\n      if (error.message?.includes('12 characters')) {\n        return reply.code(422).send({\n          status: 422,\n          message: error.message,\n        });\n      }\n\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error while creating admin user\",\n      };\n    }\n  });\n\n  // CSRF Token endpoint (SECURITY: TICKET #004)\n  // Frontend should call this to get a CSRF token before making state-changing requests\n  fastify.get(\"/csrf-token\", async (request, reply) => {\n    // Generate and return CSRF token\n    const token = await reply.generateCsrf();\n\n    return {\n      status: 200,\n      csrfToken: token\n    };\n  });\n\n  // ============================================================================\n  // PASSWORD MANAGEMENT ENDPOINTS\n  // ============================================================================\n\n  // Change password endpoint (requires authentication)\n  fastify.post(\"/change-password\", {\n    preHandler: [authenticate],\n    config: {\n      rateLimit: {\n        max: 3, // 3 password change attempts\n        timeWindow: '15 minutes', // per 15 minutes\n        keyGenerator: (request) => request.user?.id || request.ip,\n        errorResponseBuilder: function(request, context) {\n          return {\n            status: 429,\n            error: 'Too Many Password Change Attempts',\n            message: 'Too many password change attempts. Please try again in 15 minutes.',\n            retryAfter: context.after\n          };\n        }\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      const { currentPassword, newPassword } = request.body;\n      const userId = request.user.id;\n\n      // Validate input\n      if (!currentPassword || !newPassword) {\n        return reply.code(400).send({\n          status: 400,\n          message: 'Current password and new password are required',\n        });\n      }\n\n      // Validate new password against security requirements\n      const passwordValidation = await validatePassword(newPassword, {\n        userInputs: [request.user.email, request.user.firstName, request.user.lastName].filter(Boolean),\n        userId: userId, // Enable password history check\n      });\n\n      if (!passwordValidation.valid) {\n        return reply.code(422).send({\n          status: 422,\n          message: 'New password does not meet security requirements',\n          errors: passwordValidation.errors.map(error => ({\n            type: 'field',\n            msg: error,\n            path: 'newPassword',\n            location: 'body'\n          })),\n          suggestions: passwordValidation.suggestions,\n          strength: passwordValidation.strength ? {\n            score: passwordValidation.strength.score,\n            crackTime: passwordValidation.strength.crackTime\n          } : null\n        });\n      }\n\n      // Use password hashing service to update password\n      const result = await passwordHashingService.updatePassword(userId, currentPassword, newPassword);\n\n      if (!result.success) {\n        return reply.code(400).send({\n          status: 400,\n          message: result.message,\n        });\n      }\n\n      // Log password change for audit\n      logger.info(`Password changed successfully for user ${userId}`);\n\n      return {\n        status: 200,\n        message: 'Password changed successfully',\n      };\n    } catch (error) {\n      logger.error(\"Password change error:\", error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during password change\",\n      };\n    }\n  });\n\n  // Password strength check endpoint (public - for real-time feedback)\n  fastify.post(\"/check-password-strength\", {\n    config: {\n      rateLimit: {\n        max: 30, // Allow frequent checks for UX\n        timeWindow: '1 minute',\n        keyGenerator: (request) => request.ip,\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      const { password, userInputs = [] } = request.body;\n\n      if (!password) {\n        return reply.code(400).send({\n          status: 400,\n          message: 'Password is required',\n        });\n      }\n\n      // Don't check breached passwords or history for strength-only check\n      const validation = await validatePassword(password, {\n        userInputs,\n        skipBreachCheck: true, // Skip for real-time feedback\n        skipHistoryCheck: true, // Skip for real-time feedback\n      });\n\n      return {\n        status: 200,\n        data: {\n          valid: validation.valid,\n          strength: validation.strength,\n          errors: validation.errors,\n          suggestions: validation.suggestions,\n        }\n      };\n    } catch (error) {\n      logger.error(\"Password strength check error:\", error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during password strength check\",\n      };\n    }\n  });\n\n  // Get password policy endpoint (public - for UI display)\n  fastify.get(\"/password-policy\", async (request, reply) => {\n    try {\n      const policy = passwordHashingService.getPasswordPolicy();\n\n      return {\n        status: 200,\n        data: {\n          policy: {\n            ...policy,\n            minLength: PASSWORD_REQUIREMENTS.minLength,\n            maxLength: PASSWORD_REQUIREMENTS.maxLength,\n          }\n        }\n      };\n    } catch (error) {\n      logger.error(\"Password policy fetch error:\", error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error fetching password policy\",\n      };\n    }\n  });\n\n  // Validate password endpoint (full validation including breach check)\n  fastify.post(\"/validate-password\", {\n    config: {\n      rateLimit: {\n        max: 10, // Limit due to external API calls\n        timeWindow: '1 minute',\n        keyGenerator: (request) => request.ip,\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      const { password, userInputs = [], userId = null } = request.body;\n\n      if (!password) {\n        return reply.code(400).send({\n          status: 400,\n          message: 'Password is required',\n        });\n      }\n\n      // Full validation including breach check\n      const validation = await validatePassword(password, {\n        userInputs,\n        skipBreachCheck: false,\n        userId: userId, // Optional: include for history check\n        skipHistoryCheck: !userId,\n      });\n\n      return {\n        status: 200,\n        data: {\n          valid: validation.valid,\n          errors: validation.errors,\n          warnings: validation.warnings,\n          suggestions: validation.suggestions,\n          strength: validation.strength,\n          breachCheck: validation.breachCheck ? {\n            breached: validation.breachCheck.breached,\n            message: validation.breachCheck.message,\n          } : null,\n        }\n      };\n    } catch (error) {\n      logger.error(\"Password validation error:\", error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: \"Server error during password validation\",\n      };\n    }\n  });\n}\n\nexport default authRoutes;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OA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","ignoreList":[]}