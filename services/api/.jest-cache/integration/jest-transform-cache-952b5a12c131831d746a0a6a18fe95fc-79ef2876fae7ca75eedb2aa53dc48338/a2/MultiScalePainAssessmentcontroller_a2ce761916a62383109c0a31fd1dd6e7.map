{"version":3,"names":["cov_w4l5lx2lk","actualCoverage","db","multi_scale_pain_assessments","PAIN_SCALE_TYPES","PAIN_SCALE_RANGES","normalizeToTenScale","getPainIntensityLevel","patients","eq","and","desc","gte","lte","sql","or","logger","logAudit","MultiScalePainAssessmentController","cleanAssessmentData","data","f","cleaned","s","integerFields","decimalFields","forEach","field","b","undefined","parsed","parseInt","isNaN","parseFloat","Object","keys","key","trim","validateScaleScores","errors","scaleType","pain_scale_type","push","message","range","nrs_score","min","max","vas_score","wong_baker_score","subscale_max","acceptable_pain_level","post_intervention_score","calculateTotalScores","result","flaccFields","hasAnyFlacc","some","flacc_total_score","reduce","sum","painadFields","hasAnyPainad","painad_total_score","cpotFields","hasAnyCpot","cpot_total_score","rawScore","normalized_pain_score","index","request","reply","patient_id","scale_type","limit","offset","from_date","to_date","requires_follow_up","query","conditions","assessment_timestamp","Date","select","from","length","where","assessments","orderBy","countQuery","count","countResult","total","code","status","pagination","totalPages","Math","ceil","error","process","env","NODE_ENV","getPatientAssessments","patientId","params","show","id","assessment","intensityLevel","pain_intensity","store","body","cleanedData","validationErrors","calculatedData","signed_at","signed_by_id","amended","amendment_reason","amended_at","amended_by_id","insertData","assessed_by_id","user","created_by_id","updated_by_id","createdAt","updatedAt","newAssessment","insert","values","returning","update","existing","mergedData","_","signature_id","updateData","set","delete","sign","amend","wong_baker_face_selected","flacc_face","flacc_legs","flacc_activity","flacc_cry","flacc_consolability","painad_breathing","painad_negative_vocalization","painad_facial_expression","painad_body_language","painad_consolability","cpot_facial_expression","cpot_body_movements","cpot_muscle_tension","cpot_ventilator_compliance","pain_location_primary","pain_location_secondary","pain_quality","pain_radiation","additional_notes","intervention_effective","getPatientTrend","days","startDate","setDate","getDate","intervention_given","avgResult","avg_score","max_score","min_score","interventions_count","effective_interventions","period_days","reverse","statistics","average_score","total_assessments","interventions_given","getReference","scales","ranges","intensity_levels","NONE","label","MILD","MODERATE","SEVERE","scale_descriptions","NRS","name","description","use_case","VAS","WONG_BAKER","FLACC","PAINAD","CPOT","controller","bind"],"sources":["MultiScalePainAssessment.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  multi_scale_pain_assessments,\n  PAIN_SCALE_TYPES,\n  PAIN_SCALE_RANGES,\n  normalizeToTenScale,\n  getPainIntensityLevel,\n} from '../db/schemas/multiScalePainAssessment.schema.js';\nimport { patients } from '../db/schemas/index.js';\nimport { eq, and, desc, gte, lte, sql, or } from 'drizzle-orm';\nimport { logger } from '../utils/logger.js';\nimport { logAudit } from '../middleware/audit.middleware.js';\n\n/**\n * Multi-Scale Pain Assessment Controller\n *\n * Manages pain assessments with support for multiple standardized scales:\n * - NRS (Numeric Rating Scale)\n * - VAS (Visual Analog Scale)\n * - Wong-Baker FACES\n * - FLACC (Face, Legs, Activity, Cry, Consolability)\n * - PAINAD (Pain Assessment in Advanced Dementia)\n * - CPOT (Critical Care Pain Observation Tool)\n *\n * HIPAA/21 CFR Part 11 Compliant\n */\nclass MultiScalePainAssessmentController {\n  /**\n   * Clean and normalize assessment data\n   */\n  cleanAssessmentData(data) {\n    const cleaned = { ...data };\n\n    // Integer fields - convert empty strings to null\n    const integerFields = [\n      'nrs_score',\n      'wong_baker_score',\n      'flacc_face',\n      'flacc_legs',\n      'flacc_activity',\n      'flacc_cry',\n      'flacc_consolability',\n      'flacc_total_score',\n      'painad_breathing',\n      'painad_negative_vocalization',\n      'painad_facial_expression',\n      'painad_body_language',\n      'painad_consolability',\n      'painad_total_score',\n      'cpot_facial_expression',\n      'cpot_body_movements',\n      'cpot_muscle_tension',\n      'cpot_ventilator_compliance',\n      'cpot_total_score',\n      'normalized_pain_score',\n      'pain_duration_value',\n      'acceptable_pain_level',\n      'post_intervention_score',\n    ];\n\n    // Decimal fields\n    const decimalFields = ['vas_score'];\n\n    // Clean integer fields\n    integerFields.forEach((field) => {\n      if (cleaned[field] === '' || cleaned[field] === null || cleaned[field] === undefined) {\n        cleaned[field] = null;\n      } else if (typeof cleaned[field] === 'string') {\n        const parsed = parseInt(cleaned[field], 10);\n        cleaned[field] = isNaN(parsed) ? null : parsed;\n      }\n    });\n\n    // Clean decimal fields\n    decimalFields.forEach((field) => {\n      if (cleaned[field] === '' || cleaned[field] === null || cleaned[field] === undefined) {\n        cleaned[field] = null;\n      } else if (typeof cleaned[field] === 'string') {\n        const parsed = parseFloat(cleaned[field]);\n        cleaned[field] = isNaN(parsed) ? null : parsed;\n      }\n    });\n\n    // Clean string fields - convert empty strings to null\n    Object.keys(cleaned).forEach((key) => {\n      if (typeof cleaned[key] === 'string' && cleaned[key].trim() === '') {\n        cleaned[key] = null;\n      }\n    });\n\n    return cleaned;\n  }\n\n  /**\n   * Validate scale-specific scores\n   */\n  validateScaleScores(data) {\n    const errors = [];\n    const scaleType = data.pain_scale_type;\n\n    if (!scaleType) {\n      errors.push({ field: 'pain_scale_type', message: 'Pain scale type is required' });\n      return errors;\n    }\n\n    if (!PAIN_SCALE_TYPES[scaleType]) {\n      errors.push({ field: 'pain_scale_type', message: `Invalid pain scale type: ${scaleType}` });\n      return errors;\n    }\n\n    const range = PAIN_SCALE_RANGES[scaleType];\n\n    switch (scaleType) {\n      case 'NRS':\n        if (data.nrs_score !== null && data.nrs_score !== undefined) {\n          if (data.nrs_score < range.min || data.nrs_score > range.max) {\n            errors.push({ field: 'nrs_score', message: `NRS score must be between ${range.min} and ${range.max}` });\n          }\n        }\n        break;\n\n      case 'VAS':\n        if (data.vas_score !== null && data.vas_score !== undefined) {\n          if (data.vas_score < range.min || data.vas_score > range.max) {\n            errors.push({ field: 'vas_score', message: `VAS score must be between ${range.min} and ${range.max}mm` });\n          }\n        }\n        break;\n\n      case 'WONG_BAKER':\n        if (data.wong_baker_score !== null && data.wong_baker_score !== undefined) {\n          if (data.wong_baker_score < range.min || data.wong_baker_score > range.max) {\n            errors.push({ field: 'wong_baker_score', message: `Wong-Baker score must be between ${range.min} and ${range.max}` });\n          }\n        }\n        break;\n\n      case 'FLACC':\n        ['flacc_face', 'flacc_legs', 'flacc_activity', 'flacc_cry', 'flacc_consolability'].forEach((field) => {\n          if (data[field] !== null && data[field] !== undefined) {\n            if (data[field] < 0 || data[field] > range.subscale_max) {\n              errors.push({ field, message: `${field} must be between 0 and ${range.subscale_max}` });\n            }\n          }\n        });\n        break;\n\n      case 'PAINAD':\n        ['painad_breathing', 'painad_negative_vocalization', 'painad_facial_expression', 'painad_body_language', 'painad_consolability'].forEach((field) => {\n          if (data[field] !== null && data[field] !== undefined) {\n            if (data[field] < 0 || data[field] > range.subscale_max) {\n              errors.push({ field, message: `${field} must be between 0 and ${range.subscale_max}` });\n            }\n          }\n        });\n        break;\n\n      case 'CPOT':\n        ['cpot_facial_expression', 'cpot_body_movements', 'cpot_muscle_tension', 'cpot_ventilator_compliance'].forEach((field) => {\n          if (data[field] !== null && data[field] !== undefined) {\n            if (data[field] < 0 || data[field] > range.subscale_max) {\n              errors.push({ field, message: `${field} must be between 0 and ${range.subscale_max}` });\n            }\n          }\n        });\n        break;\n    }\n\n    // Validate acceptable pain level\n    if (data.acceptable_pain_level !== null && data.acceptable_pain_level !== undefined) {\n      if (data.acceptable_pain_level < 0 || data.acceptable_pain_level > 10) {\n        errors.push({ field: 'acceptable_pain_level', message: 'Acceptable pain level must be between 0 and 10' });\n      }\n    }\n\n    // Validate post-intervention score\n    if (data.post_intervention_score !== null && data.post_intervention_score !== undefined) {\n      if (data.post_intervention_score < 0 || data.post_intervention_score > 10) {\n        errors.push({ field: 'post_intervention_score', message: 'Post-intervention score must be between 0 and 10' });\n      }\n    }\n\n    return errors;\n  }\n\n  /**\n   * Calculate total score for behavioral scales\n   */\n  calculateTotalScores(data) {\n    const result = { ...data };\n\n    // Calculate FLACC total\n    if (data.pain_scale_type === 'FLACC') {\n      const flaccFields = ['flacc_face', 'flacc_legs', 'flacc_activity', 'flacc_cry', 'flacc_consolability'];\n      const hasAnyFlacc = flaccFields.some((f) => data[f] !== null && data[f] !== undefined);\n      if (hasAnyFlacc) {\n        result.flacc_total_score = flaccFields.reduce((sum, field) => sum + (data[field] || 0), 0);\n      }\n    }\n\n    // Calculate PAINAD total\n    if (data.pain_scale_type === 'PAINAD') {\n      const painadFields = ['painad_breathing', 'painad_negative_vocalization', 'painad_facial_expression', 'painad_body_language', 'painad_consolability'];\n      const hasAnyPainad = painadFields.some((f) => data[f] !== null && data[f] !== undefined);\n      if (hasAnyPainad) {\n        result.painad_total_score = painadFields.reduce((sum, field) => sum + (data[field] || 0), 0);\n      }\n    }\n\n    // Calculate CPOT total\n    if (data.pain_scale_type === 'CPOT') {\n      const cpotFields = ['cpot_facial_expression', 'cpot_body_movements', 'cpot_muscle_tension', 'cpot_ventilator_compliance'];\n      const hasAnyCpot = cpotFields.some((f) => data[f] !== null && data[f] !== undefined);\n      if (hasAnyCpot) {\n        result.cpot_total_score = cpotFields.reduce((sum, field) => sum + (data[field] || 0), 0);\n      }\n    }\n\n    // Calculate normalized pain score (0-10)\n    let rawScore = null;\n    switch (data.pain_scale_type) {\n      case 'NRS':\n        rawScore = data.nrs_score;\n        break;\n      case 'VAS':\n        rawScore = data.vas_score;\n        break;\n      case 'WONG_BAKER':\n        rawScore = data.wong_baker_score;\n        break;\n      case 'FLACC':\n        rawScore = result.flacc_total_score;\n        break;\n      case 'PAINAD':\n        rawScore = result.painad_total_score;\n        break;\n      case 'CPOT':\n        rawScore = result.cpot_total_score;\n        break;\n    }\n\n    result.normalized_pain_score = normalizeToTenScale(rawScore, data.pain_scale_type);\n\n    return result;\n  }\n\n  /**\n   * Get all pain assessments with optional filters\n   * GET /pain-assessments\n   */\n  async index(request, reply) {\n    try {\n      const { patient_id, scale_type, limit = 50, offset = 0, from_date, to_date, requires_follow_up } = request.query;\n\n      let conditions = [];\n\n      if (patient_id) {\n        conditions.push(eq(multi_scale_pain_assessments.patient_id, parseInt(patient_id)));\n      }\n\n      if (scale_type) {\n        conditions.push(eq(multi_scale_pain_assessments.pain_scale_type, scale_type));\n      }\n\n      if (from_date) {\n        conditions.push(gte(multi_scale_pain_assessments.assessment_timestamp, new Date(from_date)));\n      }\n\n      if (to_date) {\n        conditions.push(lte(multi_scale_pain_assessments.assessment_timestamp, new Date(to_date)));\n      }\n\n      if (requires_follow_up === 'true') {\n        conditions.push(eq(multi_scale_pain_assessments.requires_follow_up, true));\n      }\n\n      let query = db.select().from(multi_scale_pain_assessments);\n\n      if (conditions.length > 0) {\n        query = query.where(and(...conditions));\n      }\n\n      const assessments = await query.orderBy(desc(multi_scale_pain_assessments.assessment_timestamp)).limit(parseInt(limit)).offset(parseInt(offset));\n\n      // Get total count for pagination\n      let countQuery = db.select({ count: sql`count(*)` }).from(multi_scale_pain_assessments);\n      if (conditions.length > 0) {\n        countQuery = countQuery.where(and(...conditions));\n      }\n      const countResult = await countQuery;\n      const total = parseInt(countResult[0]?.count || 0);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Pain assessments retrieved successfully',\n        data: assessments,\n        pagination: {\n          total,\n          limit: parseInt(limit),\n          offset: parseInt(offset),\n          totalPages: Math.ceil(total / parseInt(limit)),\n        },\n      };\n    } catch (error) {\n      logger.error('Error fetching pain assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Server error while fetching pain assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Get pain assessments for a specific patient\n   * GET /patients/:patientId/pain-assessments\n   */\n  async getPatientAssessments(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { scale_type, limit = 50, offset = 0, from_date, to_date } = request.query;\n\n      let conditions = [eq(multi_scale_pain_assessments.patient_id, parseInt(patientId))];\n\n      if (scale_type) {\n        conditions.push(eq(multi_scale_pain_assessments.pain_scale_type, scale_type));\n      }\n\n      if (from_date) {\n        conditions.push(gte(multi_scale_pain_assessments.assessment_timestamp, new Date(from_date)));\n      }\n\n      if (to_date) {\n        conditions.push(lte(multi_scale_pain_assessments.assessment_timestamp, new Date(to_date)));\n      }\n\n      const assessments = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(and(...conditions))\n        .orderBy(desc(multi_scale_pain_assessments.assessment_timestamp))\n        .limit(parseInt(limit))\n        .offset(parseInt(offset));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Patient pain assessments retrieved successfully',\n        data: assessments,\n        count: assessments.length,\n        limit: parseInt(limit),\n        offset: parseInt(offset),\n      };\n    } catch (error) {\n      logger.error('Error fetching patient pain assessments:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching patient pain assessments',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Get a single pain assessment by ID\n   * GET /pain-assessments/:id\n   */\n  async show(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const result = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Pain assessment not found',\n        };\n      }\n\n      // Add pain intensity level interpretation\n      const assessment = result[0];\n      const intensityLevel = getPainIntensityLevel(assessment.normalized_pain_score);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          ...assessment,\n          pain_intensity: intensityLevel,\n        },\n      };\n    } catch (error) {\n      logger.error('Error fetching pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Server error while fetching pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Create a new pain assessment\n   * POST /pain-assessments\n   */\n  async store(request, reply) {\n    try {\n      const patientId = request.params?.patientId || request.body?.patient_id;\n\n      if (!patientId) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Validation failed',\n          errors: [{ field: 'patient_id', message: 'Patient ID is required' }],\n        };\n      }\n\n      const cleanedData = this.cleanAssessmentData(request.body);\n\n      // Validate scale-specific scores\n      const validationErrors = this.validateScaleScores(cleanedData);\n      if (validationErrors.length > 0) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Validation failed',\n          errors: validationErrors,\n        };\n      }\n\n      // Calculate total scores for behavioral scales\n      const calculatedData = this.calculateTotalScores(cleanedData);\n\n      // Remove fields that shouldn't be set during creation\n      delete calculatedData.id;\n      delete calculatedData.signed_at;\n      delete calculatedData.signed_by_id;\n      delete calculatedData.amended;\n      delete calculatedData.amendment_reason;\n      delete calculatedData.amended_at;\n      delete calculatedData.amended_by_id;\n\n      const insertData = {\n        ...calculatedData,\n        patient_id: parseInt(patientId),\n        assessment_timestamp: calculatedData.assessment_timestamp ? new Date(calculatedData.assessment_timestamp) : new Date(),\n        assessed_by_id: calculatedData.assessed_by_id || request.user?.id,\n        created_by_id: request.user?.id,\n        updated_by_id: request.user?.id,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n\n      const newAssessment = await db.insert(multi_scale_pain_assessments).values(insertData).returning();\n      const assessment = newAssessment[0];\n\n      await logAudit(request, 'CREATE', 'multi_scale_pain_assessments', assessment.id);\n\n      // Get pain intensity for response\n      const intensityLevel = getPainIntensityLevel(assessment.normalized_pain_score);\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Pain assessment created successfully',\n        data: {\n          ...assessment,\n          pain_intensity: intensityLevel,\n        },\n      };\n    } catch (error) {\n      logger.error('Error creating pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Server error while creating pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Update a pain assessment\n   * PATCH /pain-assessments/:id\n   */\n  async update(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Pain assessment not found',\n        };\n      }\n\n      // Don't allow updates to signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot update signed pain assessment. Use amendment instead.',\n        };\n      }\n\n      const cleanedData = this.cleanAssessmentData(request.body);\n\n      // Merge with existing data for validation\n      const mergedData = { ...existing[0], ...cleanedData };\n\n      // Validate scale-specific scores\n      const validationErrors = this.validateScaleScores(mergedData);\n      if (validationErrors.length > 0) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Validation failed',\n          errors: validationErrors,\n        };\n      }\n\n      // Calculate total scores\n      const calculatedData = this.calculateTotalScores(mergedData);\n\n      // Remove fields that shouldn't be updated directly\n      const {\n        id: _,\n        patient_id,\n        created_by_id,\n        createdAt,\n        signed_at,\n        signed_by_id,\n        signature_id,\n        amended,\n        amendment_reason,\n        amended_at,\n        amended_by_id,\n        ...updateData\n      } = calculatedData;\n\n      const result = await db\n        .update(multi_scale_pain_assessments)\n        .set({\n          ...updateData,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date(),\n        })\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'UPDATE', 'multi_scale_pain_assessments', result[0].id);\n\n      const intensityLevel = getPainIntensityLevel(result[0].normalized_pain_score);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Pain assessment updated successfully',\n        data: {\n          ...result[0],\n          pain_intensity: intensityLevel,\n        },\n      };\n    } catch (error) {\n      logger.error('Error updating pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Server error while updating pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Delete a pain assessment\n   * DELETE /pain-assessments/:id\n   */\n  async delete(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Pain assessment not found',\n        };\n      }\n\n      // Don't allow deletion of signed assessments\n      if (existing[0].signed_at) {\n        reply.code(403);\n        return {\n          status: 403,\n          message: 'Cannot delete signed pain assessment',\n        };\n      }\n\n      await db.delete(multi_scale_pain_assessments).where(eq(multi_scale_pain_assessments.id, parseInt(id)));\n\n      await logAudit(request, 'DELETE', 'multi_scale_pain_assessments', parseInt(id));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Pain assessment deleted successfully',\n      };\n    } catch (error) {\n      logger.error('Error deleting pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Sign a pain assessment (21 CFR Part 11 compliance)\n   * POST /pain-assessments/:id/sign\n   */\n  async sign(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const existing = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Pain assessment not found',\n        };\n      }\n\n      if (existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Pain assessment already signed',\n        };\n      }\n\n      const result = await db\n        .update(multi_scale_pain_assessments)\n        .set({\n          signed_at: new Date(),\n          signed_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date(),\n        })\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'SIGN', 'multi_scale_pain_assessments', result[0].id);\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Pain assessment signed successfully',\n        data: result[0],\n      };\n    } catch (error) {\n      logger.error('Error signing pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error signing pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Amend a signed pain assessment\n   * POST /pain-assessments/:id/amend\n   */\n  async amend(request, reply) {\n    try {\n      const { id } = request.params;\n      const { amendment_reason, ...updateData } = request.body;\n\n      if (!amendment_reason) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Amendment reason is required',\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(multi_scale_pain_assessments)\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Pain assessment not found',\n        };\n      }\n\n      if (!existing[0].signed_at) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot amend unsigned pain assessment. Use update instead.',\n        };\n      }\n\n      const cleanedData = this.cleanAssessmentData(updateData);\n      const mergedData = { ...existing[0], ...cleanedData };\n      const calculatedData = this.calculateTotalScores(mergedData);\n\n      // Only update allowed fields\n      const { nrs_score, vas_score, wong_baker_score, wong_baker_face_selected, flacc_face, flacc_legs, flacc_activity, flacc_cry, flacc_consolability, flacc_total_score, painad_breathing, painad_negative_vocalization, painad_facial_expression, painad_body_language, painad_consolability, painad_total_score, cpot_facial_expression, cpot_body_movements, cpot_muscle_tension, cpot_ventilator_compliance, cpot_total_score, normalized_pain_score, pain_location_primary, pain_location_secondary, pain_quality, pain_radiation, additional_notes, post_intervention_score, intervention_effective } = calculatedData;\n\n      const result = await db\n        .update(multi_scale_pain_assessments)\n        .set({\n          nrs_score,\n          vas_score,\n          wong_baker_score,\n          wong_baker_face_selected,\n          flacc_face,\n          flacc_legs,\n          flacc_activity,\n          flacc_cry,\n          flacc_consolability,\n          flacc_total_score,\n          painad_breathing,\n          painad_negative_vocalization,\n          painad_facial_expression,\n          painad_body_language,\n          painad_consolability,\n          painad_total_score,\n          cpot_facial_expression,\n          cpot_body_movements,\n          cpot_muscle_tension,\n          cpot_ventilator_compliance,\n          cpot_total_score,\n          normalized_pain_score,\n          pain_location_primary,\n          pain_location_secondary,\n          pain_quality,\n          pain_radiation,\n          additional_notes,\n          post_intervention_score,\n          intervention_effective,\n          amended: true,\n          amendment_reason,\n          amended_at: new Date(),\n          amended_by_id: request.user?.id,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date(),\n        })\n        .where(eq(multi_scale_pain_assessments.id, parseInt(id)))\n        .returning();\n\n      await logAudit(request, 'AMEND', 'multi_scale_pain_assessments', result[0].id, { amendment_reason });\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Pain assessment amended successfully',\n        data: result[0],\n      };\n    } catch (error) {\n      logger.error('Error amending pain assessment:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error amending pain assessment',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Get pain assessment history/trend for a patient\n   * GET /patients/:patientId/pain-assessments/trend\n   */\n  async getPatientTrend(request, reply) {\n    try {\n      const { patientId } = request.params;\n      const { days = 30, scale_type, limit = 100 } = request.query;\n\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - parseInt(days));\n\n      let conditions = [eq(multi_scale_pain_assessments.patient_id, parseInt(patientId)), gte(multi_scale_pain_assessments.assessment_timestamp, startDate)];\n\n      if (scale_type) {\n        conditions.push(eq(multi_scale_pain_assessments.pain_scale_type, scale_type));\n      }\n\n      const assessments = await db\n        .select({\n          id: multi_scale_pain_assessments.id,\n          assessment_timestamp: multi_scale_pain_assessments.assessment_timestamp,\n          pain_scale_type: multi_scale_pain_assessments.pain_scale_type,\n          normalized_pain_score: multi_scale_pain_assessments.normalized_pain_score,\n          nrs_score: multi_scale_pain_assessments.nrs_score,\n          vas_score: multi_scale_pain_assessments.vas_score,\n          wong_baker_score: multi_scale_pain_assessments.wong_baker_score,\n          flacc_total_score: multi_scale_pain_assessments.flacc_total_score,\n          painad_total_score: multi_scale_pain_assessments.painad_total_score,\n          cpot_total_score: multi_scale_pain_assessments.cpot_total_score,\n          pain_location_primary: multi_scale_pain_assessments.pain_location_primary,\n          intervention_given: multi_scale_pain_assessments.intervention_given,\n          post_intervention_score: multi_scale_pain_assessments.post_intervention_score,\n          intervention_effective: multi_scale_pain_assessments.intervention_effective,\n        })\n        .from(multi_scale_pain_assessments)\n        .where(and(...conditions))\n        .orderBy(desc(multi_scale_pain_assessments.assessment_timestamp))\n        .limit(parseInt(limit));\n\n      // Calculate averages\n      const avgResult = await db\n        .select({\n          avg_score: sql`avg(normalized_pain_score)`,\n          max_score: sql`max(normalized_pain_score)`,\n          min_score: sql`min(normalized_pain_score)`,\n          count: sql`count(*)`,\n          interventions_count: sql`sum(case when intervention_given then 1 else 0 end)`,\n          effective_interventions: sql`sum(case when intervention_effective then 1 else 0 end)`,\n        })\n        .from(multi_scale_pain_assessments)\n        .where(and(...conditions));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          period_days: parseInt(days),\n          assessments: assessments.reverse(), // Chronological order for charting\n          count: assessments.length,\n          statistics: {\n            average_score: parseFloat(avgResult[0]?.avg_score) || null,\n            max_score: parseInt(avgResult[0]?.max_score) || null,\n            min_score: parseInt(avgResult[0]?.min_score) || null,\n            total_assessments: parseInt(avgResult[0]?.count) || 0,\n            interventions_given: parseInt(avgResult[0]?.interventions_count) || 0,\n            effective_interventions: parseInt(avgResult[0]?.effective_interventions) || 0,\n          },\n        },\n      };\n    } catch (error) {\n      logger.error('Error fetching pain assessment trend:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching pain assessment trend data',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n\n  /**\n   * Get reference information for pain scales\n   * GET /pain-assessments/reference\n   */\n  async getReference(request, reply) {\n    try {\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          scales: PAIN_SCALE_TYPES,\n          ranges: PAIN_SCALE_RANGES,\n          intensity_levels: {\n            NONE: { min: 0, max: 0, label: 'No Pain' },\n            MILD: { min: 1, max: 3, label: 'Mild Pain' },\n            MODERATE: { min: 4, max: 6, label: 'Moderate Pain' },\n            SEVERE: { min: 7, max: 10, label: 'Severe Pain' },\n          },\n          scale_descriptions: {\n            NRS: {\n              name: 'Numeric Rating Scale',\n              description: 'Self-reported pain intensity from 0 (no pain) to 10 (worst pain imaginable)',\n              use_case: 'Patients who can self-report',\n              range: '0-10',\n            },\n            VAS: {\n              name: 'Visual Analog Scale',\n              description: '100mm line where patient marks their pain level',\n              use_case: 'Research settings, detailed measurement',\n              range: '0-100mm',\n            },\n            WONG_BAKER: {\n              name: 'Wong-Baker FACES Pain Rating Scale',\n              description: 'Pictorial scale with facial expressions',\n              use_case: 'Pediatric patients, patients with communication barriers',\n              range: '0-10',\n            },\n            FLACC: {\n              name: 'Face, Legs, Activity, Cry, Consolability',\n              description: 'Behavioral pain assessment for non-verbal patients',\n              use_case: 'Pediatric, cognitively impaired, sedated patients',\n              range: '0-10 (sum of 5 categories, 0-2 each)',\n            },\n            PAINAD: {\n              name: 'Pain Assessment in Advanced Dementia',\n              description: 'Behavioral scale for patients with dementia',\n              use_case: 'Patients with advanced dementia who cannot self-report',\n              range: '0-10 (sum of 5 categories, 0-2 each)',\n            },\n            CPOT: {\n              name: 'Critical Care Pain Observation Tool',\n              description: 'Behavioral scale for ICU patients',\n              use_case: 'Intubated, sedated, or unconscious patients',\n              range: '0-8 (sum of 4 categories, 0-2 each)',\n            },\n          },\n        },\n      };\n    } catch (error) {\n      logger.error('Error fetching pain assessment reference:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching pain assessment reference',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined,\n      };\n    }\n  }\n}\n\n// Create controller instance\nconst controller = new MultiScalePainAssessmentController();\n\n// Export instance methods for routes (bound to controller instance)\nexport const index = controller.index.bind(controller);\nexport const show = controller.show.bind(controller);\nexport const store = controller.store.bind(controller);\nexport const update = controller.update.bind(controller);\n\n// Export controller instance for new routes\nexport default controller;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}