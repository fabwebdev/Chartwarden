{"version":3,"names":["cov_18z6xxw0kx","actualCoverage","puppeteer","logger","PuppeteerPdfService","browser","s","browserLaunchPromise","browserRefCount","browserTimeout","BROWSER_IDLE_TIMEOUT","CONFIG","defaultPaperSize","defaultMargins","top","right","bottom","left","defaultOrientation","defaultScale","printBackground","PAPER_SIZES","Letter","width","height","Legal","A4","A3","Tabloid","COLORS","primary","primaryDark","secondary","text","textLight","border","background","headerBg","success","warning","error","getBrowser","f","b","clearTimeout","isConnected","launch","headless","args","info","releaseBrowser","setTimeout","close","warn","message","generatePdfFromHtml","html","options","page","newPage","setViewport","deviceScaleFactor","setContent","waitUntil","evaluateHandle","paperSize","pdfOptions","format","undefined","margin","landscape","orientation","scale","displayHeaderFooter","headerTemplate","_getDefaultHeaderTemplate","footerTemplate","_getDefaultFooterTemplate","preferCSSPageSize","buffer","pdf","Error","catch","title","_getBaseStyles","_wrapHtml","content","styles","customStyles","watermark","_formatDate","date","includeTime","d","Date","isNaN","getTime","dateStr","toLocaleDateString","year","month","day","timeStr","toLocaleTimeString","hour","minute","_formatCurrency","amount","Intl","NumberFormat","style","currency","_escapeHtml","str","String","map","replace","char","generatePatientChartPdf","patientData","patient","fullName","firstName","lastName","trim","mrn","dateOfBirth","gender","status","admissionDate","address","street","city","state","zipCode","phone","diagnoses","length","dx","icd10Code","description","type","join","medications","med","name","dosage","route","frequency","startDate","allergies","allergy","allergen","reaction","severity","generateCensusReportPdf","censusData","patients","summary","totalCount","total_count","level_of_care","total_patients","p","patient_id","patient_name","admission_date","primary_diagnosis","generateBillingReportPdf","billingData","pendingClaims","claims","arAging","by_bucket","revenueByPayer","payers","totals","fromDate","toDate","bucket","aging_bucket","total_balance","claim_count","total_ar","slice","claim","claim_id","claim_number","service_start_date","service_end_date","total_charges","days_pending","payer","payer_id","payer_name","total_paid","generateCustomReportPdf","reportData","subtitle","sections","sectionsHtml","section","data","columns","Object","keys","pageBreak","col","header","row","key","value","formatted","items","item","label","rows","generateExecutiveDashboardPdf","dashboardData","current_census","recertifications_due_30_days","pending_claims","pending_claims_value","active_incidents","active_grievances","generateFromRawHtml","htmlContent","wrapHtml","getAvailableReportTypes","method","cleanup"],"sources":["PuppeteerPdfService.js"],"sourcesContent":["import puppeteer from 'puppeteer';\nimport { logger } from '../utils/logger.js';\n\n/**\n * Puppeteer PDF Report Service\n * Comprehensive PDF report generator using Puppeteer for HTML-to-PDF conversion\n *\n * Features:\n * - HTML template-based rendering with dynamic content injection\n * - Professional styling optimized for PDF output\n * - Page formatting (size, margins, headers, footers, page numbers)\n * - Browser instance pooling for performance optimization\n * - Support for multiple paper sizes and orientations\n * - Image and asset handling in headless environment\n * - Unicode and special character support\n * - Error handling and graceful degradation\n */\nclass PuppeteerPdfService {\n    // Singleton browser instance for performance\n    static browser = null;\n    static browserLaunchPromise = null;\n    static browserRefCount = 0;\n    static browserTimeout = null;\n    static BROWSER_IDLE_TIMEOUT = 60000; // Close browser after 60s of inactivity\n\n    // Default configuration\n    static CONFIG = {\n        defaultPaperSize: 'Letter',\n        defaultMargins: {\n            top: '0.75in',\n            right: '0.5in',\n            bottom: '0.75in',\n            left: '0.5in'\n        },\n        defaultOrientation: 'portrait',\n        defaultScale: 1,\n        printBackground: true\n    };\n\n    // Paper sizes in inches\n    static PAPER_SIZES = {\n        Letter: { width: '8.5in', height: '11in' },\n        Legal: { width: '8.5in', height: '14in' },\n        A4: { width: '8.27in', height: '11.69in' },\n        A3: { width: '11.69in', height: '16.54in' },\n        Tabloid: { width: '11in', height: '17in' }\n    };\n\n    // Chartwarden brand colors\n    static COLORS = {\n        primary: '#2E7D32',      // Chartwarden green\n        primaryDark: '#1B5E20',\n        secondary: '#1565C0',\n        text: '#212121',\n        textLight: '#757575',\n        border: '#E0E0E0',\n        background: '#FFFFFF',\n        headerBg: '#F5F5F5',\n        success: '#4CAF50',\n        warning: '#FF9800',\n        error: '#F44336'\n    };\n\n    /**\n     * Get or create a browser instance (singleton pattern)\n     * Uses lazy initialization and reference counting for optimal resource management\n     * @private\n     */\n    static async getBrowser() {\n        // Clear idle timeout if browser is being used\n        if (PuppeteerPdfService.browserTimeout) {\n            clearTimeout(PuppeteerPdfService.browserTimeout);\n            PuppeteerPdfService.browserTimeout = null;\n        }\n\n        // If browser is launching, wait for it\n        if (PuppeteerPdfService.browserLaunchPromise) {\n            await PuppeteerPdfService.browserLaunchPromise;\n        }\n\n        // If browser doesn't exist or is closed, create new one\n        if (!PuppeteerPdfService.browser || !PuppeteerPdfService.browser.isConnected()) {\n            PuppeteerPdfService.browserLaunchPromise = puppeteer.launch({\n                headless: true,\n                args: [\n                    '--no-sandbox',\n                    '--disable-setuid-sandbox',\n                    '--disable-dev-shm-usage',\n                    '--disable-accelerated-2d-canvas',\n                    '--disable-gpu',\n                    '--font-render-hinting=none'\n                ]\n            });\n\n            try {\n                PuppeteerPdfService.browser = await PuppeteerPdfService.browserLaunchPromise;\n                PuppeteerPdfService.browserRefCount = 0;\n                logger.info('Puppeteer browser instance created');\n            } finally {\n                PuppeteerPdfService.browserLaunchPromise = null;\n            }\n        }\n\n        PuppeteerPdfService.browserRefCount++;\n        return PuppeteerPdfService.browser;\n    }\n\n    /**\n     * Release browser reference and schedule cleanup if idle\n     * @private\n     */\n    static releaseBrowser() {\n        PuppeteerPdfService.browserRefCount--;\n\n        if (PuppeteerPdfService.browserRefCount <= 0) {\n            PuppeteerPdfService.browserRefCount = 0;\n\n            // Schedule browser cleanup after idle timeout\n            PuppeteerPdfService.browserTimeout = setTimeout(async () => {\n                if (PuppeteerPdfService.browser && PuppeteerPdfService.browserRefCount === 0) {\n                    try {\n                        await PuppeteerPdfService.browser.close();\n                        PuppeteerPdfService.browser = null;\n                        logger.info('Puppeteer browser instance closed due to inactivity');\n                    } catch (error) {\n                        logger.warn('Error closing idle browser:', error.message);\n                    }\n                }\n            }, PuppeteerPdfService.BROWSER_IDLE_TIMEOUT);\n        }\n    }\n\n    /**\n     * Generate PDF from HTML content\n     * @param {string} html - The HTML content to convert to PDF\n     * @param {Object} options - PDF generation options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generatePdfFromHtml(html, options = {}) {\n        let page = null;\n\n        try {\n            const browser = await PuppeteerPdfService.getBrowser();\n            page = await browser.newPage();\n\n            // Set viewport for consistent rendering\n            await page.setViewport({\n                width: 1200,\n                height: 800,\n                deviceScaleFactor: 2\n            });\n\n            // Set content with wait for network idle\n            await page.setContent(html, {\n                waitUntil: ['networkidle0', 'domcontentloaded']\n            });\n\n            // Wait for any web fonts to load\n            await page.evaluateHandle('document.fonts.ready');\n\n            // Get paper size\n            const paperSize = PuppeteerPdfService.PAPER_SIZES[options.paperSize] ||\n                              PuppeteerPdfService.PAPER_SIZES[PuppeteerPdfService.CONFIG.defaultPaperSize];\n\n            // Generate PDF\n            const pdfOptions = {\n                format: options.format || undefined,\n                width: options.width || paperSize.width,\n                height: options.height || paperSize.height,\n                margin: options.margin || PuppeteerPdfService.CONFIG.defaultMargins,\n                printBackground: options.printBackground !== false,\n                landscape: options.orientation === 'landscape',\n                scale: options.scale || PuppeteerPdfService.CONFIG.defaultScale,\n                displayHeaderFooter: options.displayHeaderFooter !== false,\n                headerTemplate: options.headerTemplate || this._getDefaultHeaderTemplate(options),\n                footerTemplate: options.footerTemplate || this._getDefaultFooterTemplate(options),\n                preferCSSPageSize: options.preferCSSPageSize || false\n            };\n\n            const buffer = await page.pdf(pdfOptions);\n            return buffer;\n\n        } catch (error) {\n            logger.error('Error generating PDF from HTML:', error);\n            throw new Error(`PDF generation failed: ${error.message}`);\n        } finally {\n            if (page) {\n                await page.close().catch(() => {});\n            }\n            PuppeteerPdfService.releaseBrowser();\n        }\n    }\n\n    /**\n     * Get default header template\n     * @private\n     */\n    _getDefaultHeaderTemplate(options) {\n        const title = options.title || 'Chartwarden Report';\n        return `\n            <div style=\"width: 100%; font-size: 9px; padding: 5px 20px; border-bottom: 1px solid ${PuppeteerPdfService.COLORS.border};\">\n                <span style=\"float: left; color: ${PuppeteerPdfService.COLORS.textLight};\">${title}</span>\n                <span style=\"float: right; color: ${PuppeteerPdfService.COLORS.textLight};\"><span class=\"date\"></span></span>\n            </div>\n        `;\n    }\n\n    /**\n     * Get default footer template\n     * @private\n     */\n    _getDefaultFooterTemplate(options) {\n        return `\n            <div style=\"width: 100%; font-size: 9px; padding: 5px 20px; border-top: 1px solid ${PuppeteerPdfService.COLORS.border};\">\n                <span style=\"float: left; color: ${PuppeteerPdfService.COLORS.textLight};\">Chartwarden EHR</span>\n                <span style=\"float: right; color: ${PuppeteerPdfService.COLORS.textLight};\">Page <span class=\"pageNumber\"></span> of <span class=\"totalPages\"></span></span>\n            </div>\n        `;\n    }\n\n    /**\n     * Build base CSS styles for PDF reports\n     * @private\n     */\n    _getBaseStyles() {\n        return `\n            * {\n                box-sizing: border-box;\n            }\n\n            @page {\n                margin: 0.75in 0.5in;\n            }\n\n            body {\n                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n                font-size: 11px;\n                line-height: 1.4;\n                color: ${PuppeteerPdfService.COLORS.text};\n                margin: 0;\n                padding: 0;\n                background: ${PuppeteerPdfService.COLORS.background};\n            }\n\n            h1, h2, h3, h4, h5, h6 {\n                margin: 0 0 10px 0;\n                color: ${PuppeteerPdfService.COLORS.primaryDark};\n            }\n\n            h1 { font-size: 22px; }\n            h2 { font-size: 18px; }\n            h3 { font-size: 14px; }\n            h4 { font-size: 12px; }\n\n            .report-header {\n                background: linear-gradient(135deg, ${PuppeteerPdfService.COLORS.primary} 0%, ${PuppeteerPdfService.COLORS.primaryDark} 100%);\n                color: white;\n                padding: 20px;\n                margin-bottom: 20px;\n            }\n\n            .report-header h1 {\n                color: white;\n                margin: 0 0 5px 0;\n            }\n\n            .report-header .subtitle {\n                opacity: 0.9;\n                font-size: 12px;\n            }\n\n            .report-meta {\n                display: flex;\n                justify-content: space-between;\n                margin-top: 10px;\n                font-size: 10px;\n                opacity: 0.8;\n            }\n\n            .section {\n                margin-bottom: 20px;\n                page-break-inside: avoid;\n            }\n\n            .section-title {\n                background: ${PuppeteerPdfService.COLORS.headerBg};\n                padding: 8px 12px;\n                margin-bottom: 10px;\n                border-left: 4px solid ${PuppeteerPdfService.COLORS.primary};\n                font-weight: bold;\n                font-size: 13px;\n            }\n\n            table {\n                width: 100%;\n                border-collapse: collapse;\n                margin-bottom: 15px;\n                font-size: 10px;\n            }\n\n            table th {\n                background: ${PuppeteerPdfService.COLORS.primary};\n                color: white;\n                padding: 8px 10px;\n                text-align: left;\n                font-weight: 600;\n                border: 1px solid ${PuppeteerPdfService.COLORS.primaryDark};\n            }\n\n            table td {\n                padding: 6px 10px;\n                border: 1px solid ${PuppeteerPdfService.COLORS.border};\n            }\n\n            table tr:nth-child(even) {\n                background: #f9f9f9;\n            }\n\n            table tr:hover {\n                background: #f5f5f5;\n            }\n\n            .data-grid {\n                display: grid;\n                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n                gap: 15px;\n                margin-bottom: 15px;\n            }\n\n            .data-card {\n                border: 1px solid ${PuppeteerPdfService.COLORS.border};\n                border-radius: 4px;\n                padding: 12px;\n            }\n\n            .data-card .label {\n                font-size: 10px;\n                color: ${PuppeteerPdfService.COLORS.textLight};\n                margin-bottom: 4px;\n            }\n\n            .data-card .value {\n                font-size: 14px;\n                font-weight: 600;\n                color: ${PuppeteerPdfService.COLORS.text};\n            }\n\n            .info-row {\n                display: flex;\n                margin-bottom: 6px;\n                border-bottom: 1px dotted ${PuppeteerPdfService.COLORS.border};\n                padding-bottom: 4px;\n            }\n\n            .info-row .label {\n                font-weight: 600;\n                width: 140px;\n                flex-shrink: 0;\n                color: ${PuppeteerPdfService.COLORS.textLight};\n            }\n\n            .info-row .value {\n                flex: 1;\n            }\n\n            .page-break {\n                page-break-before: always;\n            }\n\n            .no-break {\n                page-break-inside: avoid;\n            }\n\n            .text-right { text-align: right; }\n            .text-center { text-align: center; }\n            .text-success { color: ${PuppeteerPdfService.COLORS.success}; }\n            .text-warning { color: ${PuppeteerPdfService.COLORS.warning}; }\n            .text-error { color: ${PuppeteerPdfService.COLORS.error}; }\n            .font-bold { font-weight: bold; }\n            .currency { font-family: 'Courier New', monospace; }\n\n            .badge {\n                display: inline-block;\n                padding: 2px 8px;\n                border-radius: 3px;\n                font-size: 9px;\n                font-weight: 600;\n            }\n\n            .badge-success { background: #e8f5e9; color: ${PuppeteerPdfService.COLORS.success}; }\n            .badge-warning { background: #fff3e0; color: ${PuppeteerPdfService.COLORS.warning}; }\n            .badge-error { background: #ffebee; color: ${PuppeteerPdfService.COLORS.error}; }\n            .badge-primary { background: #e3f2fd; color: ${PuppeteerPdfService.COLORS.secondary}; }\n\n            .signature-section {\n                margin-top: 30px;\n                padding-top: 20px;\n                border-top: 2px solid ${PuppeteerPdfService.COLORS.border};\n            }\n\n            .signature-line {\n                display: flex;\n                justify-content: space-between;\n                margin-top: 40px;\n            }\n\n            .signature-box {\n                width: 45%;\n            }\n\n            .signature-box .line {\n                border-bottom: 1px solid ${PuppeteerPdfService.COLORS.text};\n                margin-bottom: 5px;\n                height: 30px;\n            }\n\n            .signature-box .label {\n                font-size: 10px;\n                color: ${PuppeteerPdfService.COLORS.textLight};\n            }\n\n            .watermark {\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%) rotate(-45deg);\n                font-size: 80px;\n                color: rgba(0, 0, 0, 0.05);\n                pointer-events: none;\n                z-index: -1;\n            }\n        `;\n    }\n\n    /**\n     * Build HTML document wrapper\n     * @private\n     */\n    _wrapHtml(content, options = {}) {\n        const styles = this._getBaseStyles();\n        const customStyles = options.customStyles || '';\n        const watermark = options.watermark ? `<div class=\"watermark\">${options.watermark}</div>` : '';\n\n        return `\n            <!DOCTYPE html>\n            <html>\n            <head>\n                <meta charset=\"UTF-8\">\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n                <title>${options.title || 'Report'}</title>\n                <style>${styles}${customStyles}</style>\n            </head>\n            <body>\n                ${watermark}\n                ${content}\n            </body>\n            </html>\n        `;\n    }\n\n    /**\n     * Format date for display\n     * @private\n     */\n    _formatDate(date, includeTime = false) {\n        if (!date) return '';\n        const d = new Date(date);\n        if (isNaN(d.getTime())) return date;\n\n        const dateStr = d.toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit'\n        });\n\n        if (includeTime) {\n            const timeStr = d.toLocaleTimeString('en-US', {\n                hour: '2-digit',\n                minute: '2-digit'\n            });\n            return `${dateStr} ${timeStr}`;\n        }\n\n        return dateStr;\n    }\n\n    /**\n     * Format currency for display\n     * @private\n     */\n    _formatCurrency(amount) {\n        if (amount === null || amount === undefined) return '$0.00';\n        return new Intl.NumberFormat('en-US', {\n            style: 'currency',\n            currency: 'USD'\n        }).format(amount);\n    }\n\n    /**\n     * Escape HTML to prevent XSS\n     * @private\n     */\n    _escapeHtml(text) {\n        if (text === null || text === undefined) return '';\n        const str = String(text);\n        const map = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#039;'\n        };\n        return str.replace(/[&<>\"']/g, char => map[char]);\n    }\n\n    /**\n     * Generate a Patient Chart PDF\n     * @param {Object} patientData - Patient data including demographics, conditions, medications\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generatePatientChartPdf(patientData, options = {}) {\n        const patient = patientData;\n        const fullName = `${this._escapeHtml(patient.firstName || '')} ${this._escapeHtml(patient.lastName || '')}`.trim();\n\n        const content = `\n            <div class=\"report-header\">\n                <h1>Patient Chart</h1>\n                <div class=\"subtitle\">${fullName}</div>\n                <div class=\"report-meta\">\n                    <span>MRN: ${this._escapeHtml(patient.mrn || 'N/A')}</span>\n                    <span>Generated: ${this._formatDate(new Date(), true)}</span>\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"section-title\">Demographics</div>\n                <div class=\"data-grid\">\n                    <div class=\"data-card\">\n                        <div class=\"label\">Date of Birth</div>\n                        <div class=\"value\">${this._formatDate(patient.dateOfBirth)}</div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Gender</div>\n                        <div class=\"value\">${this._escapeHtml(patient.gender || 'N/A')}</div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Status</div>\n                        <div class=\"value\">\n                            <span class=\"badge ${patient.status === 'ACTIVE' ? 'badge-success' : 'badge-warning'}\">\n                                ${this._escapeHtml(patient.status || 'N/A')}\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Admission Date</div>\n                        <div class=\"value\">${this._formatDate(patient.admissionDate)}</div>\n                    </div>\n                </div>\n            </div>\n\n            ${patient.address ? `\n            <div class=\"section\">\n                <div class=\"section-title\">Address</div>\n                <div class=\"info-row\">\n                    <div class=\"label\">Street</div>\n                    <div class=\"value\">${this._escapeHtml(patient.address.street || '')}</div>\n                </div>\n                <div class=\"info-row\">\n                    <div class=\"label\">City, State ZIP</div>\n                    <div class=\"value\">${this._escapeHtml(patient.address.city || '')}, ${this._escapeHtml(patient.address.state || '')} ${this._escapeHtml(patient.address.zipCode || '')}</div>\n                </div>\n                <div class=\"info-row\">\n                    <div class=\"label\">Phone</div>\n                    <div class=\"value\">${this._escapeHtml(patient.address.phone || patient.phone || 'N/A')}</div>\n                </div>\n            </div>\n            ` : ''}\n\n            ${patient.diagnoses && patient.diagnoses.length > 0 ? `\n            <div class=\"section\">\n                <div class=\"section-title\">Diagnoses</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>ICD-10 Code</th>\n                            <th>Description</th>\n                            <th>Type</th>\n                            <th>Status</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${patient.diagnoses.map(dx => `\n                            <tr>\n                                <td>${this._escapeHtml(dx.icd10Code)}</td>\n                                <td>${this._escapeHtml(dx.description)}</td>\n                                <td>${this._escapeHtml(dx.type || 'Secondary')}</td>\n                                <td><span class=\"badge badge-${dx.status === 'Active' ? 'success' : 'warning'}\">${this._escapeHtml(dx.status)}</span></td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            </div>\n            ` : ''}\n\n            ${patient.medications && patient.medications.length > 0 ? `\n            <div class=\"section page-break\">\n                <div class=\"section-title\">Current Medications</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Medication</th>\n                            <th>Dosage</th>\n                            <th>Route</th>\n                            <th>Frequency</th>\n                            <th>Start Date</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${patient.medications.map(med => `\n                            <tr>\n                                <td>${this._escapeHtml(med.name)}</td>\n                                <td>${this._escapeHtml(med.dosage)}</td>\n                                <td>${this._escapeHtml(med.route)}</td>\n                                <td>${this._escapeHtml(med.frequency)}</td>\n                                <td>${this._formatDate(med.startDate)}</td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            </div>\n            ` : ''}\n\n            ${patient.allergies && patient.allergies.length > 0 ? `\n            <div class=\"section\">\n                <div class=\"section-title\">Allergies</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Allergen</th>\n                            <th>Reaction</th>\n                            <th>Severity</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${patient.allergies.map(allergy => `\n                            <tr>\n                                <td>${this._escapeHtml(allergy.allergen)}</td>\n                                <td>${this._escapeHtml(allergy.reaction)}</td>\n                                <td><span class=\"badge badge-${allergy.severity === 'Severe' ? 'error' : (allergy.severity === 'Moderate' ? 'warning' : 'primary')}\">${this._escapeHtml(allergy.severity)}</span></td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            </div>\n            ` : ''}\n        `;\n\n        const html = this._wrapHtml(content, {\n            title: `Patient Chart - ${fullName}`,\n            ...options\n        });\n\n        return await this.generatePdfFromHtml(html, {\n            title: `Patient Chart - ${fullName}`,\n            ...options\n        });\n    }\n\n    /**\n     * Generate a Census Report PDF\n     * @param {Object} censusData - Census data with patients and summary\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generateCensusReportPdf(censusData, options = {}) {\n        const patients = censusData.patients || [];\n        const summary = censusData.summary || [];\n        const totalCount = censusData.total_count || patients.length;\n\n        const content = `\n            <div class=\"report-header\">\n                <h1>Census Report</h1>\n                <div class=\"subtitle\">Current Patient Census</div>\n                <div class=\"report-meta\">\n                    <span>Total Patients: ${totalCount}</span>\n                    <span>Generated: ${this._formatDate(new Date(), true)}</span>\n                </div>\n            </div>\n\n            ${summary.length > 0 ? `\n            <div class=\"section\">\n                <div class=\"section-title\">Summary by Level of Care</div>\n                <div class=\"data-grid\">\n                    ${summary.map(s => `\n                        <div class=\"data-card\">\n                            <div class=\"label\">${this._escapeHtml(s.level_of_care)}</div>\n                            <div class=\"value\">${s.total_patients || 0}</div>\n                        </div>\n                    `).join('')}\n                </div>\n            </div>\n            ` : ''}\n\n            <div class=\"section\">\n                <div class=\"section-title\">Patient List</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Patient ID</th>\n                            <th>Patient Name</th>\n                            <th>MRN</th>\n                            <th>Admission Date</th>\n                            <th>Level of Care</th>\n                            <th>Primary Diagnosis</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${patients.length > 0 ? patients.map(p => `\n                            <tr>\n                                <td>${this._escapeHtml(p.patient_id)}</td>\n                                <td>${this._escapeHtml(p.patient_name)}</td>\n                                <td>${this._escapeHtml(p.mrn)}</td>\n                                <td>${this._formatDate(p.admission_date)}</td>\n                                <td>${this._escapeHtml(p.level_of_care)}</td>\n                                <td>${this._escapeHtml(p.primary_diagnosis)}</td>\n                            </tr>\n                        `).join('') : `\n                            <tr>\n                                <td colspan=\"6\" class=\"text-center\">No patients found</td>\n                            </tr>\n                        `}\n                    </tbody>\n                </table>\n            </div>\n        `;\n\n        const html = this._wrapHtml(content, {\n            title: 'Census Report',\n            ...options\n        });\n\n        return await this.generatePdfFromHtml(html, {\n            title: 'Census Report',\n            orientation: 'landscape',\n            ...options\n        });\n    }\n\n    /**\n     * Generate a Billing Report PDF\n     * @param {Object} billingData - Billing data including claims, payments\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generateBillingReportPdf(billingData, options = {}) {\n        const pendingClaims = billingData.pendingClaims?.claims || [];\n        const arAging = billingData.arAging?.by_bucket || [];\n        const revenueByPayer = billingData.revenueByPayer?.payers || [];\n        const totals = billingData.arAging?.totals || {};\n\n        const content = `\n            <div class=\"report-header\">\n                <h1>Billing Report</h1>\n                <div class=\"subtitle\">Financial Summary</div>\n                <div class=\"report-meta\">\n                    <span>Date Range: ${this._formatDate(options.fromDate)} - ${this._formatDate(options.toDate)}</span>\n                    <span>Generated: ${this._formatDate(new Date(), true)}</span>\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"section-title\">AR Aging Summary</div>\n                <div class=\"data-grid\">\n                    ${arAging.map(bucket => `\n                        <div class=\"data-card\">\n                            <div class=\"label\">${this._escapeHtml(bucket.aging_bucket)}</div>\n                            <div class=\"value currency\">${this._formatCurrency(bucket.total_balance)}</div>\n                            <div class=\"label\" style=\"margin-top: 4px;\">${bucket.claim_count || 0} claims</div>\n                        </div>\n                    `).join('')}\n                </div>\n                <div class=\"data-card\" style=\"background: ${PuppeteerPdfService.COLORS.headerBg}; margin-top: 10px;\">\n                    <div class=\"label\">Total AR</div>\n                    <div class=\"value currency\" style=\"font-size: 18px;\">${this._formatCurrency(totals.total_ar)}</div>\n                </div>\n            </div>\n\n            ${pendingClaims.length > 0 ? `\n            <div class=\"section page-break\">\n                <div class=\"section-title\">Pending Claims</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Claim ID</th>\n                            <th>Patient Name</th>\n                            <th>Claim Number</th>\n                            <th>Service Period</th>\n                            <th>Total Charges</th>\n                            <th>Days Pending</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${pendingClaims.slice(0, 50).map(claim => `\n                            <tr>\n                                <td>${this._escapeHtml(claim.claim_id)}</td>\n                                <td>${this._escapeHtml(claim.patient_name)}</td>\n                                <td>${this._escapeHtml(claim.claim_number)}</td>\n                                <td>${this._formatDate(claim.service_start_date)} - ${this._formatDate(claim.service_end_date)}</td>\n                                <td class=\"text-right currency\">${this._formatCurrency(claim.total_charges)}</td>\n                                <td class=\"text-center ${claim.days_pending > 60 ? 'text-error' : claim.days_pending > 30 ? 'text-warning' : ''}\">${claim.days_pending || 0}</td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n                ${pendingClaims.length > 50 ? `<p class=\"text-center\">Showing 50 of ${pendingClaims.length} claims</p>` : ''}\n            </div>\n            ` : ''}\n\n            ${revenueByPayer.length > 0 ? `\n            <div class=\"section\">\n                <div class=\"section-title\">Revenue by Payer</div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Payer</th>\n                            <th class=\"text-right\">Total Charges</th>\n                            <th class=\"text-right\">Total Paid</th>\n                            <th class=\"text-center\">Claim Count</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        ${revenueByPayer.map(payer => `\n                            <tr>\n                                <td>${this._escapeHtml(payer.payer_id || payer.payer_name)}</td>\n                                <td class=\"text-right currency\">${this._formatCurrency(payer.total_charges)}</td>\n                                <td class=\"text-right currency\">${this._formatCurrency(payer.total_paid)}</td>\n                                <td class=\"text-center\">${payer.claim_count || 0}</td>\n                            </tr>\n                        `).join('')}\n                    </tbody>\n                </table>\n            </div>\n            ` : ''}\n        `;\n\n        const html = this._wrapHtml(content, {\n            title: 'Billing Report',\n            ...options\n        });\n\n        return await this.generatePdfFromHtml(html, {\n            title: 'Billing Report',\n            ...options\n        });\n    }\n\n    /**\n     * Generate a Custom Report PDF from provided data and template\n     * @param {Object} reportData - Report configuration and data\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generateCustomReportPdf(reportData, options = {}) {\n        const { title, subtitle, sections = [] } = reportData;\n\n        let sectionsHtml = '';\n\n        for (const section of sections) {\n            if (section.type === 'table' && section.data) {\n                const columns = section.columns || Object.keys(section.data[0] || {});\n                sectionsHtml += `\n                    <div class=\"section ${section.pageBreak ? 'page-break' : ''}\">\n                        ${section.title ? `<div class=\"section-title\">${this._escapeHtml(section.title)}</div>` : ''}\n                        <table>\n                            <thead>\n                                <tr>\n                                    ${columns.map(col => `<th>${this._escapeHtml(col.header || col)}</th>`).join('')}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                ${section.data.map(row => `\n                                    <tr>\n                                        ${columns.map(col => {\n                                            const key = col.key || col;\n                                            const value = row[key];\n                                            const formatted = col.type === 'currency' ? this._formatCurrency(value) :\n                                                              col.type === 'date' ? this._formatDate(value) :\n                                                              col.type === 'datetime' ? this._formatDate(value, true) :\n                                                              this._escapeHtml(value);\n                                            return `<td class=\"${col.type === 'currency' ? 'text-right currency' : ''}\">${formatted}</td>`;\n                                        }).join('')}\n                                    </tr>\n                                `).join('')}\n                            </tbody>\n                        </table>\n                    </div>\n                `;\n            } else if (section.type === 'grid' && section.items) {\n                sectionsHtml += `\n                    <div class=\"section ${section.pageBreak ? 'page-break' : ''}\">\n                        ${section.title ? `<div class=\"section-title\">${this._escapeHtml(section.title)}</div>` : ''}\n                        <div class=\"data-grid\">\n                            ${section.items.map(item => `\n                                <div class=\"data-card\">\n                                    <div class=\"label\">${this._escapeHtml(item.label)}</div>\n                                    <div class=\"value\">${this._escapeHtml(item.value)}</div>\n                                </div>\n                            `).join('')}\n                        </div>\n                    </div>\n                `;\n            } else if (section.type === 'info' && section.rows) {\n                sectionsHtml += `\n                    <div class=\"section ${section.pageBreak ? 'page-break' : ''}\">\n                        ${section.title ? `<div class=\"section-title\">${this._escapeHtml(section.title)}</div>` : ''}\n                        ${section.rows.map(row => `\n                            <div class=\"info-row\">\n                                <div class=\"label\">${this._escapeHtml(row.label)}</div>\n                                <div class=\"value\">${this._escapeHtml(row.value)}</div>\n                            </div>\n                        `).join('')}\n                    </div>\n                `;\n            } else if (section.type === 'html' && section.content) {\n                sectionsHtml += `\n                    <div class=\"section ${section.pageBreak ? 'page-break' : ''}\">\n                        ${section.title ? `<div class=\"section-title\">${this._escapeHtml(section.title)}</div>` : ''}\n                        ${section.content}\n                    </div>\n                `;\n            }\n        }\n\n        const content = `\n            <div class=\"report-header\">\n                <h1>${this._escapeHtml(title || 'Custom Report')}</h1>\n                ${subtitle ? `<div class=\"subtitle\">${this._escapeHtml(subtitle)}</div>` : ''}\n                <div class=\"report-meta\">\n                    <span>Generated: ${this._formatDate(new Date(), true)}</span>\n                </div>\n            </div>\n            ${sectionsHtml}\n        `;\n\n        const html = this._wrapHtml(content, {\n            title: title || 'Custom Report',\n            ...options\n        });\n\n        return await this.generatePdfFromHtml(html, {\n            title: title || 'Custom Report',\n            ...options\n        });\n    }\n\n    /**\n     * Generate Executive Dashboard PDF\n     * @param {Object} dashboardData - Executive dashboard data\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generateExecutiveDashboardPdf(dashboardData, options = {}) {\n        const content = `\n            <div class=\"report-header\">\n                <h1>Executive Dashboard</h1>\n                <div class=\"subtitle\">Key Performance Indicators</div>\n                <div class=\"report-meta\">\n                    <span>Generated: ${this._formatDate(new Date(), true)}</span>\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"section-title\">Patient Census</div>\n                <div class=\"data-grid\">\n                    <div class=\"data-card\">\n                        <div class=\"label\">Current Census</div>\n                        <div class=\"value\" style=\"font-size: 24px; color: ${PuppeteerPdfService.COLORS.primary};\">${dashboardData.current_census || 0}</div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Recertifications Due (30 days)</div>\n                        <div class=\"value ${(dashboardData.recertifications_due_30_days || 0) > 10 ? 'text-warning' : ''}\">${dashboardData.recertifications_due_30_days || 0}</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"section-title\">Billing & Revenue</div>\n                <div class=\"data-grid\">\n                    <div class=\"data-card\">\n                        <div class=\"label\">Pending Claims</div>\n                        <div class=\"value\">${dashboardData.pending_claims || 0}</div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Pending Claims Value</div>\n                        <div class=\"value currency\">${this._formatCurrency(dashboardData.pending_claims_value)}</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"section\">\n                <div class=\"section-title\">Quality & Compliance</div>\n                <div class=\"data-grid\">\n                    <div class=\"data-card\">\n                        <div class=\"label\">Active Incidents</div>\n                        <div class=\"value ${(dashboardData.active_incidents || 0) > 5 ? 'text-error' : ''}\">${dashboardData.active_incidents || 0}</div>\n                    </div>\n                    <div class=\"data-card\">\n                        <div class=\"label\">Active Grievances</div>\n                        <div class=\"value ${(dashboardData.active_grievances || 0) > 3 ? 'text-warning' : ''}\">${dashboardData.active_grievances || 0}</div>\n                    </div>\n                </div>\n            </div>\n        `;\n\n        const html = this._wrapHtml(content, {\n            title: 'Executive Dashboard',\n            ...options\n        });\n\n        return await this.generatePdfFromHtml(html, {\n            title: 'Executive Dashboard',\n            ...options\n        });\n    }\n\n    /**\n     * Generate a raw HTML to PDF conversion\n     * Useful for completely custom reports\n     * @param {string} htmlContent - Raw HTML content\n     * @param {Object} options - PDF options\n     * @returns {Promise<Buffer>} - PDF as buffer\n     */\n    async generateFromRawHtml(htmlContent, options = {}) {\n        const html = options.wrapHtml !== false\n            ? this._wrapHtml(htmlContent, options)\n            : htmlContent;\n\n        return await this.generatePdfFromHtml(html, options);\n    }\n\n    /**\n     * Get available report types with descriptions\n     * @returns {Array} - List of available report types\n     */\n    getAvailableReportTypes() {\n        return [\n            {\n                type: 'patient-chart',\n                name: 'Patient Chart',\n                description: 'Comprehensive patient chart with demographics, diagnoses, medications, and allergies',\n                method: 'generatePatientChartPdf'\n            },\n            {\n                type: 'census',\n                name: 'Census Report',\n                description: 'Current patient census with summary by level of care',\n                method: 'generateCensusReportPdf'\n            },\n            {\n                type: 'billing',\n                name: 'Billing Report',\n                description: 'AR aging, pending claims, and revenue by payer',\n                method: 'generateBillingReportPdf'\n            },\n            {\n                type: 'executive-dashboard',\n                name: 'Executive Dashboard',\n                description: 'Key performance indicators summary',\n                method: 'generateExecutiveDashboardPdf'\n            },\n            {\n                type: 'custom',\n                name: 'Custom Report',\n                description: 'Custom report from provided sections and data',\n                method: 'generateCustomReportPdf'\n            },\n            {\n                type: 'raw-html',\n                name: 'Raw HTML',\n                description: 'Direct HTML to PDF conversion',\n                method: 'generateFromRawHtml'\n            }\n        ];\n    }\n\n    /**\n     * Cleanup resources - close browser if open\n     */\n    static async cleanup() {\n        if (PuppeteerPdfService.browserTimeout) {\n            clearTimeout(PuppeteerPdfService.browserTimeout);\n            PuppeteerPdfService.browserTimeout = null;\n        }\n\n        if (PuppeteerPdfService.browser) {\n            try {\n                await PuppeteerPdfService.browser.close();\n                PuppeteerPdfService.browser = null;\n                PuppeteerPdfService.browserRefCount = 0;\n                logger.info('Puppeteer browser instance cleaned up');\n            } catch (error) {\n                logger.warn('Error during browser cleanup:', error.message);\n            }\n        }\n    }\n}\n\nexport default new PuppeteerPdfService();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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,CAACyB,MAAM,CAACI,IAAI;AACxD;AACA;AACA,8BAA8B7B,mBAAmB,CAACyB,MAAM,CAACO,UAAU;AACnE;AACA;AACA;AACA;AACA,yBAAyBhC,mBAAmB,CAACyB,MAAM,CAACE,WAAW;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD3B,mBAAmB,CAACyB,MAAM,CAACC,OAAO,QAAQ1B,mBAAmB,CAACyB,MAAM,CAACE,WAAW;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B3B,mBAAmB,CAACyB,MAAM,CAACQ,QAAQ;AACjE;AACA;AACA,yCAAyCjC,mBAAmB,CAACyB,MAAM,CAACC,OAAO;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B1B,mBAAmB,CAACyB,MAAM,CAACC,OAAO;AAChE;AACA;AACA;AACA;AACA,oCAAoC1B,mBAAmB,CAACyB,MAAM,CAACE,WAAW;AAC1E;AACA;AACA;AACA;AACA,oCAAoC3B,mBAAmB,CAACyB,MAAM,CAACM,MAAM;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC/B,mBAAmB,CAACyB,MAAM,CAACM,MAAM;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB/B,mBAAmB,CAACyB,MAAM,CAACK,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB9B,mBAAmB,CAACyB,MAAM,CAACI,IAAI;AACxD;AACA;AACA;AACA;AACA;AACA,4CAA4C7B,mBAAmB,CAACyB,MAAM,CAACM,MAAM;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB/B,mBAAmB,CAACyB,MAAM,CAACK,SAAS;AAC7D;AACA;AACA;AAC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","ignoreList":[]}