{"version":3,"names":["cov_1u17v7lsbl","actualCoverage","controller","PERMISSIONS","requireAdmin","requireAnyPermission","adminSettingsRoutes","fastify","options","f","s","get","preHandler","listSettings","bind","getSettingsHistory","getSetting","put","updateSetting","post","bulkUpdateSettings","resetSetting","testClearinghouseConnection","initializeSettings"],"sources":["adminSettings.routes.js"],"sourcesContent":["import controller from '../controllers/SystemSettings.controller.js';\nimport { PERMISSIONS } from '../config/rbac.js';\nimport { requireAdmin, requireAnyPermission } from '../middleware/rbac.middleware.js';\n\n/**\n * Admin Settings Routes\n * Admin-only endpoints for system configuration management\n *\n * Features:\n *   - System configuration settings (timezone, date format, session timeout)\n *   - Clearinghouse integration settings\n *   - Settings history/audit trail\n *   - Connection testing\n *   - Bulk updates\n *\n * Endpoints:\n * - GET /api/admin/settings - List all settings by category\n * - GET /api/admin/settings/history - Get settings change history\n * - GET /api/admin/settings/:key - Get setting by key\n * - PUT /api/admin/settings/:key - Update setting\n * - POST /api/admin/settings/bulk - Bulk update settings\n * - POST /api/admin/settings/reset/:key - Reset setting to default\n * - POST /api/admin/settings/clearinghouse/test - Test clearinghouse connection\n * - POST /api/admin/settings/initialize - Initialize default settings\n *\n * All endpoints require admin role or MANAGE_USERS permission\n */\nexport default async function adminSettingsRoutes(fastify, options) {\n\n  // List all settings by category\n  fastify.get('/admin/settings', {\n    preHandler: [requireAdmin]\n  }, controller.listSettings.bind(controller));\n\n  // Get settings change history\n  fastify.get('/admin/settings/history', {\n    preHandler: [requireAdmin]\n  }, controller.getSettingsHistory.bind(controller));\n\n  // Get setting by key\n  fastify.get('/admin/settings/:key', {\n    preHandler: [requireAdmin]\n  }, controller.getSetting.bind(controller));\n\n  // Update setting\n  fastify.put('/admin/settings/:key', {\n    preHandler: [requireAdmin]\n  }, controller.updateSetting.bind(controller));\n\n  // Bulk update settings\n  fastify.post('/admin/settings/bulk', {\n    preHandler: [requireAdmin]\n  }, controller.bulkUpdateSettings.bind(controller));\n\n  // Reset setting to default\n  fastify.post('/admin/settings/reset/:key', {\n    preHandler: [requireAdmin]\n  }, controller.resetSetting.bind(controller));\n\n  // Test clearinghouse connection\n  fastify.post('/admin/settings/clearinghouse/test', {\n    preHandler: [requireAdmin]\n  }, controller.testClearinghouseConnection.bind(controller));\n\n  // Initialize default settings\n  fastify.post('/admin/settings/initialize', {\n    preHandler: [requireAdmin]\n  }, controller.initializeSettings.bind(controller));\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeY;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAfZ,OAAOE,UAAU,MAAM,6CAA6C;AACpE,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,YAAY,EAAEC,oBAAoB,QAAQ,kCAAkC;;AAErF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAeC,mBAAmBA,CAACC,OAAO,EAAEC,OAAO,EAAE;EAAA;EAAAR,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAU,CAAA;EAElE;EACAH,OAAO,CAACI,GAAG,CAAC,iBAAiB,EAAE;IAC7BC,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACW,YAAY,CAACC,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAE5C;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACI,GAAG,CAAC,yBAAyB,EAAE;IACrCC,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACa,kBAAkB,CAACD,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAElD;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACI,GAAG,CAAC,sBAAsB,EAAE;IAClCC,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACc,UAAU,CAACF,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAE1C;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACU,GAAG,CAAC,sBAAsB,EAAE;IAClCL,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACgB,aAAa,CAACJ,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAE7C;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACY,IAAI,CAAC,sBAAsB,EAAE;IACnCP,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACkB,kBAAkB,CAACN,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAElD;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACY,IAAI,CAAC,4BAA4B,EAAE;IACzCP,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACmB,YAAY,CAACP,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAE5C;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACY,IAAI,CAAC,oCAAoC,EAAE;IACjDP,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACoB,2BAA2B,CAACR,IAAI,CAACZ,UAAU,CAAC,CAAC;;EAE3D;EAAA;EAAAF,cAAA,GAAAU,CAAA;EACAH,OAAO,CAACY,IAAI,CAAC,4BAA4B,EAAE;IACzCP,UAAU,EAAE,CAACR,YAAY;EAC3B,CAAC,EAAEF,UAAU,CAACqB,kBAAkB,CAACT,IAAI,CAACZ,UAAU,CAAC,CAAC;AACpD","ignoreList":[]}