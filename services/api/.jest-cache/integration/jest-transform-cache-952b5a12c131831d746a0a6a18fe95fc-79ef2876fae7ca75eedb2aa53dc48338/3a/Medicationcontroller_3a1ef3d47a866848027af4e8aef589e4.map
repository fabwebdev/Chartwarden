{"version":3,"names":["cov_2aqhpqucxh","actualCoverage","db","medications","mar_entries","comfort_kits","comfort_kit_usage_log","controlled_substance_log","medication_reconciliation","patients","patient_allergies","drug_interactions","eq","and","desc","asc","sql","or","isNull","ilike","gte","lte","count","crypto","logger","AuditService","VALID_ROUTES","s","VALID_FREQUENCIES","VALID_SCHEDULES","MedicationController","checkDrugInteractions","patientId","medicationName","f","currentMeds","select","from","where","patient_id","medication_status","deleted_at","length","b","interactions","medNameLower","toLowerCase","med","foundInteractions","drug1_name","drug2_name","medication_name","push","map","i","conflicting_medication","conflicting_medication_id","id","error","checkAllergyConflicts","allergies","status","allergen_type","conflicts","filter","allergy","allergenLower","allergen_name","includes","validateMedicationOrder","data","errors","trim","dosage","medication_route","frequency","start_date","toUpperCase","join","controlled_schedule","end_date","startDate","Date","endDate","isValid","getPatientMedications","request","reply","params","is_hospice_related","page","limit","query","parseInt","pageNum","Math","max","limitNum","min","offset","conditions","undefined","totalCountResult","value","total","Number","results","orderBy","code","pagination","totalPages","ceil","message","process","env","NODE_ENV","getMedication","medId","result","createMedication","body","validation","allergyConflicts","drugInteractions","severeInteractions","interaction_severity","override_warnings","warnings","allergy_conflicts","insert","values","generic_name","ndc_code","instructions","prescriber_id","order_id","created_by_id","user","updated_by_id","returning","medication_id","log_date","action","quantity","initial_quantity","logged_by_id","createAuditLog","user_id","resource_type","resource_id","String","ip_address","ip","user_agent","headers","metadata","JSON","stringify","is_controlled","has_warnings_overridden","auditError","response","overridden","updateMedication","medicationId","existing","Promise","all","updateData","updatedAt","update","set","changes","Object","keys","k","cancelMedication","reason","discontinuation_reason","notes","cancellation_reason","checkInteractions","has_warnings","discontinueMedication","discontinued_date","toISOString","split","action_type","holdMedication","hold_until","pauseMedication","pause_until","resumeMedication","getPatientMAR","mar_entry","medication","leftJoin","scheduled_time","createMAREntry","validStatuses","mar_status","reason_not_given","actual_time","dosage_given","route_used","administered_by_id","administered_by_name","firstName","lastName","patient_response","getMAREntry","marId","updateMAREntry","getPatientComfortKit","issue_date","createComfortKit","kit_number","expiration_date","location","destroyComfortKit","kit_id","witness_id","witness_name","destruction_notes","Array","isArray","lot_number","createMedicationReconciliation","validTypes","reconciliation_type","currentMedications","discrepancies","discrepancies_found","home_medications","autoDiscrepancies","detectMedicationDiscrepancies","d","type","description","reconciliation_date","medications_reviewed","current_medications","m","name","actions_taken","performed_by_id","performed_by_name","getMedicationReconciliationHistory","getMedicationReconciliation","reconId","compareMedications","home_medications_count","current_medications_count","discrepancies_count","route","homeMeds","currentMedNames","homeMedNames","homeMed","medName","matchingCurrent","find","c","home_medication","homeDosage","currentDosage","current_medication_id","homeFreq","currentFreq","currentMed","matchingHome","h","homeName","getMedicationSchedule","date","scheduleDate","activeMeds","schedule","times","generateAdministrationTimes","time","is_prn","sort","a","total_administrations","dateStr","frequencyMap","hoursForFreq","getPatientAllergies","createdAt","createPatientAllergy","validSeverities","reaction_severity","allergen_code","reaction_type","reaction_description","onset_date","source","updatePatientAllergy","allergyId","deletePatientAllergy","getControlledSubstanceLog"],"sources":["Medication.controller.js"],"sourcesContent":["import { db } from '../config/db.drizzle.js';\nimport {\n  medications,\n  mar_entries,\n  comfort_kits,\n  comfort_kit_usage_log,\n  controlled_substance_log,\n  medication_reconciliation,\n  patients,\n  patient_allergies,\n  drug_interactions\n} from '../db/schemas/index.js';\nimport { eq, and, desc, asc, sql, or, isNull, ilike, gte, lte, count } from 'drizzle-orm';\nimport crypto from 'crypto';\n\nimport { logger } from '../utils/logger.js';\nimport AuditService from '../services/AuditService.js';\n\n// Valid medication administration routes\nconst VALID_ROUTES = ['ORAL', 'IV', 'IM', 'SQ', 'RECTAL', 'TOPICAL', 'SUBLINGUAL', 'INHALATION', 'TRANSDERMAL', 'OPHTHALMIC', 'OTIC', 'NASAL', 'OTHER'];\n\n// Valid medication frequencies\nconst VALID_FREQUENCIES = ['ONCE', 'DAILY', 'BID', 'TID', 'QID', 'Q4H', 'Q6H', 'Q8H', 'Q12H', 'WEEKLY', 'MONTHLY', 'PRN', 'OTHER'];\n\n// Valid controlled substance schedules\nconst VALID_SCHEDULES = ['SCHEDULE_II', 'SCHEDULE_III', 'SCHEDULE_IV', 'SCHEDULE_V'];\n/**\n * Medication Controller\n * Manages medication administration, MAR, comfort kits, and controlled substances\n * CRITICAL: Clinical necessity and regulatory compliance\n */\nclass MedicationController {\n  /**\n   * Check for drug-drug interactions between a medication and patient's current medications\n   * @param {number} patientId - Patient ID\n   * @param {string} medicationName - Name of the medication to check\n   * @returns {Promise<Array>} List of interactions found\n   */\n  async checkDrugInteractions(patientId, medicationName) {\n    try {\n      // Get patient's current active medications\n      const currentMeds = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.patient_id, patientId),\n          eq(medications.medication_status, 'ACTIVE'),\n          isNull(medications.deleted_at)\n        ));\n\n      if (currentMeds.length === 0) {\n        return [];\n      }\n\n      const interactions = [];\n      const medNameLower = medicationName.toLowerCase();\n\n      // Check interactions database for each current medication\n      for (const med of currentMeds) {\n        const foundInteractions = await db\n          .select()\n          .from(drug_interactions)\n          .where(or(\n            and(\n              ilike(drug_interactions.drug1_name, `%${medNameLower}%`),\n              ilike(drug_interactions.drug2_name, `%${med.medication_name}%`)\n            ),\n            and(\n              ilike(drug_interactions.drug1_name, `%${med.medication_name}%`),\n              ilike(drug_interactions.drug2_name, `%${medNameLower}%`)\n            )\n          ));\n\n        if (foundInteractions.length > 0) {\n          interactions.push(...foundInteractions.map(i => ({\n            ...i,\n            conflicting_medication: med.medication_name,\n            conflicting_medication_id: med.id\n          })));\n        }\n      }\n\n      return interactions;\n    } catch (error) {\n      logger.error('Error checking drug interactions:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Check for allergies that may conflict with a medication\n   * @param {number} patientId - Patient ID\n   * @param {string} medicationName - Name of the medication to check\n   * @returns {Promise<Array>} List of allergy warnings\n   */\n  async checkAllergyConflicts(patientId, medicationName) {\n    try {\n      const allergies = await db\n        .select()\n        .from(patient_allergies)\n        .where(and(\n          eq(patient_allergies.patient_id, patientId),\n          eq(patient_allergies.status, 'ACTIVE'),\n          eq(patient_allergies.allergen_type, 'MEDICATION'),\n          isNull(patient_allergies.deleted_at)\n        ));\n\n      const medNameLower = medicationName.toLowerCase();\n      const conflicts = allergies.filter(allergy => {\n        const allergenLower = allergy.allergen_name.toLowerCase();\n        return medNameLower.includes(allergenLower) || allergenLower.includes(medNameLower);\n      });\n\n      return conflicts;\n    } catch (error) {\n      logger.error('Error checking allergy conflicts:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Validate medication order data\n   * @param {Object} data - Medication order data\n   * @returns {Object} Validation result with isValid and errors\n   */\n  validateMedicationOrder(data) {\n    const errors = [];\n\n    // Required fields\n    if (!data.medication_name || data.medication_name.trim() === '') {\n      errors.push('Medication name is required');\n    }\n    if (!data.dosage || data.dosage.trim() === '') {\n      errors.push('Dosage is required');\n    }\n    if (!data.medication_route || data.medication_route.trim() === '') {\n      errors.push('Route is required');\n    }\n    if (!data.frequency || data.frequency.trim() === '') {\n      errors.push('Frequency is required');\n    }\n    if (!data.start_date) {\n      errors.push('Start date is required');\n    }\n\n    // Validate route if provided\n    if (data.medication_route && !VALID_ROUTES.includes(data.medication_route.toUpperCase())) {\n      errors.push(`Invalid medication route. Valid routes: ${VALID_ROUTES.join(', ')}`);\n    }\n\n    // Validate frequency if provided\n    if (data.frequency && !VALID_FREQUENCIES.includes(data.frequency.toUpperCase())) {\n      errors.push(`Invalid frequency. Valid frequencies: ${VALID_FREQUENCIES.join(', ')}`);\n    }\n\n    // Validate controlled schedule if provided\n    if (data.controlled_schedule && !VALID_SCHEDULES.includes(data.controlled_schedule)) {\n      errors.push(`Invalid controlled schedule. Valid schedules: ${VALID_SCHEDULES.join(', ')}`);\n    }\n\n    // Validate date range\n    if (data.start_date && data.end_date) {\n      const startDate = new Date(data.start_date);\n      const endDate = new Date(data.end_date);\n      if (endDate < startDate) {\n        errors.push('End date cannot be before start date');\n      }\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors\n    };\n  }\n\n  /**\n   * Get all medications for a patient with pagination\n   * GET /patients/:id/medications\n   * Query params: status, is_hospice_related, page, limit\n   */\n  async getPatientMedications(request, reply) {\n    try {\n      const { id } = request.params;\n      const { status, is_hospice_related, page = '1', limit = '20' } = request.query;\n      const patientId = parseInt(id);\n      const pageNum = Math.max(1, parseInt(page) || 1);\n      const limitNum = Math.min(100, Math.max(1, parseInt(limit) || 20));\n      const offset = (pageNum - 1) * limitNum;\n\n      // Build base conditions\n      const conditions = [\n        eq(medications.patient_id, patientId),\n        isNull(medications.deleted_at)\n      ];\n\n      // Filter by status if provided\n      if (status) {\n        conditions.push(eq(medications.medication_status, status));\n      }\n\n      // Filter by hospice-related if provided\n      if (is_hospice_related !== undefined) {\n        conditions.push(eq(medications.is_hospice_related, is_hospice_related === 'true'));\n      }\n\n      // Get total count for pagination\n      const totalCountResult = await db\n        .select({ value: count() })\n        .from(medications)\n        .where(and(...conditions));\n      const total = Number(totalCountResult[0]?.value || 0);\n\n      // Get paginated results\n      const results = await db\n        .select()\n        .from(medications)\n        .where(and(...conditions))\n        .orderBy(desc(medications.start_date))\n        .limit(limitNum)\n        .offset(offset);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        pagination: {\n          page: pageNum,\n          limit: limitNum,\n          total,\n          totalPages: Math.ceil(total / limitNum)\n        }\n      };\n    } catch (error) {\n      logger.error('Error fetching patient medications:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching medications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single medication by ID\n   * GET /patients/:id/medications/:medId\n   */\n  async getMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n\n      const result = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, parseInt(medId)),\n          eq(medications.patient_id, parseInt(id)),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching medication:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create new medication order with validation and safety checks\n   * POST /patients/:id/medications\n   */\n  async createMedication(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n      const patientId = parseInt(id);\n\n      // Validate required fields\n      const validation = this.validateMedicationOrder(data);\n      if (!validation.isValid) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Validation failed',\n          errors: validation.errors\n        };\n      }\n\n      // Check for patient allergies (warnings, not blocking)\n      const allergyConflicts = await this.checkAllergyConflicts(patientId, data.medication_name);\n\n      // Check for drug interactions (warnings, not blocking unless override=false)\n      const drugInteractions = await this.checkDrugInteractions(patientId, data.medication_name);\n\n      // If there are severe/contraindicated interactions and no override, block\n      const severeInteractions = drugInteractions.filter(i =>\n        ['CONTRAINDICATED', 'SEVERE'].includes(i.interaction_severity)\n      );\n\n      if (severeInteractions.length > 0 && !data.override_warnings) {\n        reply.code(409);\n        return {\n          status: 409,\n          message: 'Severe drug interactions detected. Set override_warnings=true to proceed.',\n          warnings: {\n            drug_interactions: severeInteractions,\n            allergy_conflicts: allergyConflicts\n          }\n        };\n      }\n\n      // If there are allergy conflicts and no override, block\n      if (allergyConflicts.length > 0 && !data.override_warnings) {\n        reply.code(409);\n        return {\n          status: 409,\n          message: 'Allergy conflicts detected. Set override_warnings=true to proceed.',\n          warnings: {\n            allergy_conflicts: allergyConflicts,\n            drug_interactions: drugInteractions\n          }\n        };\n      }\n\n      const result = await db\n        .insert(medications)\n        .values({\n          patient_id: patientId,\n          medication_name: data.medication_name,\n          generic_name: data.generic_name,\n          ndc_code: data.ndc_code,\n          medication_status: data.medication_status || 'ACTIVE',\n          medication_route: data.medication_route?.toUpperCase(),\n          dosage: data.dosage,\n          frequency: data.frequency?.toUpperCase(),\n          instructions: data.instructions,\n          start_date: data.start_date,\n          end_date: data.end_date,\n          controlled_schedule: data.controlled_schedule,\n          is_hospice_related: data.is_hospice_related ?? true,\n          prescriber_id: data.prescriber_id,\n          order_id: data.order_id,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      // If this is a controlled substance, create initial log entry\n      if (data.controlled_schedule) {\n        await db.insert(controlled_substance_log).values({\n          patient_id: patientId,\n          medication_id: result[0].id,\n          log_date: new Date(),\n          action: 'DISPENSED',\n          medication_name: data.medication_name,\n          quantity: data.initial_quantity || 'Not specified',\n          logged_by_id: request.user?.id\n        });\n      }\n\n      // Create audit log for medication creation\n      try {\n        await AuditService.createAuditLog({\n          user_id: request.user?.id,\n          action: 'CREATE',\n          resource_type: 'medications',\n          resource_id: String(result[0].id),\n          ip_address: request.ip,\n          user_agent: request.headers?.['user-agent'],\n          metadata: JSON.stringify({\n            patient_id: patientId,\n            medication_name: result[0].medication_name,\n            dosage: result[0].dosage,\n            frequency: result[0].frequency,\n            is_controlled: !!data.controlled_schedule,\n            has_warnings_overridden: drugInteractions.length > 0 || allergyConflicts.length > 0\n          })\n        });\n      } catch (auditError) {\n        logger.error('Failed to create audit log for medication creation:', auditError);\n        // Don't fail the request if audit logging fails\n      }\n\n      // Build response with any warnings\n      const response = {\n        status: 201,\n        message: 'Medication created',\n        data: result[0]\n      };\n\n      // Include warnings if any were overridden\n      if (drugInteractions.length > 0 || allergyConflicts.length > 0) {\n        response.warnings = {\n          drug_interactions: drugInteractions,\n          allergy_conflicts: allergyConflicts,\n          overridden: true\n        };\n      }\n\n      reply.code(201);\n      return response;\n    } catch (error) {\n      logger.error('Error creating medication:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update existing medication order with drug interaction checking\n   * PUT /patients/:id/medications/:medId\n   */\n  async updateMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n      const data = request.body;\n      const patientId = parseInt(id);\n      const medicationId = parseInt(medId);\n\n      // Check if medication exists\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, medicationId),\n          eq(medications.patient_id, patientId),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      // Cannot update discontinued medications\n      if (existing[0].medication_status === 'DISCONTINUED') {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Cannot update discontinued medication. Create a new order instead.'\n        };\n      }\n\n      // Validate route if being updated\n      if (data.medication_route && !VALID_ROUTES.includes(data.medication_route.toUpperCase())) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid medication route. Valid routes: ${VALID_ROUTES.join(', ')}`\n        };\n      }\n\n      // Validate frequency if being updated\n      if (data.frequency && !VALID_FREQUENCIES.includes(data.frequency.toUpperCase())) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid frequency. Valid frequencies: ${VALID_FREQUENCIES.join(', ')}`\n        };\n      }\n\n      // If medication_name is being changed, check for drug interactions\n      let drugInteractions = [];\n      let allergyConflicts = [];\n      if (data.medication_name && data.medication_name !== existing[0].medication_name) {\n        // Check for drug interactions and allergy conflicts with the new medication name\n        [drugInteractions, allergyConflicts] = await Promise.all([\n          this.checkDrugInteractions(patientId, data.medication_name),\n          this.checkAllergyConflicts(patientId, data.medication_name)\n        ]);\n\n        // Filter out interactions with the current medication being updated\n        drugInteractions = drugInteractions.filter(i => i.conflicting_medication_id !== medicationId);\n\n        // Filter severe interactions\n        const severeInteractions = drugInteractions.filter(i =>\n          ['CONTRAINDICATED', 'SEVERE'].includes(i.interaction_severity)\n        );\n\n        // Block if severe interactions found and no override\n        if (severeInteractions.length > 0 && !data.override_warnings) {\n          reply.code(409);\n          return {\n            status: 409,\n            message: 'Severe drug interactions detected. Set override_warnings=true to proceed.',\n            warnings: {\n              drug_interactions: severeInteractions,\n              allergy_conflicts: allergyConflicts\n            }\n          };\n        }\n\n        // Block if allergy conflicts found and no override\n        if (allergyConflicts.length > 0 && !data.override_warnings) {\n          reply.code(409);\n          return {\n            status: 409,\n            message: 'Allergy conflicts detected. Set override_warnings=true to proceed.',\n            warnings: {\n              allergy_conflicts: allergyConflicts,\n              drug_interactions: drugInteractions\n            }\n          };\n        }\n      }\n\n      // Build update object with only provided fields\n      const updateData = {\n        updatedAt: new Date(),\n        updated_by_id: request.user?.id\n      };\n\n      if (data.medication_name !== undefined) updateData.medication_name = data.medication_name;\n      if (data.generic_name !== undefined) updateData.generic_name = data.generic_name;\n      if (data.ndc_code !== undefined) updateData.ndc_code = data.ndc_code;\n      if (data.medication_route !== undefined) updateData.medication_route = data.medication_route.toUpperCase();\n      if (data.dosage !== undefined) updateData.dosage = data.dosage;\n      if (data.frequency !== undefined) updateData.frequency = data.frequency.toUpperCase();\n      if (data.instructions !== undefined) updateData.instructions = data.instructions;\n      if (data.end_date !== undefined) updateData.end_date = data.end_date;\n      if (data.is_hospice_related !== undefined) updateData.is_hospice_related = data.is_hospice_related;\n      if (data.prescriber_id !== undefined) updateData.prescriber_id = data.prescriber_id;\n\n      const result = await db\n        .update(medications)\n        .set(updateData)\n        .where(eq(medications.id, medicationId))\n        .returning();\n\n      // Create audit log for medication update\n      try {\n        await AuditService.createAuditLog({\n          user_id: request.user?.id,\n          action: 'UPDATE',\n          resource_type: 'medications',\n          resource_id: String(medicationId),\n          ip_address: request.ip,\n          user_agent: request.headers?.['user-agent'],\n          metadata: JSON.stringify({\n            patient_id: patientId,\n            medication_name: result[0].medication_name,\n            changes: Object.keys(updateData).filter(k => k !== 'updatedAt' && k !== 'updated_by_id')\n          })\n        });\n      } catch (auditError) {\n        logger.error('Failed to create audit log for medication update:', auditError);\n        // Don't fail the request if audit logging fails\n      }\n\n      // Build response\n      const response = {\n        status: 200,\n        message: 'Medication updated',\n        data: result[0]\n      };\n\n      // Include warnings if any were overridden\n      if (drugInteractions.length > 0 || allergyConflicts.length > 0) {\n        response.warnings = {\n          drug_interactions: drugInteractions,\n          allergy_conflicts: allergyConflicts,\n          overridden: true\n        };\n      }\n\n      reply.code(200);\n      return response;\n    } catch (error) {\n      logger.error('Error updating medication:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Cancel medication order (soft delete)\n   * DELETE /patients/:id/medications/:medId\n   */\n  async cancelMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n      const { reason } = request.body || {};\n      const patientId = parseInt(id);\n      const medicationId = parseInt(medId);\n\n      // Check if medication exists\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, medicationId),\n          eq(medications.patient_id, patientId),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      // Soft delete the medication\n      const result = await db\n        .update(medications)\n        .set({\n          deleted_at: new Date(),\n          medication_status: 'CANCELLED',\n          discontinuation_reason: reason || 'Order cancelled',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(medications.id, medicationId))\n        .returning();\n\n      // Log controlled substance cancellation if applicable\n      if (existing[0].controlled_schedule) {\n        await db.insert(controlled_substance_log).values({\n          patient_id: patientId,\n          medication_id: medicationId,\n          log_date: new Date(),\n          action: 'RETURNED',\n          medication_name: existing[0].medication_name,\n          notes: `Order cancelled: ${reason || 'No reason provided'}`,\n          logged_by_id: request.user?.id\n        });\n      }\n\n      // Create audit log for medication cancellation\n      try {\n        await AuditService.createAuditLog({\n          user_id: request.user?.id,\n          action: 'DELETE',\n          resource_type: 'medications',\n          resource_id: String(medicationId),\n          ip_address: request.ip,\n          user_agent: request.headers?.['user-agent'],\n          metadata: JSON.stringify({\n            patient_id: patientId,\n            medication_name: existing[0].medication_name,\n            cancellation_reason: reason || 'Order cancelled',\n            is_controlled: !!existing[0].controlled_schedule\n          })\n        });\n      } catch (auditError) {\n        logger.error('Failed to create audit log for medication cancellation:', auditError);\n        // Don't fail the request if audit logging fails\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Medication order cancelled',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error cancelling medication:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error cancelling medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Check drug interactions for a medication\n   * POST /patients/:id/medications/check-interactions\n   */\n  async checkInteractions(request, reply) {\n    try {\n      const { id } = request.params;\n      const { medication_name } = request.body;\n      const patientId = parseInt(id);\n\n      if (!medication_name) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'medication_name is required'\n        };\n      }\n\n      const [drugInteractions, allergyConflicts] = await Promise.all([\n        this.checkDrugInteractions(patientId, medication_name),\n        this.checkAllergyConflicts(patientId, medication_name)\n      ]);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          medication_name,\n          has_warnings: drugInteractions.length > 0 || allergyConflicts.length > 0,\n          drug_interactions: drugInteractions,\n          allergy_conflicts: allergyConflicts\n        }\n      };\n    } catch (error) {\n      logger.error('Error checking interactions:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error checking interactions',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Discontinue medication\n   * POST /patients/:id/medications/:medId/discontinue\n   */\n  async discontinueMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n      const { reason } = request.body;\n\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, parseInt(medId)),\n          eq(medications.patient_id, parseInt(id)),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      const result = await db\n        .update(medications)\n        .set({\n          medication_status: 'DISCONTINUED',\n          discontinued_date: new Date().toISOString().split('T')[0],\n          discontinuation_reason: reason,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(medications.id, parseInt(medId)))\n        .returning();\n\n      // If controlled substance, log the discontinuation\n      if (existing[0].controlled_schedule) {\n        await db.insert(controlled_substance_log).values({\n          patient_id: parseInt(id),\n          medication_id: parseInt(medId),\n          log_date: new Date(),\n          action: 'RETURNED',\n          medication_name: existing[0].medication_name,\n          notes: `Discontinued: ${reason}`,\n          logged_by_id: request.user?.id\n        });\n      }\n\n      // Create audit log for medication discontinuation\n      try {\n        await AuditService.createAuditLog({\n          user_id: request.user?.id,\n          action: 'UPDATE',\n          resource_type: 'medications',\n          resource_id: String(medId),\n          ip_address: request.ip,\n          user_agent: request.headers?.['user-agent'],\n          metadata: JSON.stringify({\n            patient_id: parseInt(id),\n            medication_name: existing[0].medication_name,\n            action_type: 'DISCONTINUE',\n            discontinuation_reason: reason,\n            is_controlled: !!existing[0].controlled_schedule\n          })\n        });\n      } catch (auditError) {\n        logger.error('Failed to create audit log for medication discontinuation:', auditError);\n        // Don't fail the request if audit logging fails\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Medication discontinued',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error discontinuing medication:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error discontinuing medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Hold medication\n   * POST /patients/:id/medications/:medId/hold\n   */\n  async holdMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n      const { reason, hold_until } = request.body;\n\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, parseInt(medId)),\n          eq(medications.patient_id, parseInt(id)),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      const result = await db\n        .update(medications)\n        .set({\n          medication_status: 'HELD',\n          end_date: hold_until, // Temporary hold until this date\n          instructions: `${existing[0].instructions || ''}\\nHeld: ${reason}`.trim(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(medications.id, parseInt(medId)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Medication held',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error holding medication:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error holding medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Pause medication\n   * POST /patients/:id/medications/:medId/pause\n   */\n  async pauseMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n      const { reason, pause_until } = request.body;\n\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, parseInt(medId)),\n          eq(medications.patient_id, parseInt(id)),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      const result = await db\n        .update(medications)\n        .set({\n          medication_status: 'PAUSED',\n          end_date: pause_until,\n          instructions: `${existing[0].instructions || ''}\\nPaused: ${reason}`.trim(),\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(medications.id, parseInt(medId)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Medication paused',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error pausing medication:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error pausing medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Resume medication\n   * POST /patients/:id/medications/:medId/resume\n   */\n  async resumeMedication(request, reply) {\n    try {\n      const { id, medId } = request.params;\n\n      const existing = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.id, parseInt(medId)),\n          eq(medications.patient_id, parseInt(id)),\n          isNull(medications.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication not found'\n        };\n      }\n\n      if (!['PAUSED', 'HELD'].includes(existing[0].medication_status)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Medication is not paused or held'\n        };\n      }\n\n      const result = await db\n        .update(medications)\n        .set({\n          medication_status: 'ACTIVE',\n          end_date: null,\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(medications.id, parseInt(medId)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Medication resumed',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error resuming medication:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error resuming medication',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get MAR entries for a patient\n   * GET /patients/:id/mar\n   */\n  async getPatientMAR(request, reply) {\n    try {\n      const { id } = request.params;\n      const { start_date, end_date, medication_id } = request.query;\n\n      let query = db\n        .select({\n          mar_entry: mar_entries,\n          medication: medications\n        })\n        .from(mar_entries)\n        .leftJoin(medications, eq(mar_entries.medication_id, medications.id))\n        .where(and(\n          eq(mar_entries.patient_id, parseInt(id)),\n          isNull(mar_entries.deleted_at)\n        ));\n\n      // Filter by date range if provided\n      if (start_date && end_date) {\n        query = query.where(and(\n          sql`${mar_entries.scheduled_time} >= ${start_date}`,\n          sql`${mar_entries.scheduled_time} <= ${end_date}`\n        ));\n      }\n\n      // Filter by medication if provided\n      if (medication_id) {\n        query = query.where(eq(mar_entries.medication_id, parseInt(medication_id)));\n      }\n\n      const results = await query.orderBy(desc(mar_entries.scheduled_time));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching MAR entries:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching MAR entries',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create MAR entry (record medication administration)\n   * POST /patients/:id/mar\n   */\n  async createMAREntry(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      // Validate MAR status\n      const validStatuses = ['GIVEN', 'NOT_GIVEN', 'REFUSED', 'HELD', 'LATE', 'MISSED'];\n      if (!validStatuses.includes(data.mar_status)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid MAR status'\n        };\n      }\n\n      // Require reason if not given\n      if (['NOT_GIVEN', 'REFUSED', 'HELD'].includes(data.mar_status) && !data.reason_not_given) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Reason required when medication is not given, refused, or held'\n        };\n      }\n\n      const result = await db\n        .insert(mar_entries)\n        .values({\n          patient_id: parseInt(id),\n          medication_id: data.medication_id,\n          scheduled_time: data.scheduled_time,\n          actual_time: data.actual_time || new Date(),\n          mar_status: data.mar_status,\n          dosage_given: data.dosage_given,\n          route_used: data.route_used,\n          administered_by_id: data.administered_by_id || request.user?.id,\n          administered_by_name: data.administered_by_name || `${request.user?.firstName} ${request.user?.lastName}`,\n          reason_not_given: data.reason_not_given,\n          patient_response: data.patient_response,\n          created_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'MAR entry created',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating MAR entry:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating MAR entry',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single MAR entry by ID\n   * GET /patients/:id/mar/:marId\n   */\n  async getMAREntry(request, reply) {\n    try {\n      const { id, marId } = request.params;\n\n      const result = await db\n        .select({\n          mar_entry: mar_entries,\n          medication: medications\n        })\n        .from(mar_entries)\n        .leftJoin(medications, eq(mar_entries.medication_id, medications.id))\n        .where(and(\n          eq(mar_entries.id, parseInt(marId)),\n          eq(mar_entries.patient_id, parseInt(id)),\n          isNull(mar_entries.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'MAR entry not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching MAR entry:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching MAR entry',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update a MAR entry\n   * PUT /patients/:id/mar/:marId\n   */\n  async updateMAREntry(request, reply) {\n    try {\n      const { id, marId } = request.params;\n      const data = request.body;\n\n      // Check if entry exists\n      const existing = await db\n        .select()\n        .from(mar_entries)\n        .where(and(\n          eq(mar_entries.id, parseInt(marId)),\n          eq(mar_entries.patient_id, parseInt(id)),\n          isNull(mar_entries.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'MAR entry not found'\n        };\n      }\n\n      // Validate MAR status if provided\n      if (data.mar_status) {\n        const validStatuses = ['GIVEN', 'NOT_GIVEN', 'REFUSED', 'HELD', 'LATE', 'MISSED'];\n        if (!validStatuses.includes(data.mar_status)) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Invalid MAR status'\n          };\n        }\n\n        // Require reason if changing to not given status\n        if (['NOT_GIVEN', 'REFUSED', 'HELD'].includes(data.mar_status) && !data.reason_not_given && !existing[0].reason_not_given) {\n          reply.code(400);\n          return {\n            status: 400,\n            message: 'Reason required when medication is not given, refused, or held'\n          };\n        }\n      }\n\n      const updateData = {\n        updatedAt: new Date()\n      };\n\n      // Only update provided fields\n      if (data.actual_time !== undefined) updateData.actual_time = data.actual_time;\n      if (data.mar_status !== undefined) updateData.mar_status = data.mar_status;\n      if (data.dosage_given !== undefined) updateData.dosage_given = data.dosage_given;\n      if (data.route_used !== undefined) updateData.route_used = data.route_used;\n      if (data.reason_not_given !== undefined) updateData.reason_not_given = data.reason_not_given;\n      if (data.patient_response !== undefined) updateData.patient_response = data.patient_response;\n\n      const result = await db\n        .update(mar_entries)\n        .set(updateData)\n        .where(eq(mar_entries.id, parseInt(marId)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'MAR entry updated',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error updating MAR entry:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating MAR entry',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get comfort kit for a patient\n   * GET /patients/:id/comfort-kit\n   */\n  async getPatientComfortKit(request, reply) {\n    try {\n      const { id } = request.params;\n\n      const results = await db\n        .select()\n        .from(comfort_kits)\n        .where(and(\n          eq(comfort_kits.patient_id, parseInt(id)),\n          isNull(comfort_kits.deleted_at)\n        ))\n        .orderBy(desc(comfort_kits.issue_date));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching comfort kit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching comfort kit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create comfort kit for a patient\n   * POST /patients/:id/comfort-kit\n   */\n  async createComfortKit(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n\n      const result = await db\n        .insert(comfort_kits)\n        .values({\n          patient_id: parseInt(id),\n          kit_number: data.kit_number,\n          issue_date: data.issue_date || new Date().toISOString().split('T')[0],\n          expiration_date: data.expiration_date,\n          status: 'ACTIVE',\n          medications: data.medications,\n          location: data.location,\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Comfort kit created',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating comfort kit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating comfort kit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Destroy comfort kit (controlled substance disposal)\n   * POST /patients/:id/comfort-kit/destroy\n   */\n  async destroyComfortKit(request, reply) {\n    try {\n      const { id } = request.params;\n      const { kit_id, witness_id, witness_name, destruction_notes } = request.body;\n\n      if (!kit_id) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'kit_id is required'\n        };\n      }\n\n      const existing = await db\n        .select()\n        .from(comfort_kits)\n        .where(and(\n          eq(comfort_kits.id, parseInt(kit_id)),\n          eq(comfort_kits.patient_id, parseInt(id)),\n          isNull(comfort_kits.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Comfort kit not found'\n        };\n      }\n\n      // Update kit status\n      const result = await db\n        .update(comfort_kits)\n        .set({\n          status: 'DESTROYED',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(comfort_kits.id, parseInt(kit_id)))\n        .returning();\n\n      // Log controlled substance destruction for each medication in kit\n      if (existing[0].medications && Array.isArray(existing[0].medications)) {\n        for (const med of existing[0].medications) {\n          await db.insert(controlled_substance_log).values({\n            patient_id: parseInt(id),\n            log_date: new Date(),\n            action: 'DESTROYED',\n            medication_name: med.medication,\n            quantity: med.quantity,\n            lot_number: med.lot_number,\n            witness_id: witness_id,\n            witness_name: witness_name,\n            notes: destruction_notes || 'Comfort kit destroyed',\n            logged_by_id: request.user?.id\n          });\n        }\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Comfort kit destroyed and logged',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error destroying comfort kit:', error)\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error destroying comfort kit',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create medication reconciliation\n   * POST /patients/:id/medication-reconciliation\n   */\n  async createMedicationReconciliation(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n      const patientId = parseInt(id);\n\n      // Validate reconciliation type\n      const validTypes = ['ADMISSION', 'TRANSFER', 'DISCHARGE', 'ROUTINE'];\n      if (data.reconciliation_type && !validTypes.includes(data.reconciliation_type)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'Invalid reconciliation type'\n        };\n      }\n\n      // Get current active medications for comparison\n      const currentMedications = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.patient_id, patientId),\n          eq(medications.medication_status, 'ACTIVE'),\n          isNull(medications.deleted_at)\n        ));\n\n      // Auto-detect discrepancies if home_medications are provided\n      let discrepancies = data.discrepancies_found || '';\n      if (data.home_medications && Array.isArray(data.home_medications)) {\n        const autoDiscrepancies = this.detectMedicationDiscrepancies(\n          data.home_medications,\n          currentMedications\n        );\n        if (autoDiscrepancies.length > 0) {\n          discrepancies = autoDiscrepancies.map(d =>\n            `${d.type}: ${d.medication} - ${d.description}`\n          ).join('\\n');\n        }\n      }\n\n      const result = await db\n        .insert(medication_reconciliation)\n        .values({\n          patient_id: patientId,\n          reconciliation_date: data.reconciliation_date || new Date().toISOString().split('T')[0],\n          reconciliation_type: data.reconciliation_type || 'ROUTINE',\n          medications_reviewed: data.medications_reviewed || {\n            home_medications: data.home_medications || [],\n            current_medications: currentMedications.map(m => ({\n              id: m.id,\n              name: m.medication_name,\n              dosage: m.dosage,\n              frequency: m.frequency\n            }))\n          },\n          discrepancies_found: discrepancies,\n          actions_taken: data.actions_taken,\n          performed_by_id: data.performed_by_id || request.user?.id,\n          performed_by_name: data.performed_by_name || `${request.user?.firstName} ${request.user?.lastName}`,\n          created_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Medication reconciliation created',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating medication reconciliation:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating medication reconciliation',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get medication reconciliation history for a patient\n   * GET /patients/:id/medication-reconciliation\n   */\n  async getMedicationReconciliationHistory(request, reply) {\n    try {\n      const { id } = request.params;\n      const { reconciliation_type, start_date, end_date } = request.query;\n      const patientId = parseInt(id);\n\n      let query = db\n        .select()\n        .from(medication_reconciliation)\n        .where(and(\n          eq(medication_reconciliation.patient_id, patientId),\n          isNull(medication_reconciliation.deleted_at)\n        ));\n\n      // Filter by type if provided\n      if (reconciliation_type) {\n        query = query.where(eq(medication_reconciliation.reconciliation_type, reconciliation_type));\n      }\n\n      // Filter by date range if provided\n      if (start_date) {\n        query = query.where(gte(medication_reconciliation.reconciliation_date, start_date));\n      }\n      if (end_date) {\n        query = query.where(lte(medication_reconciliation.reconciliation_date, end_date));\n      }\n\n      const results = await query.orderBy(desc(medication_reconciliation.reconciliation_date));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching medication reconciliation history:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching medication reconciliation history',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get a single medication reconciliation by ID\n   * GET /patients/:id/medication-reconciliation/:reconId\n   */\n  async getMedicationReconciliation(request, reply) {\n    try {\n      const { id, reconId } = request.params;\n\n      const result = await db\n        .select()\n        .from(medication_reconciliation)\n        .where(and(\n          eq(medication_reconciliation.id, parseInt(reconId)),\n          eq(medication_reconciliation.patient_id, parseInt(id)),\n          isNull(medication_reconciliation.deleted_at)\n        ))\n        .limit(1);\n\n      if (!result[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Medication reconciliation not found'\n        };\n      }\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error fetching medication reconciliation:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching medication reconciliation',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Compare home medications with current orders and generate reconciliation report\n   * POST /patients/:id/medication-reconciliation/compare\n   */\n  async compareMedications(request, reply) {\n    try {\n      const { id } = request.params;\n      const { home_medications } = request.body;\n      const patientId = parseInt(id);\n\n      if (!home_medications || !Array.isArray(home_medications)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'home_medications array is required'\n        };\n      }\n\n      // Get current active medications\n      const currentMedications = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.patient_id, patientId),\n          eq(medications.medication_status, 'ACTIVE'),\n          isNull(medications.deleted_at)\n        ));\n\n      const discrepancies = this.detectMedicationDiscrepancies(home_medications, currentMedications);\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          home_medications_count: home_medications.length,\n          current_medications_count: currentMedications.length,\n          discrepancies_count: discrepancies.length,\n          discrepancies,\n          current_medications: currentMedications.map(m => ({\n            id: m.id,\n            name: m.medication_name,\n            dosage: m.dosage,\n            frequency: m.frequency,\n            route: m.medication_route\n          }))\n        }\n      };\n    } catch (error) {\n      logger.error('Error comparing medications:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error comparing medications',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Detect discrepancies between home medications and current orders\n   * @param {Array} homeMeds - Array of home medication objects\n   * @param {Array} currentMeds - Array of current medication records\n   * @returns {Array} List of discrepancies found\n   */\n  detectMedicationDiscrepancies(homeMeds, currentMeds) {\n    const discrepancies = [];\n    const currentMedNames = currentMeds.map(m => m.medication_name.toLowerCase());\n    const homeMedNames = homeMeds.map(m => (m.medication_name || m.name || '').toLowerCase());\n\n    // Check for home medications not in current orders\n    for (const homeMed of homeMeds) {\n      const medName = (homeMed.medication_name || homeMed.name || '').toLowerCase();\n      if (!medName) continue;\n\n      const matchingCurrent = currentMeds.find(c =>\n        c.medication_name.toLowerCase().includes(medName) ||\n        medName.includes(c.medication_name.toLowerCase())\n      );\n\n      if (!matchingCurrent) {\n        discrepancies.push({\n          type: 'MISSING_FROM_CURRENT',\n          medication: homeMed.medication_name || homeMed.name,\n          description: 'Home medication not found in current orders',\n          home_medication: homeMed\n        });\n      } else {\n        // Check for dosage differences\n        const homeDosage = (homeMed.dosage || '').toLowerCase();\n        const currentDosage = (matchingCurrent.dosage || '').toLowerCase();\n        if (homeDosage && currentDosage && homeDosage !== currentDosage) {\n          discrepancies.push({\n            type: 'DOSAGE_DIFFERENCE',\n            medication: homeMed.medication_name || homeMed.name,\n            description: `Dosage difference: Home=${homeMed.dosage}, Current=${matchingCurrent.dosage}`,\n            home_medication: homeMed,\n            current_medication_id: matchingCurrent.id\n          });\n        }\n\n        // Check for frequency differences\n        const homeFreq = (homeMed.frequency || '').toLowerCase();\n        const currentFreq = (matchingCurrent.frequency || '').toLowerCase();\n        if (homeFreq && currentFreq && homeFreq !== currentFreq) {\n          discrepancies.push({\n            type: 'FREQUENCY_DIFFERENCE',\n            medication: homeMed.medication_name || homeMed.name,\n            description: `Frequency difference: Home=${homeMed.frequency}, Current=${matchingCurrent.frequency}`,\n            home_medication: homeMed,\n            current_medication_id: matchingCurrent.id\n          });\n        }\n      }\n    }\n\n    // Check for current medications not in home list\n    for (const currentMed of currentMeds) {\n      const medName = currentMed.medication_name.toLowerCase();\n      const matchingHome = homeMeds.find(h => {\n        const homeName = (h.medication_name || h.name || '').toLowerCase();\n        return medName.includes(homeName) || homeName.includes(medName);\n      });\n\n      if (!matchingHome) {\n        discrepancies.push({\n          type: 'NEW_MEDICATION',\n          medication: currentMed.medication_name,\n          description: 'Current order not found in home medication list',\n          current_medication_id: currentMed.id\n        });\n      }\n    }\n\n    return discrepancies;\n  }\n\n  /**\n   * Generate medication administration schedule for a patient\n   * GET /patients/:id/medications/schedule\n   */\n  async getMedicationSchedule(request, reply) {\n    try {\n      const { id } = request.params;\n      const { date } = request.query;\n      const patientId = parseInt(id);\n      const scheduleDate = date ? new Date(date) : new Date();\n\n      // Get active scheduled medications (not PRN)\n      const activeMeds = await db\n        .select()\n        .from(medications)\n        .where(and(\n          eq(medications.patient_id, patientId),\n          eq(medications.medication_status, 'ACTIVE'),\n          isNull(medications.deleted_at)\n        ));\n\n      const schedule = [];\n\n      for (const med of activeMeds) {\n        const times = this.generateAdministrationTimes(med.frequency, scheduleDate);\n        for (const time of times) {\n          schedule.push({\n            medication_id: med.id,\n            medication_name: med.medication_name,\n            dosage: med.dosage,\n            route: med.medication_route,\n            frequency: med.frequency,\n            scheduled_time: time,\n            is_prn: med.frequency === 'PRN',\n            instructions: med.instructions,\n            controlled_schedule: med.controlled_schedule\n          });\n        }\n      }\n\n      // Sort by scheduled time\n      schedule.sort((a, b) => new Date(a.scheduled_time) - new Date(b.scheduled_time));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: {\n          date: scheduleDate.toISOString().split('T')[0],\n          total_administrations: schedule.length,\n          schedule\n        }\n      };\n    } catch (error) {\n      logger.error('Error generating medication schedule:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error generating medication schedule',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Generate administration times based on frequency\n   * @param {string} frequency - Medication frequency\n   * @param {Date} date - Date for schedule\n   * @returns {Array} Array of ISO datetime strings\n   */\n  generateAdministrationTimes(frequency, date) {\n    const times = [];\n    const dateStr = date.toISOString().split('T')[0];\n\n    const frequencyMap = {\n      'ONCE': ['08:00'],\n      'DAILY': ['08:00'],\n      'BID': ['08:00', '20:00'],\n      'TID': ['08:00', '14:00', '20:00'],\n      'QID': ['06:00', '12:00', '18:00', '22:00'],\n      'Q4H': ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],\n      'Q6H': ['06:00', '12:00', '18:00', '00:00'],\n      'Q8H': ['06:00', '14:00', '22:00'],\n      'Q12H': ['08:00', '20:00'],\n      'PRN': [], // PRN medications don't have scheduled times\n      'WEEKLY': ['08:00'], // Only on the scheduled day\n      'MONTHLY': ['08:00'] // Only on the scheduled day\n    };\n\n    const hoursForFreq = frequencyMap[frequency?.toUpperCase()] || [];\n\n    for (const time of hoursForFreq) {\n      times.push(`${dateStr}T${time}:00.000Z`);\n    }\n\n    return times;\n  }\n\n  /**\n   * Get patient allergies\n   * GET /patients/:id/allergies\n   */\n  async getPatientAllergies(request, reply) {\n    try {\n      const { id } = request.params;\n      const { status, allergen_type } = request.query;\n      const patientId = parseInt(id);\n\n      let query = db\n        .select()\n        .from(patient_allergies)\n        .where(and(\n          eq(patient_allergies.patient_id, patientId),\n          isNull(patient_allergies.deleted_at)\n        ));\n\n      if (status) {\n        query = query.where(eq(patient_allergies.status, status));\n      }\n\n      if (allergen_type) {\n        query = query.where(eq(patient_allergies.allergen_type, allergen_type));\n      }\n\n      const results = await query.orderBy(desc(patient_allergies.createdAt));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching patient allergies:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching patient allergies',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Create patient allergy\n   * POST /patients/:id/allergies\n   */\n  async createPatientAllergy(request, reply) {\n    try {\n      const { id } = request.params;\n      const data = request.body;\n      const patientId = parseInt(id);\n\n      if (!data.allergen_name) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: 'allergen_name is required'\n        };\n      }\n\n      const validTypes = ['MEDICATION', 'FOOD', 'ENVIRONMENTAL', 'OTHER'];\n      if (data.allergen_type && !validTypes.includes(data.allergen_type)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid allergen type. Valid types: ${validTypes.join(', ')}`\n        };\n      }\n\n      const validSeverities = ['MILD', 'MODERATE', 'SEVERE', 'LIFE_THREATENING'];\n      if (data.reaction_severity && !validSeverities.includes(data.reaction_severity)) {\n        reply.code(400);\n        return {\n          status: 400,\n          message: `Invalid reaction severity. Valid severities: ${validSeverities.join(', ')}`\n        };\n      }\n\n      const result = await db\n        .insert(patient_allergies)\n        .values({\n          patient_id: patientId,\n          allergen_name: data.allergen_name,\n          allergen_type: data.allergen_type || 'OTHER',\n          allergen_code: data.allergen_code,\n          reaction_type: data.reaction_type,\n          reaction_severity: data.reaction_severity,\n          reaction_description: data.reaction_description,\n          status: 'ACTIVE',\n          onset_date: data.onset_date,\n          source: data.source || 'PATIENT_REPORTED',\n          created_by_id: request.user?.id,\n          updated_by_id: request.user?.id\n        })\n        .returning();\n\n      reply.code(201);\n      return {\n        status: 201,\n        message: 'Patient allergy created',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error creating patient allergy:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error creating patient allergy',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Update patient allergy\n   * PUT /patients/:id/allergies/:allergyId\n   */\n  async updatePatientAllergy(request, reply) {\n    try {\n      const { id, allergyId } = request.params;\n      const data = request.body;\n\n      const existing = await db\n        .select()\n        .from(patient_allergies)\n        .where(and(\n          eq(patient_allergies.id, parseInt(allergyId)),\n          eq(patient_allergies.patient_id, parseInt(id)),\n          isNull(patient_allergies.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Patient allergy not found'\n        };\n      }\n\n      const updateData = {\n        updatedAt: new Date(),\n        updated_by_id: request.user?.id\n      };\n\n      if (data.allergen_name !== undefined) updateData.allergen_name = data.allergen_name;\n      if (data.allergen_type !== undefined) updateData.allergen_type = data.allergen_type;\n      if (data.allergen_code !== undefined) updateData.allergen_code = data.allergen_code;\n      if (data.reaction_type !== undefined) updateData.reaction_type = data.reaction_type;\n      if (data.reaction_severity !== undefined) updateData.reaction_severity = data.reaction_severity;\n      if (data.reaction_description !== undefined) updateData.reaction_description = data.reaction_description;\n      if (data.status !== undefined) updateData.status = data.status;\n      if (data.onset_date !== undefined) updateData.onset_date = data.onset_date;\n      if (data.source !== undefined) updateData.source = data.source;\n\n      const result = await db\n        .update(patient_allergies)\n        .set(updateData)\n        .where(eq(patient_allergies.id, parseInt(allergyId)))\n        .returning();\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Patient allergy updated',\n        data: result[0]\n      };\n    } catch (error) {\n      logger.error('Error updating patient allergy:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error updating patient allergy',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Delete patient allergy (soft delete)\n   * DELETE /patients/:id/allergies/:allergyId\n   */\n  async deletePatientAllergy(request, reply) {\n    try {\n      const { id, allergyId } = request.params;\n\n      const existing = await db\n        .select()\n        .from(patient_allergies)\n        .where(and(\n          eq(patient_allergies.id, parseInt(allergyId)),\n          eq(patient_allergies.patient_id, parseInt(id)),\n          isNull(patient_allergies.deleted_at)\n        ))\n        .limit(1);\n\n      if (!existing[0]) {\n        reply.code(404);\n        return {\n          status: 404,\n          message: 'Patient allergy not found'\n        };\n      }\n\n      await db\n        .update(patient_allergies)\n        .set({\n          deleted_at: new Date(),\n          status: 'INACTIVE',\n          updated_by_id: request.user?.id,\n          updatedAt: new Date()\n        })\n        .where(eq(patient_allergies.id, parseInt(allergyId)));\n\n      reply.code(200);\n      return {\n        status: 200,\n        message: 'Patient allergy deleted'\n      };\n    } catch (error) {\n      logger.error('Error deleting patient allergy:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error deleting patient allergy',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n\n  /**\n   * Get controlled substance log for a patient\n   * GET /patients/:id/controlled-substances\n   */\n  async getControlledSubstanceLog(request, reply) {\n    try {\n      const { id } = request.params;\n      const { action, medication_id, start_date, end_date } = request.query;\n      const patientId = parseInt(id);\n\n      let query = db\n        .select()\n        .from(controlled_substance_log)\n        .where(and(\n          eq(controlled_substance_log.patient_id, patientId),\n          isNull(controlled_substance_log.deleted_at)\n        ));\n\n      if (action) {\n        query = query.where(eq(controlled_substance_log.action, action));\n      }\n\n      if (medication_id) {\n        query = query.where(eq(controlled_substance_log.medication_id, parseInt(medication_id)));\n      }\n\n      if (start_date) {\n        query = query.where(gte(controlled_substance_log.log_date, new Date(start_date)));\n      }\n\n      if (end_date) {\n        query = query.where(lte(controlled_substance_log.log_date, new Date(end_date)));\n      }\n\n      const results = await query.orderBy(desc(controlled_substance_log.log_date));\n\n      reply.code(200);\n      return {\n        status: 200,\n        data: results,\n        count: results.length\n      };\n    } catch (error) {\n      logger.error('Error fetching controlled substance log:', error);\n      reply.code(500);\n      return {\n        status: 500,\n        message: 'Error fetching controlled substance log',\n        error: process.env.NODE_ENV === 'development' ? error.message : undefined\n      };\n    }\n  }\n}\n\nexport default new MedicationController();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}