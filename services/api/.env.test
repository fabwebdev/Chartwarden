# Integration Test Environment Configuration
# Copy this file to .env.test and customize for your test environment

# Environment
NODE_ENV=test
LOG_LEVEL=silent

# Test Database Configuration
# Use a separate database for testing to avoid contaminating development data
DATABASE_URL_TEST=postgresql://chartwarden:chartwarden@localhost:5432/chartwarden_test

# Or if using the same connection, a _test suffix will be appended automatically
# DATABASE_URL=postgresql://user:password@localhost:5432/chartwarden

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# Authentication Configuration (Test)
JWT_SECRET=test-jwt-secret-for-testing-min-32-chars
JWT_EXPIRES_IN=1h
SESSION_TIMEOUT_MINUTES=5

# Better Auth Configuration (Test)
BETTER_AUTH_URL=http://localhost:3000
BETTER_AUTH_SECRET=test-better-auth-secret-change-in-production-min-32-chars

# CORS Configuration (Test)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Rate Limiting (Disabled for tests)
DISABLE_RATE_LIMIT=true

# Background Jobs (Disabled for tests)
ENABLE_SCHEDULER=false

# Redis (Optional - can use in-memory cache for tests)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=1

# Email Configuration (Test - use test email service)
MAIL_DRIVER=log
MAIL_FROM_ADDRESS=test@chartwarden.local
MAIL_FROM_NAME=Chartwarden Test

# File Storage (Test)
FILESYSTEM_DRIVER=local
FILESYSTEM_ROOT=./storage/test

# Encryption (Test)
ENCRYPTION_KEY=test-encryption-key-32-characters

# API Configuration
API_PORT=3001
API_HOST=localhost

# Feature Flags (Test)
ENABLE_WEBSOCKETS=false
ENABLE_APM=false
ENABLE_METRICS=false

# Logging (Test)
LOG_TO_FILE=false
LOG_TO_CONSOLE=true
LOG_PRETTY=false

# SSL/TLS (Disabled for local tests)
DB_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=false

# Test-specific settings
TEST_TIMEOUT=30000
TEST_MAX_WORKERS=1
