{
  "id": "reports-schema",
  "category": "Database",
  "title": "Reports Database Schema",
  "description": "Create Database Schema for Report Management System\n\nDesign and implement a comprehensive database schema to support storing report configurations, scheduling information, and generated report outputs.\n\nRequirements:\n\nSchema Components:\n- Report Configurations table: Store report definitions including name, description, query/logic, parameters, output format preferences, and ownership\n- Report Schedules table: Store scheduling information including frequency (one-time, daily, weekly, monthly), execution time, timezone, active/inactive status, and associated recipients\n- Generated Reports table: Store metadata about executed reports including execution timestamp, configuration used, parameters applied, output file path/URL, status (success/failed), execution duration, and file size\n- Relationships: Establish foreign key relationships between schedules → configurations and generated reports → configurations/schedules\n\nData Considerations:\n- Support versioning of report configurations to track changes over time\n- Include audit fields (created_at, updated_at, created_by, updated_by) across all tables\n- Handle report parameters as flexible JSON/JSONB fields to accommodate varying report types\n- Store recipient information (email addresses, user IDs) for scheduled report delivery\n- Track execution history with error messages for failed report generations\n- Consider indexing strategy for frequently queried fields (execution dates, report status, user ownership)\n\nEdge Cases:\n- Handle orphaned generated reports when configurations are deleted (soft delete vs cascade)\n- Support reports with no schedule (ad-hoc execution)\n- Allow multiple schedules per configuration\n- Store large report outputs (reference external storage vs inline storage)\n- Handle timezone conversions for scheduled executions\n\nDeliverables:\n- SQL migration scripts or ORM model definitions\n- Documentation of schema design decisions and relationships\n- Sample queries for common operations (fetch user's reports, get execution history, find failed reports)",
  "status": "verified",
  "priority": 2,
  "complexity": "moderate",
  "dependencies": [
    "postgresql-connection"
  ],
  "createdAt": "2025-12-31T05:55:26.259Z",
  "updatedAt": "2026-01-01T19:28:22.546Z",
  "skipTests": false,
  "model": "opus",
  "thinkingLevel": "none",
  "imagePaths": [],
  "textFilePaths": [],
  "branchName": "main",
  "planningMode": "skip",
  "requirePlanApproval": false,
  "startedAt": "2026-01-01T19:17:39.919Z"
}