{
  "id": "encounter-controller",
  "category": "API",
  "title": "Encounter CRUD Controller",
  "description": "Implement Encounter Management Controller with CRUD Operations and Authorization\n\nCreate a complete controller module for managing medical encounters with full CRUD functionality and role-based access control.\n\nRequirements:\n- Implement Create operation:\n  - Accept encounter data (patient ID, provider ID, date, type, notes, etc.)\n  - Validate required fields and data formats\n  - Generate unique encounter ID\n  - Return created encounter with confirmation\n\n- Implement Read operations:\n  - Get single encounter by ID\n  - List encounters with filtering (by patient, provider, date range, status)\n  - Support pagination and sorting for list views\n  - Return appropriate 404 when encounter not found\n\n- Implement Update operation:\n  - Allow partial updates to encounter fields\n  - Validate updated data\n  - Prevent updates to immutable fields (e.g., creation date, ID)\n  - Track modification timestamp and user\n\n- Implement Delete operation:\n  - Support soft delete (mark as inactive) or hard delete based on policy\n  - Verify no dependent records exist before deletion\n  - Return appropriate confirmation\n\n- Authorization and Security:\n  - Verify user authentication on all endpoints\n  - Implement role-based permissions (e.g., providers can create/update, admins can delete)\n  - Ensure users can only access encounters they're authorized to view\n  - Validate patient-provider relationships\n  - Log all access attempts for audit trail\n\n- Error Handling:\n  - Return appropriate HTTP status codes (200, 201, 400, 401, 403, 404, 500)\n  - Provide clear error messages\n  - Handle concurrent modification conflicts\n\n- Testing Considerations:\n  - Unit tests for each CRUD operation\n  - Authorization test cases for each role\n  - Edge cases (invalid IDs, unauthorized access, missing data)",
  "status": "verified",
  "priority": 1,
  "complexity": "moderate",
  "dependencies": [
    "encounter-schema",
    "casl-authorization"
  ],
  "createdAt": "2025-12-31T05:55:26.241Z",
  "updatedAt": "2026-01-01T00:34:45.272Z",
  "skipTests": false,
  "model": "opus",
  "thinkingLevel": "none",
  "imagePaths": [],
  "textFilePaths": [],
  "branchName": "main",
  "planningMode": "skip",
  "requirePlanApproval": false,
  "startedAt": "2026-01-01T00:23:11.267Z"
}